---
url: /engineering/security.md
---
# Web 安全

Web 安全是保护网站和 Web 应用程序免受恶意攻击的一系列技术和实践。它涉及数据保密性、完整性和可用性的保障，是现代 Web 开发的基石，直接影响用户信任和业务连续性。

## 什么是 Web 安全？

Web 安全是通过技术手段保护 Web 应用免受恶意攻击，确保用户数据和系统资源的安全。

```
安全威胁模型:
[攻击者] -> [利用漏洞] -> [Web应用] -> [数据泄露/服务中断]
     |           |           |               |
 恶意用户     安全缺陷     业务系统       严重后果
```

## 常见安全威胁

### 注入攻击

恶意代码被注入到系统中执行。

```
SQL注入原理:
[用户输入] -> [拼接SQL] -> [执行恶意查询] -> [数据泄露]
     |           |           |               |
 ' OR '1'='1   未过滤     查询所有数据     敏感信息暴露
```

### 跨站脚本攻击 (XSS)

恶意脚本在用户浏览器中执行。

```
XSS攻击流程:
[正常网站] -> [注入恶意脚本] -> [用户访问] -> [脚本执行] -> [信息窃取]
      |             |             |           |           |
   存在漏洞       评论/输入       浏览页面   浏览器执行    Cookie盗取
```

### 跨站请求伪造 (CSRF)

利用用户已登录的身份执行未经授权的操作。

```
CSRF攻击过程:
[用户登录银行] -> [访问恶意网站] -> [自动提交转账请求] -> [银行执行]
       |               |                 |               |
   保持登录状态      隐藏表单提交       携带用户Cookie    资金损失
```

## 前端安全防护

### 输入验证与过滤

对所有用户输入进行严格验证。

```
输入防护策略:
[用户输入] -> [白名单验证] -> [转义处理] -> [安全使用]
      |           |           |           |
 不可信数据    允许的格式   特殊字符转义   防止注入
```

### 内容安全策略 (CSP)

通过 HTTP 头控制资源加载。

```
CSP工作机制:
[浏览器] -> [解析CSP头] -> [限制资源加载] -> [阻止恶意请求]
      |           |               |               |
  接收策略     白名单规则       只允许信任源      XSS防护
```

### 安全的 Cookie 设置

合理配置 Cookie 属性防止被盗用。

```
安全Cookie配置:
[Set-Cookie] -> [HttpOnly] -> [Secure] -> [SameSite]
       |           |           |           |
   设置Cookie   禁止JS访问   仅HTTPS传输   控制跨站请求
```

## 身份认证安全

### 密码安全

安全地存储和验证用户密码。

```
密码处理流程:
[用户密码] -> [加盐哈希] -> [安全存储] -> [验证时哈希对比]
      |           |           |           |
  明文输入     单向加密     数据库存储     不存储明文
```

### 会话管理

安全地管理用户登录状态。

```
会话安全:
[用户登录] -> [生成随机令牌] -> [安全传输] -> [定期更新]
      |           |               |           |
  身份验证     唯一标识符       HTTPS       防止固定攻击
```

## 数据传输安全

### HTTPS 加密

保护数据传输过程中的安全性。

```
HTTPS保护:
[HTTP明文] -> [TLS加密] -> [安全传输] -> [解密使用]
      |           |           |           |
  易被窃听     端到端加密     中间人防护     数据完整
```

### 安全头部配置

通过 HTTP 安全头增强防护。

```
安全头部集合:
Content-Security-Policy: 限制资源加载
X-Content-Type-Options:  防止MIME类型嗅探
X-Frame-Options:         防止点击劫持
Strict-Transport-Security: 强制HTTPS
```

## 第三方依赖安全

### 依赖漏洞管理

监控和更新第三方库的安全漏洞。

```
依赖安全流程:
[项目依赖] -> [漏洞扫描] -> [风险评估] -> [安全更新]
      |           |           |           |
 第三方库       自动化工具   修复优先级   及时升级
```

### 供应链安全

确保整个软件供应链的安全性。

```
供应链防护:
[代码仓库] -> [CI/CD管道] -> [依赖验证] -> [部署环境]
      |           |           |           |
  访问控制     安全扫描     完整性检查     环境隔离
```

## 安全开发实践

### 安全编码规范

在开发过程中融入安全考虑。

```
安全开发生命周期:
[需求分析] -> [设计评审] -> [安全编码] -> [安全测试] -> [部署监控]
      |           |           |           |           |
 安全需求     架构安全     代码审查     渗透测试     运行时保护
```

### 安全测试

通过自动化工具发现安全漏洞。

```
安全测试体系:
[静态分析] -> [动态扫描] -> [依赖检查] -> [渗透测试]
      |           |           |           |
 代码扫描     运行时检测   漏洞数据库     模拟攻击
```

## 客户端安全防护

### 前端加密

在客户端对敏感数据进行保护。

```
前端加密应用:
[敏感数据] -> [客户端加密] -> [传输] -> [服务端解密]
      |           |           |           |
  用户输入      JS加密      密文传输     安全处理
```

### 安全存储

安全地在客户端存储数据。

```
客户端存储安全:
[敏感数据] -> [加密存储] -> [访问控制] -> [定期清理]
      |           |           |           |
 本地存储      防止读取      权限验证     数据时效
```

## API 安全

### 接口防护

保护 Web API 免受恶意调用。

```
API安全措施:
[身份验证] -> [权限控制] -> [频率限制] -> [输入验证] -> [输出过滤]
      |           |           |           |           |
  Token验证    角色权限     防暴力破解   参数检查     数据脱敏
```

### 数据脱敏

保护敏感信息不被泄露。

```
脱敏策略:
[原始数据] -> [脱敏处理] -> [安全展示] -> [日志记录]
      |           |           |           |
 身份证号     310***1990    部分隐藏     脱敏存储
```

## 应急响应

### 安全监控

实时检测和响应安全事件。

```
监控响应流程:
[日志收集] -> [异常检测] -> [告警通知] -> [应急响应] -> [修复恢复]
      |           |           |           |           |
 行为记录     模式识别     及时通知     处置攻击     系统恢复
```

### 漏洞管理

系统化地处理安全漏洞。

```
漏洞管理周期:
[发现报告] -> [分析评估] -> [修复验证] -> [知识沉淀]
      |           |           |           |
 内部/外部     影响范围     补丁测试     经验总结
```

## 安全意识

### 团队培训

提升开发团队的安全意识和技能。

```
安全能力建设:
[安全意识] -> [技能培训] -> [实践指导] -> [持续学习]
      |           |           |           |
 风险认知     技术培训     代码示例     知识更新
```

### 安全文化

将安全融入团队文化和流程。

```
安全文化培养:
[领导重视] -> [流程嵌入] -> [工具支持] -> [全员参与]
      |           |           |           |
 资源投入     开发规范     自动化工具     共同责任
```

## 合规与标准

### 安全标准遵循

遵循行业安全标准和法规要求。

```
安全标准框架:
[OWASP指南] -> [GDPR合规] -> [等级保护] -> [行业规范]
      |           |           |           |
 技术最佳实践   数据隐私     国家标准     特定要求
```

### 安全审计

定期进行安全评估和审计。

```
审计流程:
[范围确定] -> [漏洞扫描] -> [手动测试] -> [报告输出] -> [整改跟踪]
      |           |           |           |           |
 评估目标     工具检测     深度验证     问题清单     修复验证
```
