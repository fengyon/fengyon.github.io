<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Electron 集成 WebAssembly | HookAll</title>
    <meta name="description" content="HookAll - 互联网开发文档">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.CHFsYRlE.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BmaY4put.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.Cj59DtCS.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CMLuPXeo.js">
    <link rel="modulepreload" href="/assets/special_electron_wasm.md.DepT40i4.lean.js">
    <link rel="icon" href="/logo.svg">
    <meta name="theme-color" content="#3c8772">
    <meta property="og:url" content="https://hookall.pages.dev/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="HookAll">
    <meta property="og:description" content="HookAll - 互联网开发文档">
    <meta property="og:image" content="https://hookall.pages.dev/logo.svg">
    <script>(function(e,r,t,i,a,n,s){e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},n=r.createElement(i),n.async=1,n.src="https://www.clarity.ms/tag/"+a,s=r.getElementsByTagName(i)[0],s.parentNode.insertBefore(n,s)})(window,document,"clarity","script","tqgjzzg3pl");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
  </head>
  <body>
    <div id="app"><div class="VPApp" data-v-bdc9e4dd><!--[--><span tabindex="-1" data-v-253bc703></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-253bc703>直接跳到内容</a><!--]--><!----><!--[--><!--]--><header class="VPNav nav-bar" data-v-bdc9e4dd data-v-d3f4e1f2><div class="VPNavBar" data-v-d3f4e1f2 data-v-1f286e4c><div class="container" data-v-1f286e4c><a class="VPNavBarTitle" href="/" data-v-1f286e4c data-v-b886668e><!--[--><!--[--><!--[--><!--[--><!--[--><svg class="logo" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" data-v-56c444e4><line x1="2" y1="2" x2="18" y2="2" stroke="#42d392" stroke-width="2" stroke-linecap="round" data-v-56c444e4></line><line x1="2" y1="9" x2="9" y2="9" stroke="#2d8cff" stroke-width="0.5" stroke-linecap="round" data-v-56c444e4></line><line x1="2" y1="18" x2="14" y2="18" stroke="#2d8cff" stroke-width="0.5" stroke-linecap="round" data-v-56c444e4></line></svg><span class="text" data-v-56c444e4>HookAll</span><!--]--><!--]--><!--]--><!--]--><!--]--></a><div class="content" data-v-1f286e4c><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1f286e4c data-v-909c5905><span id="main-nav-aria-label" class="visually-hidden" data-v-909c5905>主导航</span><!--[--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">基础 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/basic/necessary/internet.html"><!--[-->必备<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/html/intro.html"><!--[-->html<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/css/basic.html"><!--[-->css<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/javascript/basic/introduction.html"><!--[-->javascript<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/es6/intro.html"><!--[-->es6<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/typescript/intro.html"><!--[-->typescript<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/git/intro.html"><!--[-->git<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/dom/intro.html"><!--[-->DOM<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/bom/engine.html"><!--[-->BOM<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/node/intro.html"><!--[-->node<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/basic/algorithm/intro.html"><!--[-->算法<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">框架 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/framework/react/intro.html"><!--[-->React<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/vue/intro.html"><!--[-->Vue<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/nextjs/start.html"><!--[-->nextjs<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/umijs/start.html"><!--[-->umijs<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/nuxtjs/start.html"><!--[-->nuxtjs<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/vue2/intro.html"><!--[-->Vue 2 (EOL)<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/framework/angular/start.html"><!--[-->Angular<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">工程化 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/intro.html"><!--[-->概述<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/package-manager/npm.html"><!--[-->包管理<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/architecture/module.html"><!--[-->架构<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/build/vite.html"><!--[-->构建工具<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/coding/rule.html"><!--[-->代码质量<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/performance/why.html"><!--[-->性能优化<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/seo/basic.html"><!--[-->SEO<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/engineering/accessible/intro.html"><!--[-->无障碍<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">全栈 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/full-stack/network/http.html"><!--[-->网络基础<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/full-stack/framework/node.html"><!--[-->node 后端<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/full-stack/serverless/intro.html"><!--[-->Serverless<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/full-stack/database/intro.html"><!--[-->数据库<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/full-stack/operation/linux.html"><!--[-->运维<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">Web 3D <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/basic/basic.html"><!--[-->基础<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/theory/principle.html"><!--[-->核心原理<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/webgl/basic.html"><!--[-->WebGL<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/webgpu/start.html"><!--[-->WebGPU<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/threejs/basic.html"><!--[-->three.js<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/webxr/basic.html"><!--[-->WebXR<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/web-3d/performance/rendering.html"><!--[-->性能优化<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup active" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">专项 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/special/mobile/basic/intro.html"><!--[-->移动端<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/special/electron/intro.html"><!--[-->Electron<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/special/cli/intro.html"><!--[-->命令行开发<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/special/security/intro.html"><!--[-->Web 安全<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-909c5905 data-v-0fad18bb><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">前沿 <!----><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/leading/webassembly/basic.html"><!--[-->WebAssembly<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/leading/ai-web/intro.html"><!--[-->AI &amp; Web<!--]--><!----><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/leading/web3/intro.html"><!--[-->Web3<!--]--><!----><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--><!----></nav><div class="VPNavBarAppearance appearance" data-v-1f286e4c data-v-cab51a30><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="切换深色模式" aria-checked="false" data-v-cab51a30><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="vt-social-links VPNavBarSocialLinks social-links" data-v-1f286e4c data-v-481df3e1><!--[--><a class="vt-social-link is-small" href="https://github.com/fengyon/blog" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><!--]--></div><div class="vt-flyout VPNavBarExtra extra" data-v-1f286e4c data-v-99812400><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-icon"><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><!----><!--[--><!--[--><div class="vt-menu-group" data-v-99812400><div class="vt-menu-item item" data-v-99812400><p class="vt-menu-label" data-v-99812400>外观</p><div class="vt-menu-action action" data-v-99812400><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="切换深色模式" aria-checked="false" data-v-99812400><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="vt-menu-group" data-v-99812400><div class="vt-menu-item item" data-v-99812400><div class="vt-social-links social-links" data-v-99812400><!--[--><a class="vt-social-link is-small" href="https://github.com/fengyon/blog" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="vt-hamburger VPNavBarHamburger hamburger" aria-label="移动版导航" aria-expanded="false" aria-controls="VPNavScreen" data-v-1f286e4c data-v-4d1904bd><span class="vt-hamburger-container"><span class="vt-hamburger-top"></span><span class="vt-hamburger-middle"></span><span class="vt-hamburger-bottom"></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-bdc9e4dd data-v-4cb581e5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-4cb581e5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-4cb581e5><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-4cb581e5>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vt-vh:0px;" data-v-4cb581e5 data-v-361e9e59><button class="" data-v-361e9e59>本页目录 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-361e9e59><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div></div><aside class="VPSidebar" data-v-bdc9e4dd data-v-bef79519><nav id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-bef79519><!--[--><!--]--><span id="sidebar-aria-label" class="visually-hidden" data-v-bef79519>侧边栏导航</span><!--[--><div class="group" data-v-bef79519><section class="VPSidebarGroup" data-v-bef79519 data-v-4b2c50b0><div class="title" data-v-4b2c50b0><h2 class="title-text" data-v-4b2c50b0>移动端<!----></h2></div><!--[--><a class="link" href="/special/mobile/basic/intro.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>移动端开发概述<!----></p></a><a class="link" href="/special/mobile/basic/viewport.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>视窗与分辨率<!----></p></a><a class="link" href="/special/mobile/basic/touch-events.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>触摸事件<!----></p></a><a class="link" href="/special/mobile/framework/react-native.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>React Native<!----></p></a><a class="link" href="/special/mobile/framework/flutter.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Flutter<!----></p></a><a class="link" href="/special/mobile/framework/weex.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Weex<!----></p></a><a class="link" href="/special/mobile/web/responsive.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>响应式设计<!----></p></a><a class="link" href="/special/mobile/web/pwa.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>PWA<!----></p></a><a class="link" href="/special/mobile/web/hybrid.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>混合开发<!----></p></a><a class="link" href="/special/mobile/applet/wechat.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>微信小程序<!----></p></a><a class="link" href="/special/mobile/applet/alipay.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>支付宝小程序<!----></p></a><a class="link" href="/special/mobile/applet/cross-platform.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>跨端开发<!----></p></a><a class="link" href="/special/mobile/publish/debug.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>移动端调试<!----></p></a><a class="link" href="/special/mobile/publish/publish.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>应用商店发布<!----></p></a><a class="link" href="/special/mobile/publish/hot-update.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>热更新<!----></p></a><!--]--></section></div><div class="group" data-v-bef79519><section class="VPSidebarGroup" data-v-bef79519 data-v-4b2c50b0><div class="title" data-v-4b2c50b0><h2 class="active title-text" data-v-4b2c50b0>Electron<!----></h2></div><!--[--><a class="link" href="/special/electron/intro.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 简介<!----></p></a><a class="link" href="/special/electron/start.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 快速开始<!----></p></a><a class="link" href="/special/electron/electron-vite.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>electron-vite<!----></p></a><a class="link" href="/special/electron/process-model.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 进程模型<!----></p></a><a class="link" href="/special/electron/main-process.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 主进程<!----></p></a><a class="link" href="/special/electron/renderer-process.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 渲染进程<!----></p></a><a class="link" href="/special/electron/ipc.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 进程通信<!----></p></a><a class="link" href="/special/electron/browser-window.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron BrowserWindow<!----></p></a><a class="link" href="/special/electron/node-integration.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron Node<!----></p></a><a class="link" href="/special/electron/security.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 安全<!----></p></a><a class="link" href="/special/electron/system.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 系统功能开发<!----></p></a><a class="link" href="/special/electron/hardware.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 硬件功能开发<!----></p></a><a class="link" href="/special/electron/ui-framework.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 集成前端框架<!----></p></a><a class="link" href="/special/electron/debug.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 调试<!----></p></a><a class="link" href="/special/electron/log.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 日志系统<!----></p></a><a class="link" href="/special/electron/performance.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 性能优化<!----></p></a><a class="link" href="/special/electron/build.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 打包<!----></p></a><a class="link" href="/special/electron/publish.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 发布与更新<!----></p></a><a class="link" href="/special/electron/native.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 集成 C++/Rust/NAPI<!----></p></a><a class="link" href="/special/electron/wasm.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 集成 WebAssembly<!----></p></a><a class="link" href="/special/electron/scripts.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Electron 运行 Python/Go/Java<!----></p></a><!--]--></section></div><div class="group" data-v-bef79519><section class="VPSidebarGroup" data-v-bef79519 data-v-4b2c50b0><div class="title" data-v-4b2c50b0><h2 class="title-text" data-v-4b2c50b0>命令行开发<!----></h2></div><!--[--><a class="link" href="/special/cli/intro.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>简介<!----></p></a><a class="link" href="/special/cli/run.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>脚本与命令<!----></p></a><a class="link" href="/special/cli/args.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>参数处理<!----></p></a><a class="link" href="/special/cli/config.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>配置管理<!----></p></a><a class="link" href="/special/cli/input.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>输入<!----></p></a><a class="link" href="/special/cli/output.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>输出与美化<!----></p></a><a class="link" href="/special/cli/progress.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>进程控制<!----></p></a><a class="link" href="/special/cli/log.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>日志系统<!----></p></a><a class="link" href="/special/cli/cross-platform.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>跨平台兼容<!----></p></a><a class="link" href="/special/cli/test.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>测试<!----></p></a><a class="link" href="/special/cli/build.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>构建<!----></p></a><a class="link" href="/special/cli/publish.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>发布<!----></p></a><!--]--></section></div><div class="group" data-v-bef79519><section class="VPSidebarGroup" data-v-bef79519 data-v-4b2c50b0><div class="title" data-v-4b2c50b0><h2 class="title-text" data-v-4b2c50b0>Web 安全<!----></h2></div><!--[--><a class="link" href="/special/security/intro.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>Web 安全简介<!----></p></a><a class="link" href="/special/security/owasp-top10.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>OWASP Top 10 概述<!----></p></a><a class="link" href="/special/security/attacks.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>常见 Web 攻击与防护<!----></p></a><a class="link" href="/special/security/browser-model.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>浏览器安全模型<!----></p></a><a class="link" href="/special/security/sourcemap.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>前端代码混淆<!----></p></a><a class="link" href="/special/security/authority.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>认证与授权<!----></p></a><a class="link" href="/special/security/backend.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>后端安全实践<!----></p></a><a class="link" href="/special/security/waf.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>防火墙<!----></p></a><a class="link" href="/special/security/api-security.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>API 安全<!----></p></a><a class="link" href="/special/security/ddos.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>DDoS 防护<!----></p></a><a class="link" href="/special/security/cloud-iam.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>云安全与权限管理（IAM）<!----></p></a><a class="link" href="/special/security/pentest.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>渗透测试基础<!----></p></a><a class="link" href="/special/security/tools.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>安全测试工具<!----></p></a><a class="link" href="/special/security/scanning.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>漏洞扫描与依赖审计<!----></p></a><a class="link" href="/special/security/log-analysis.html" data-v-4b2c50b0 data-v-7c18070f><p class="link-text" data-v-7c18070f>安全日志分析<!----></p></a><!--]--></section></div><!--]--><!--[--><!--]--></nav></aside><div id="VPContent" class="VPContent has-sidebar" data-v-bdc9e4dd data-v-b3f4c16a><div class="VPContentDoc has-aside has-sidebar" data-v-b3f4c16a data-v-e88e19fb><div class="container" data-v-e88e19fb><div class="aside" data-v-e88e19fb><div class="aside-container" data-v-e88e19fb><!--[--><!--]--><div class="VPContentDocOutline" data-v-e88e19fb data-v-f4a33160><div class="outline-marker" data-v-f4a33160></div><div class="outline-title" data-v-f4a33160>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-f4a33160><span id="doc-outline-aria-label" class="visually-hidden" data-v-f4a33160>当前页面的目录</span><ul class="root" data-v-f4a33160 data-v-4065238d><!--[--><li data-v-4065238d><a class="outline-link" href="#集成概述" style="" data-v-4065238d>集成概述</a><!----></li><li data-v-4065238d><a class="outline-link" href="#webassembly-基础与工具链" style="" data-v-4065238d>WebAssembly 基础与工具链</a><!----></li><li data-v-4065238d><a class="outline-link" href="#electron-中的-webassembly-集成" style="" data-v-4065238d>Electron 中的 WebAssembly 集成</a><!----></li><li data-v-4065238d><a class="outline-link" href="#高级-webassembly-功能" style="" data-v-4065238d>高级 WebAssembly 功能</a><!----></li><li data-v-4065238d><a class="outline-link" href="#实际应用场景" style="" data-v-4065238d>实际应用场景</a><!----></li><li data-v-4065238d><a class="outline-link" href="#性能监控与调试" style="" data-v-4065238d>性能监控与调试</a><!----></li><!--]--></ul></nav></div><!--[--><!--]--><!----><!--[--><!--]--></div></div><div class="content" data-v-e88e19fb><!--[--><!--]--><main data-v-e88e19fb><div style="position:relative;" class="vt-doc special" data-v-e88e19fb><div><div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /special/electron/wasm.md for this page in Markdown format</div><h1 id="electron-集成-webassembly" tabindex="-1">Electron 集成 WebAssembly <a class="header-anchor" href="#electron-集成-webassembly" aria-label="Permalink to &quot;Electron 集成 WebAssembly&quot;">​</a></h1><h2 id="集成概述" tabindex="-1">集成概述 <a class="header-anchor" href="#集成概述" aria-label="Permalink to &quot;集成概述&quot;">​</a></h2><p>Electron 与 WebAssembly 的集成将 Web 技术的<strong>快速开发能力</strong>与原生代码的<strong>高性能特性</strong>完美结合。这种集成模式允许开发者在 Electron 的渲染进程和主进程中直接调用编译为 WebAssembly 的 C/C++、Rust 或其他语言代码，实现对计算密集型任务、现有原生库和硬件加速功能的深度集成。</p><p>集成架构的核心在于通过 <strong>WebAssembly 运行时</strong>建立 JavaScript 与原生编译代码之间的高效执行环境：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Electron 应用 (JavaScript/TypeScript)</span></span>
<span class="line"><span>    ↑↓ WebAssembly JavaScript API</span></span>
<span class="line"><span>WebAssembly 运行时 (WASM 模块)</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>编译后的原生代码 (C/C++/Rust)</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>系统资源 (计算/内存/算法)</span></span></code></pre></div><h2 id="webassembly-基础与工具链" tabindex="-1">WebAssembly 基础与工具链 <a class="header-anchor" href="#webassembly-基础与工具链" aria-label="Permalink to &quot;WebAssembly 基础与工具链&quot;">​</a></h2><h3 id="webassembly-架构解析" tabindex="-1">WebAssembly 架构解析 <a class="header-anchor" href="#webassembly-架构解析" aria-label="Permalink to &quot;WebAssembly 架构解析&quot;">​</a></h3><p>WebAssembly 是一种<strong>可移植、体积小、加载快</strong>的二进制指令格式，为 Electron 应用提供了接近原生代码的执行性能。与传统的 JavaScript 相比，WebAssembly 在计算密集型任务上具有显著优势。</p><p><strong>WebAssembly 在 Electron 中的执行流程：</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>源代码 (C/C++/Rust) → Emscripten 编译 → WASM 模块 + JavaScript 胶水代码</span></span>
<span class="line"><span>                                                      ↓</span></span>
<span class="line"><span>                                                Electron 加载执行</span></span>
<span class="line"><span>                                                      ↓</span></span>
<span class="line"><span>                                           JavaScript 与 WASM 交互</span></span></code></pre></div><h3 id="emscripten-工具链配置" tabindex="-1">Emscripten 工具链配置 <a class="header-anchor" href="#emscripten-工具链配置" aria-label="Permalink to &quot;Emscripten 工具链配置&quot;">​</a></h3><p>Emscripten 是将 C/C++ 代码编译为 WebAssembly 的核心工具链。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// scripts/emscripten-setup.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { execSync } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;child_process&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { existsSync, mkdirSync } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;fs&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> EmscriptenSetup</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">checkPrerequisites</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  checkPrerequisites</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> prerequisites</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;Emscripten&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">checkCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;emcc --version&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;Python&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">checkCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;python --version&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;Git&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">checkCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;git --version&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> missing</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">(prerequisites)</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">filter</span><span style="color:#E1E4E8;">(([, </span><span style="color:#FFAB70;">exists</span><span style="color:#E1E4E8;">]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> !</span><span style="color:#E1E4E8;">exists)</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">(([</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> name)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (missing.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> &gt;</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`缺少必要的开发环境: ${</span><span style="color:#E1E4E8;">missing</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">join</span><span style="color:#9ECBFF;">(</span><span style="color:#9ECBFF;">&#39;, &#39;</span><span style="color:#9ECBFF;">)</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  checkCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">command</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">      execSync</span><span style="color:#E1E4E8;">(command, { stdio: </span><span style="color:#9ECBFF;">&#39;ignore&#39;</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#79B8FF;"> true</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> compileCToWasm</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">sourceFile</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">outputName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">options</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {}) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> defaultOptions</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      optimization: </span><span style="color:#9ECBFF;">&#39;-O2&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      wasm: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      modularize: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      exportFunctions: [</span><span style="color:#9ECBFF;">&#39;_malloc&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;_free&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      memoryModel: </span><span style="color:#9ECBFF;">&#39;MAXIMUM_MEMORY=512MB&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> mergedOptions</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">defaultOptions, </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">options }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> command</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;emcc&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      sourceFile,</span></span>
<span class="line"><span style="color:#9ECBFF;">      `-o ${</span><span style="color:#E1E4E8;">outputName</span><span style="color:#9ECBFF;">}.js`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      `-s ${</span><span style="color:#E1E4E8;">mergedOptions</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">memoryModel</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      mergedOptions.optimization,</span></span>
<span class="line"><span style="color:#E1E4E8;">      mergedOptions.wasm </span><span style="color:#F97583;">?</span><span style="color:#9ECBFF;"> &#39;-s WASM=1&#39;</span><span style="color:#F97583;"> :</span><span style="color:#9ECBFF;"> &#39;&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      mergedOptions.modularize </span><span style="color:#F97583;">?</span><span style="color:#9ECBFF;"> &#39;-s MODULARIZE=1&#39;</span><span style="color:#F97583;"> :</span><span style="color:#9ECBFF;"> &#39;&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      `-s EXPORTED_FUNCTIONS=&quot;[${</span><span style="color:#E1E4E8;">mergedOptions</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">exportFunctions</span></span>
<span class="line"><span style="color:#9ECBFF;">        .</span><span style="color:#B392F0;">map</span><span style="color:#9ECBFF;">((</span><span style="color:#79B8FF;">f</span><span style="color:#9ECBFF;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> `&#39;${</span><span style="color:#E1E4E8;">f</span><span style="color:#9ECBFF;">}&#39;`</span><span style="color:#9ECBFF;">)</span></span>
<span class="line"><span style="color:#9ECBFF;">        .</span><span style="color:#B392F0;">join</span><span style="color:#9ECBFF;">(</span><span style="color:#9ECBFF;">&#39;,&#39;</span><span style="color:#9ECBFF;">)</span><span style="color:#9ECBFF;">}]&quot;`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      &quot;-s EXPORTED_RUNTIME_METHODS=</span><span style="color:#79B8FF;">\&quot;</span><span style="color:#9ECBFF;">[&#39;ccall&#39;, &#39;cwrap&#39;]</span><span style="color:#79B8FF;">\&quot;</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    ]</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">filter</span><span style="color:#E1E4E8;">(Boolean)</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39; &#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`🔨 编译 ${</span><span style="color:#E1E4E8;">sourceFile</span><span style="color:#9ECBFF;">} 为 WebAssembly...`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">      execSync</span><span style="color:#E1E4E8;">(command, { stdio: </span><span style="color:#9ECBFF;">&#39;inherit&#39;</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;✅ WebAssembly 编译成功&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;❌ 编译失败:&#39;</span><span style="color:#E1E4E8;">, error.message)</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> const</span><span style="color:#79B8FF;"> emscriptenSetup</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> EmscriptenSetup</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h3 id="基础-c-c-模块开发" tabindex="-1">基础 C/C++ 模块开发 <a class="header-anchor" href="#基础-c-c-模块开发" aria-label="Permalink to &quot;基础 C/C++ 模块开发&quot;">​</a></h3><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// wasm-modules/src/core-calculations.cpp</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;emscripten.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;emscripten/bind.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;cmath&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;vector&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 高性能数学计算函数</span></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#9ECBFF;"> &quot;C&quot;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  EMSCRIPTEN_KEEPALIVE</span></span>
<span class="line"><span style="color:#F97583;">  double</span><span style="color:#B392F0;"> calculate_distance</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">double</span><span style="color:#FFAB70;"> x1</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#FFAB70;"> y1</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#FFAB70;"> x2</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">double</span><span style="color:#FFAB70;"> y2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">sqrt</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">pow</span><span style="color:#E1E4E8;">(x2 </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> x1, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">pow</span><span style="color:#E1E4E8;">(y2 </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> y1, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  EMSCRIPTEN_KEEPALIVE</span></span>
<span class="line"><span style="color:#F97583;">  int*</span><span style="color:#B392F0;"> fibonacci_sequence</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#FFAB70;"> n</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (n </span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">return</span><span style="color:#79B8FF;"> nullptr</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    int*</span><span style="color:#E1E4E8;"> sequence </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(n </span><span style="color:#F97583;">*</span><span style="color:#F97583;"> sizeof</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (sequence </span><span style="color:#F97583;">==</span><span style="color:#79B8FF;"> nullptr</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">return</span><span style="color:#79B8FF;"> nullptr</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (n </span><span style="color:#F97583;">&gt;=</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">) sequence[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (n </span><span style="color:#F97583;">&gt;=</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">) sequence[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> n; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      sequence[i] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> sequence[i </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> sequence[i </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> sequence;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  EMSCRIPTEN_KEEPALIVE</span></span>
<span class="line"><span style="color:#F97583;">  void</span><span style="color:#B392F0;"> free_memory</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void*</span><span style="color:#FFAB70;"> pointer</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#B392F0;">    free</span><span style="color:#E1E4E8;">(pointer);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 使用 emscripten::bind 进行 C++ 类导出</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> MatrixCalculator</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">private:</span></span>
<span class="line"><span style="color:#B392F0;">  std</span><span style="color:#E1E4E8;">::vector</span><span style="color:#F97583;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::vector</span><span style="color:#F97583;">&lt;double&gt;&gt;</span><span style="color:#E1E4E8;"> data;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public:</span></span>
<span class="line"><span style="color:#B392F0;">  MatrixCalculator</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;">&gt;&gt;</span><span style="color:#F97583;">&amp;</span><span style="color:#FFAB70;"> input</span><span style="color:#E1E4E8;">) : </span><span style="color:#B392F0;">data</span><span style="color:#E1E4E8;">(input) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#B392F0;">multiply</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;">&gt;&gt;</span><span style="color:#F97583;">&amp;</span><span style="color:#FFAB70;"> other</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    size_t</span><span style="color:#E1E4E8;"> rows </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> data.</span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">    size_t</span><span style="color:#E1E4E8;"> cols </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> other[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">    size_t</span><span style="color:#E1E4E8;"> inner </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> other.</span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">    std</span><span style="color:#E1E4E8;">::vector</span><span style="color:#F97583;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::vector</span><span style="color:#F97583;">&lt;double&gt;&gt;</span><span style="color:#B392F0;"> result</span><span style="color:#E1E4E8;">(rows, </span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;">&gt;(cols, </span><span style="color:#79B8FF;">0.0</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">size_t</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> rows; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">size_t</span><span style="color:#E1E4E8;"> j </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; j </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> cols; j</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">        for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">size_t</span><span style="color:#E1E4E8;"> k </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; k </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> inner; k</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          result[i][j] </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> data[i][k] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> other[k][j];</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  double</span><span style="color:#B392F0;"> determinant</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#6A737D;">    // 简化的行列式计算实现</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (data.</span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">==</span><span style="color:#79B8FF;"> 2</span><span style="color:#F97583;"> &amp;&amp;</span><span style="color:#E1E4E8;"> data[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">==</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> data[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">][</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> data[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">][</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> data[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">][</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> data[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">][</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#79B8FF;"> 0.0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 绑定到 JavaScript</span></span>
<span class="line"><span style="color:#B392F0;">EMSCRIPTEN_BINDINGS</span><span style="color:#E1E4E8;">(matrix_calculator) {</span></span>
<span class="line"><span style="color:#B392F0;">  emscripten</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">class_</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">MatrixCalculator</span><span style="color:#E1E4E8;">&gt;(</span><span style="color:#9ECBFF;">&quot;MatrixCalculator&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">constructor</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">const</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">vector</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#F97583;">double</span><span style="color:#E1E4E8;">&gt;&gt;</span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">&gt;()</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;multiply&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">&amp;</span><span style="color:#B392F0;">MatrixCalculator</span><span style="color:#E1E4E8;">::multiply)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;determinant&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">&amp;</span><span style="color:#B392F0;">MatrixCalculator</span><span style="color:#E1E4E8;">::determinant);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="electron-中的-webassembly-集成" tabindex="-1">Electron 中的 WebAssembly 集成 <a class="header-anchor" href="#electron-中的-webassembly-集成" aria-label="Permalink to &quot;Electron 中的 WebAssembly 集成&quot;">​</a></h2><h3 id="基础-wasm-模块加载" tabindex="-1">基础 WASM 模块加载 <a class="header-anchor" href="#基础-wasm-模块加载" aria-label="Permalink to &quot;基础 WASM 模块加载&quot;">​</a></h3><p>在 Electron 中加载和初始化 WebAssembly 模块需要特定的模式和错误处理机制。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// lib/wasm-loader.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { readFile } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { join, dirname } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;path&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { fileURLToPath } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;url&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> WASMLoader</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.modules </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.loadingPromises </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.__dirname </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> dirname</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">fileURLToPath</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url))</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> loadWASMModule</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">jsPath</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.modules.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(moduleName)) {</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.modules.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.loadingPromises.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(moduleName)) {</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.loadingPromises.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> loadPromise</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">initializeWASMModule</span><span style="color:#E1E4E8;">(wasmPath, jsPath)</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">module</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.modules.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(moduleName, </span><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.loadingPromises.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`✅ WASM 模块加载成功: ${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">        return</span><span style="color:#79B8FF;"> module</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">      .</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.loadingPromises.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`❌ WASM 模块加载失败: ${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#F97583;">        throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.loadingPromises.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(moduleName, loadPromise)</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> loadPromise</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> initializeWASMModule</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">jsPath</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">    // 动态导入 Emscripten 生成的 JS 胶水代码</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> moduleFactory</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#B392F0;"> import</span><span style="color:#E1E4E8;">(jsPath)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> moduleConfig</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      wasmBinary: </span><span style="color:#F97583;">await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadWASMBinary</span><span style="color:#E1E4E8;">(wasmPath),</span></span>
<span class="line"><span style="color:#B392F0;">      onRuntimeInitialized</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;WASM 运行时初始化完成&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#B392F0;">      print</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">text</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM: ${</span><span style="color:#E1E4E8;">text</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#B392F0;">      printErr</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">text</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM Error: ${</span><span style="color:#E1E4E8;">text</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#B392F0;"> moduleFactory</span><span style="color:#E1E4E8;">(moduleConfig)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> loadWASMBinary</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> fullPath</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> join</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.__dirname, wasmPath)</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> wasmBuffer</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#B392F0;"> readFile</span><span style="color:#E1E4E8;">(fullPath)</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> wasmBuffer</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;读取 WASM 二进制文件失败:&#39;</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> callWASMFunction</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> module</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getModule</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">[functionName]) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`函数 ${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">} 在模块 ${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">} 中不存在`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> module</span><span style="color:#E1E4E8;">[functionName](</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">args)</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 函数调用失败 [${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}.${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">}]:`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> getModule</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.modules.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(moduleName)) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 模块未加载: ${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.modules.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 内存管理辅助函数</span></span>
<span class="line"><span style="color:#B392F0;">  createWASMMemory</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">module</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">initial</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> 256</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">maximum</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> 2048</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#F97583;"> new</span><span style="color:#E1E4E8;"> WebAssembly.</span><span style="color:#B392F0;">Memory</span><span style="color:#E1E4E8;">({ initial, maximum })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 在 JavaScript 和 WASM 之间传递数据</span></span>
<span class="line"><span style="color:#B392F0;">  allocateString</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">module</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">str</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> encoder</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> TextEncoder</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> bytes</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> encoder.</span><span style="color:#B392F0;">encode</span><span style="color:#E1E4E8;">(str)</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> ptr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> module</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">_malloc</span><span style="color:#E1E4E8;">(bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> +</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">HEAPU8</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(bytes, ptr)</span></span>
<span class="line"><span style="color:#79B8FF;">    module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">HEAPU8</span><span style="color:#E1E4E8;">[ptr </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#6A737D;"> // null terminator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> { ptr, length: bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  freeString</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">module</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">ptr</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">._free) {</span></span>
<span class="line"><span style="color:#79B8FF;">      module</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">_free</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> const</span><span style="color:#79B8FF;"> wasmLoader</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMLoader</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h3 id="预加载脚本集成" tabindex="-1">预加载脚本集成 <a class="header-anchor" href="#预加载脚本集成" aria-label="Permalink to &quot;预加载脚本集成&quot;">​</a></h3><p>在 Electron 的预加载脚本中安全地暴露 WASM 功能给渲染进程。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// preload/wasm-preload.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { contextBridge, ipcRenderer } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;electron&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { wasmLoader } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;../lib/wasm-loader.js&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> WASMPreloadIntegration</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.initialized </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">init</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> init</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">      // 预加载关键 WASM 模块</span></span>
<span class="line"><span style="color:#F97583;">      await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">preloadCriticalModules</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.initialized </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;✅ WASM 预加载初始化完成&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;❌ WASM 预加载初始化失败:&#39;</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> preloadCriticalModules</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> criticalModules</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        name: </span><span style="color:#9ECBFF;">&#39;mathEngine&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        wasmPath: </span><span style="color:#9ECBFF;">&#39;../wasm/math-engine.wasm&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        jsPath: </span><span style="color:#9ECBFF;">&#39;../wasm/math-engine.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        name: </span><span style="color:#9ECBFF;">&#39;imageProcessor&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        wasmPath: </span><span style="color:#9ECBFF;">&#39;../wasm/image-processor.wasm&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        jsPath: </span><span style="color:#9ECBFF;">&#39;../wasm/image-processor.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">all</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      criticalModules.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> ({ </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">jsPath</span><span style="color:#E1E4E8;"> }) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">        await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">loadWASMModule</span><span style="color:#E1E4E8;">(name, wasmPath, jsPath)</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  exposeToRenderer</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> wasmAPI</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">      // 模块状态检查</span></span>
<span class="line"><span style="color:#B392F0;">      isInitialized</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.initialized,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 数学计算功能</span></span>
<span class="line"><span style="color:#B392F0;">      calculateDistance</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">x1</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">y1</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">x2</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">y2</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">        return</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">callWASMFunction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">          &#39;mathEngine&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">          &#39;calculate_distance&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          x1,</span></span>
<span class="line"><span style="color:#E1E4E8;">          y1,</span></span>
<span class="line"><span style="color:#E1E4E8;">          x2,</span></span>
<span class="line"><span style="color:#E1E4E8;">          y2</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">      fibonacciSequence</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">n</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#79B8FF;"> module</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">getModule</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;mathEngine&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#79B8FF;"> ptr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> module</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">_fibonacci_sequence</span><span style="color:#E1E4E8;">(n)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">ptr) </span><span style="color:#F97583;">throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;内存分配失败&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">          const</span><span style="color:#79B8FF;"> sequence</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#F97583;">          for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> n; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            sequence.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">HEAP32</span><span style="color:#E1E4E8;">[ptr </span><span style="color:#F97583;">/</span><span style="color:#79B8FF;"> 4</span><span style="color:#F97583;"> +</span><span style="color:#E1E4E8;"> i])</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#F97583;">          return</span><span style="color:#E1E4E8;"> sequence</span></span>
<span class="line"><span style="color:#E1E4E8;">        } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">          module</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">_free_memory</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 图像处理功能</span></span>
<span class="line"><span style="color:#B392F0;">      processImage</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">imageData</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">width</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">height</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">operation</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">        return</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">callWASMFunction</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">          &#39;imageProcessor&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">          &#39;process_image&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          imageData,</span></span>
<span class="line"><span style="color:#E1E4E8;">          width,</span></span>
<span class="line"><span style="color:#E1E4E8;">          height,</span></span>
<span class="line"><span style="color:#E1E4E8;">          operation</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 安全地暴露到渲染进程</span></span>
<span class="line"><span style="color:#E1E4E8;">    contextBridge.</span><span style="color:#B392F0;">exposeInMainWorld</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;wasmAPI&#39;</span><span style="color:#E1E4E8;">, wasmAPI)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> wasmPreload</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMPreloadIntegration</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">wasmPreload.</span><span style="color:#B392F0;">exposeToRenderer</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h2 id="高级-webassembly-功能" tabindex="-1">高级 WebAssembly 功能 <a class="header-anchor" href="#高级-webassembly-功能" aria-label="Permalink to &quot;高级 WebAssembly 功能&quot;">​</a></h2><h3 id="复杂数据结构处理" tabindex="-1">复杂数据结构处理 <a class="header-anchor" href="#复杂数据结构处理" aria-label="Permalink to &quot;复杂数据结构处理&quot;">​</a></h3><p>处理 JavaScript 和 WebAssembly 之间的复杂数据交换。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// lib/wasm-data-exchange.js</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> class</span><span style="color:#B392F0;"> WASMDataExchange</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">wasmModule</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wasmModule</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.allocations </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Set</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 传输数组到 WASM</span></span>
<span class="line"><span style="color:#B392F0;">  transferArrayToWASM</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">jsArray</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">dataType</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &#39;float&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> typeInfo</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int8&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP8</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int16&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP16</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int32&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP32</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;float&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPF32</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;double&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPF64</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> info</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> typeInfo[dataType]</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">info) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`不支持的数据类型: ${</span><span style="color:#E1E4E8;">dataType</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> bytes</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> jsArray.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> *</span><span style="color:#E1E4E8;"> info.bytesPerElement</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> ptr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_malloc</span><span style="color:#E1E4E8;">(bytes)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">ptr) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;内存分配失败&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.allocations.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">    info.heap.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(jsArray, ptr </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> info.bytesPerElement)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> { ptr, length: jsArray.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">, dataType }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 从 WASM 检索数组</span></span>
<span class="line"><span style="color:#B392F0;">  retrieveArrayFromWASM</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ptr</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">length</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">dataType</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &#39;float&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> typeInfo</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int8&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP8</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int16&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP16</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;int32&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAP32</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;float&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPF32</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;double&#39;</span><span style="color:#E1E4E8;">: { heap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPF64</span><span style="color:#E1E4E8;">, bytesPerElement: </span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> info</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> typeInfo[dataType]</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">info) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`不支持的数据类型: ${</span><span style="color:#E1E4E8;">dataType</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> startIndex</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> ptr </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> info.bytesPerElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> length; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      result.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(info.heap[startIndex </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> i])</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 传输二维矩阵到 WASM</span></span>
<span class="line"><span style="color:#B392F0;">  transferMatrixToWASM</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">matrix</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">dataType</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &#39;float&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> flattened</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> matrix.</span><span style="color:#B392F0;">flat</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> arrayInfo</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(flattened, dataType)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      ...</span><span style="color:#E1E4E8;">arrayInfo,</span></span>
<span class="line"><span style="color:#E1E4E8;">      rows: matrix.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      cols: matrix[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 处理字符串数据</span></span>
<span class="line"><span style="color:#B392F0;">  transferStringToWASM</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">str</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> encoder</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> TextEncoder</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> bytes</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> encoder.</span><span style="color:#B392F0;">encode</span><span style="color:#E1E4E8;">(str)</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> ptr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_malloc</span><span style="color:#E1E4E8;">(bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> +</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">ptr) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;字符串内存分配失败&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.allocations.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPU8</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(bytes, ptr)</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#79B8FF;">HEAPU8</span><span style="color:#E1E4E8;">[ptr </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#6A737D;"> // Null terminator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> { ptr, length: bytes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 清理内存</span></span>
<span class="line"><span style="color:#B392F0;">  free</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ptr</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.allocations.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(ptr)) {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_free</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.allocations.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 清理所有分配的内存</span></span>
<span class="line"><span style="color:#B392F0;">  cleanup</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> ptr</span><span style="color:#F97583;"> of</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.allocations) {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_free</span><span style="color:#E1E4E8;">(ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.allocations.</span><span style="color:#B392F0;">clear</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 内存使用统计</span></span>
<span class="line"><span style="color:#B392F0;">  getMemoryUsage</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> memory</span><span style="color:#F97583;"> =</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.module._get_memory_usage </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_get_memory_usage</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      allocations: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.allocations.size,</span></span>
<span class="line"><span style="color:#E1E4E8;">      totalMemory: memory </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> memory.total </span><span style="color:#F97583;">:</span><span style="color:#9ECBFF;"> &#39;未知&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      usedMemory: memory </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> memory.used </span><span style="color:#F97583;">:</span><span style="color:#9ECBFF;"> &#39;未知&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="性能优化与多线程" tabindex="-1">性能优化与多线程 <a class="header-anchor" href="#性能优化与多线程" aria-label="Permalink to &quot;性能优化与多线程&quot;">​</a></h3><p>利用 WebAssembly 的多线程能力提升性能。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// lib/wasm-thread-manager.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Worker } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;worker_threads&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> class</span><span style="color:#B392F0;"> WASMThreadManager</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.workers </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.taskQueue </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.workerScript </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> join</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#B392F0;">      dirname</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">fileURLToPath</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url)),</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;wasm-worker.js&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 创建专用 WASM 工作线程</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> createWorker</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">workerId</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">jsPath</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> worker</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Worker</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.workerScript, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      workerData: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        workerId,</span></span>
<span class="line"><span style="color:#E1E4E8;">        moduleName,</span></span>
<span class="line"><span style="color:#E1E4E8;">        wasmPath,</span></span>
<span class="line"><span style="color:#E1E4E8;">        jsPath,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(workerId, worker)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    worker.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;message&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">result</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">handleWorkerResult</span><span style="color:#E1E4E8;">(workerId, result)</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    worker.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 工作线程错误 [${</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}]:`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(workerId)</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    worker.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;exit&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">code</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (code </span><span style="color:#F97583;">!==</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 工作线程退出 [${</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}], 代码: ${</span><span style="color:#E1E4E8;">code</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(workerId)</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 等待 worker 初始化完成</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#F97583;"> new</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      worker.</span><span style="color:#B392F0;">once</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;online&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`✅ WASM 工作线程就绪: ${</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">        resolve</span><span style="color:#E1E4E8;">(workerId)</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 提交任务到工作线程</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> submitTask</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">workerId</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">taskType</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">timeout</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> 30000</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#F97583;"> new</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> taskId</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> `task-${</span><span style="color:#E1E4E8;">Date</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">now</span><span style="color:#9ECBFF;">()</span><span style="color:#9ECBFF;">}-${</span><span style="color:#E1E4E8;">Math</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">random</span><span style="color:#9ECBFF;">()</span></span>
<span class="line"><span style="color:#9ECBFF;">        .</span><span style="color:#B392F0;">toString</span><span style="color:#9ECBFF;">(</span><span style="color:#79B8FF;">36</span><span style="color:#9ECBFF;">)</span></span>
<span class="line"><span style="color:#9ECBFF;">        .</span><span style="color:#B392F0;">substr</span><span style="color:#9ECBFF;">(</span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">, </span><span style="color:#79B8FF;">9</span><span style="color:#9ECBFF;">)</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> timeoutId</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> setTimeout</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">        reject</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 任务执行超时: ${</span><span style="color:#E1E4E8;">taskId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.taskQueue.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(taskId)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }, timeout)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.taskQueue.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(taskId, { resolve, reject, timeoutId })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> worker</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(workerId)</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">worker) {</span></span>
<span class="line"><span style="color:#B392F0;">        reject</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 工作线程不存在: ${</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#F97583;">        return</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      worker.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ taskId, taskType, data })</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  handleWorkerResult</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">workerId</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">result</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">taskId</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">error</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> task</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.taskQueue.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(taskId)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">task) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`未知任务 ID: ${</span><span style="color:#E1E4E8;">taskId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">      return</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">    clearTimeout</span><span style="color:#E1E4E8;">(task.timeoutId)</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.taskQueue.</span><span style="color:#B392F0;">delete</span><span style="color:#E1E4E8;">(taskId)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      task.</span><span style="color:#B392F0;">reject</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(error))</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      task.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(data)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 并行处理批量数据</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> processBatchData</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">workerId</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">dataArray</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">processFunction</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> batchPromises</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> dataArray.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">submitTask</span><span style="color:#E1E4E8;">(workerId, processFunction, { data, index })</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> results</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">all</span><span style="color:#E1E4E8;">(batchPromises)</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> results.</span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">b</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> a.index </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> b.index).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">r</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> r.result)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 优雅关闭所有工作线程</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> shutdown</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> shutdownPromises</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> Array.</span><span style="color:#B392F0;">from</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">values</span><span style="color:#E1E4E8;">()).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">worker</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#F97583;"> new</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        worker.</span><span style="color:#B392F0;">once</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;exit&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#B392F0;"> resolve</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">        worker.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ type: </span><span style="color:#9ECBFF;">&#39;shutdown&#39;</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">        // 强制终止（如果 5 秒内没有正常退出）</span></span>
<span class="line"><span style="color:#B392F0;">        setTimeout</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          worker.</span><span style="color:#B392F0;">terminate</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#B392F0;">          resolve</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        }, </span><span style="color:#79B8FF;">5000</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">all</span><span style="color:#E1E4E8;">(shutdownPromises)</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.workers.</span><span style="color:#B392F0;">clear</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.taskQueue.</span><span style="color:#B392F0;">clear</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;✅ 所有 WASM 工作线程已关闭&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// lib/wasm-worker.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { workerData, parentPort, isMainThread } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;worker_threads&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { wasmLoader } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;./wasm-loader.js&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#B392F0;"> WASMWorker</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">workerId</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">wasmPath</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">jsPath</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.workerId </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> workerId</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.moduleName </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> moduleName</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.wasmPath </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wasmPath</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.jsPath </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> jsPath</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> null</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.isShuttingDown </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">initialize</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> initialize</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.module </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">loadWASMModule</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.moduleName,</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.wasmPath,</span></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.jsPath</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`✅ WASM 工作线程初始化完成: ${</span><span style="color:#79B8FF;">this</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 通知主线程初始化完成</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (parentPort) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        parentPort.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ type: </span><span style="color:#9ECBFF;">&#39;initialized&#39;</span><span style="color:#E1E4E8;">, workerId: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.workerId })</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 工作线程初始化失败: ${</span><span style="color:#79B8FF;">this</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">workerId</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#E1E4E8;">      process.</span><span style="color:#B392F0;">exit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> processTask</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">taskType</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.isShuttingDown) {</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;工作线程正在关闭&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      switch</span><span style="color:#E1E4E8;"> (taskType) {</span></span>
<span class="line"><span style="color:#F97583;">        case</span><span style="color:#9ECBFF;"> &#39;matrix_multiply&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">          return</span><span style="color:#F97583;"> await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">processMatrixMultiplication</span><span style="color:#E1E4E8;">(data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        case</span><span style="color:#9ECBFF;"> &#39;image_filter&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">          return</span><span style="color:#F97583;"> await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">processImageFilter</span><span style="color:#E1E4E8;">(data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        case</span><span style="color:#9ECBFF;"> &#39;data_transform&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">          return</span><span style="color:#F97583;"> await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">processDataTransform</span><span style="color:#E1E4E8;">(data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">          throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`未知任务类型: ${</span><span style="color:#E1E4E8;">taskType</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 任务处理失败 [${</span><span style="color:#E1E4E8;">taskType</span><span style="color:#9ECBFF;">}]:`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#F97583;">      throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> processMatrixMultiplication</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">matrixA</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">matrixB</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> exchange</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMDataExchange</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> matrixAInfo</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> exchange.</span><span style="color:#B392F0;">transferMatrixToWASM</span><span style="color:#E1E4E8;">(matrixA)</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> matrixBInfo</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> exchange.</span><span style="color:#B392F0;">transferMatrixToWASM</span><span style="color:#E1E4E8;">(matrixB)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultPtr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_multiply_matrices</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixAInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixAInfo.rows,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixAInfo.cols,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixBInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixBInfo.rows,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixBInfo.cols</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> exchange.</span><span style="color:#B392F0;">retrieveArrayFromWASM</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        resultPtr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        matrixAInfo.rows </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> matrixBInfo.cols</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 重组为二维矩阵</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultMatrix</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> matrixAInfo.rows; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        resultMatrix.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">          result.</span><span style="color:#B392F0;">slice</span><span style="color:#E1E4E8;">(i </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> matrixBInfo.cols, (i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> matrixBInfo.cols)</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> resultMatrix</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      exchange.</span><span style="color:#B392F0;">cleanup</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> processImageFilter</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">imageData</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">width</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">height</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">filterType</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> exchange</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMDataExchange</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> imageInfo</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> exchange.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(imageData, </span><span style="color:#9ECBFF;">&#39;int8&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultPtr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_apply_image_filter</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        imageInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        width,</span></span>
<span class="line"><span style="color:#E1E4E8;">        height,</span></span>
<span class="line"><span style="color:#E1E4E8;">        filterType</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultData</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> exchange.</span><span style="color:#B392F0;">retrieveArrayFromWASM</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        resultPtr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        imageData.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">        &#39;int8&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> resultData</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      exchange.</span><span style="color:#B392F0;">cleanup</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 工作线程主逻辑</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">isMainThread </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> parentPort) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> worker</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMWorker</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    workerData.workerId,</span></span>
<span class="line"><span style="color:#E1E4E8;">    workerData.moduleName,</span></span>
<span class="line"><span style="color:#E1E4E8;">    workerData.wasmPath,</span></span>
<span class="line"><span style="color:#E1E4E8;">    workerData.jsPath</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  parentPort.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;message&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (message.type </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;shutdown&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      worker.isShuttingDown </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span></span>
<span class="line"><span style="color:#F97583;">      return</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">taskId</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">taskType</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> message</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> worker.</span><span style="color:#B392F0;">processTask</span><span style="color:#E1E4E8;">(taskType, data)</span></span>
<span class="line"><span style="color:#E1E4E8;">      parentPort.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ taskId, data: result })</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      parentPort.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        taskId,</span></span>
<span class="line"><span style="color:#E1E4E8;">        error: error.message,</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="实际应用场景" tabindex="-1">实际应用场景 <a class="header-anchor" href="#实际应用场景" aria-label="Permalink to &quot;实际应用场景&quot;">​</a></h2><h3 id="图像处理与计算机视觉" tabindex="-1">图像处理与计算机视觉 <a class="header-anchor" href="#图像处理与计算机视觉" aria-label="Permalink to &quot;图像处理与计算机视觉&quot;">​</a></h3><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// wasm-modules/src/image-processing.cpp</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;emscripten.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;emscripten/bind.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;algorithm&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#9ECBFF;"> &lt;vector&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#9ECBFF;"> &quot;C&quot;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  EMSCRIPTEN_KEEPALIVE</span></span>
<span class="line"><span style="color:#F97583;">  uint8_t*</span><span style="color:#B392F0;"> apply_grayscale_filter</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">uint8_t*</span><span style="color:#FFAB70;"> imageData</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#FFAB70;"> width</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#FFAB70;"> height</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    int</span><span style="color:#E1E4E8;"> totalPixels </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> width </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> height </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 4</span><span style="color:#E1E4E8;">;</span><span style="color:#6A737D;"> // RGBA</span></span>
<span class="line"><span style="color:#F97583;">    uint8_t*</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">uint8_t*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(totalPixels);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> totalPixels; i </span><span style="color:#F97583;">+=</span><span style="color:#79B8FF;"> 4</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      uint8_t</span><span style="color:#E1E4E8;"> r </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> imageData[i];</span></span>
<span class="line"><span style="color:#F97583;">      uint8_t</span><span style="color:#E1E4E8;"> g </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> imageData[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#F97583;">      uint8_t</span><span style="color:#E1E4E8;"> b </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> imageData[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 灰度转换公式</span></span>
<span class="line"><span style="color:#F97583;">      uint8_t</span><span style="color:#E1E4E8;"> gray </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">uint8_t</span><span style="color:#E1E4E8;">)(</span><span style="color:#79B8FF;">0.299</span><span style="color:#F97583;"> *</span><span style="color:#E1E4E8;"> r </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 0.587</span><span style="color:#F97583;"> *</span><span style="color:#E1E4E8;"> g </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 0.114</span><span style="color:#F97583;"> *</span><span style="color:#E1E4E8;"> b);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      result[i] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> gray;</span><span style="color:#6A737D;">     // R</span></span>
<span class="line"><span style="color:#E1E4E8;">      result[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> gray;</span><span style="color:#6A737D;"> // G</span></span>
<span class="line"><span style="color:#E1E4E8;">      result[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> gray;</span><span style="color:#6A737D;"> // B</span></span>
<span class="line"><span style="color:#E1E4E8;">      result[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 3</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> imageData[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 3</span><span style="color:#E1E4E8;">];</span><span style="color:#6A737D;"> // Alpha</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  EMSCRIPTEN_KEEPALIVE</span></span>
<span class="line"><span style="color:#F97583;">  uint8_t*</span><span style="color:#B392F0;"> apply_gaussian_blur</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">uint8_t*</span><span style="color:#FFAB70;"> imageData</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#FFAB70;"> width</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#FFAB70;"> height</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">float</span><span style="color:#FFAB70;"> sigma</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    int</span><span style="color:#E1E4E8;"> totalPixels </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> width </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> height </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 4</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">    uint8_t*</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">uint8_t*</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">malloc</span><span style="color:#E1E4E8;">(totalPixels);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 简化的高斯模糊实现</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#F97583;"> int</span><span style="color:#E1E4E8;"> kernelSize </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">    float</span><span style="color:#E1E4E8;"> kernel[kernelSize][kernelSize] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">26</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">26</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">41</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">26</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">26</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">7</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    float</span><span style="color:#E1E4E8;"> kernelSum </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 273.0</span><span style="color:#F97583;">f</span><span style="color:#E1E4E8;">;</span><span style="color:#6A737D;"> // 核值总和</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> y </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; y </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> height; y</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; x </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> width; x</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">        for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> channel </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; channel </span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;"> 4</span><span style="color:#E1E4E8;">; channel</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">          float</span><span style="color:#E1E4E8;"> sum </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0.0</span><span style="color:#F97583;">f</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">          for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> ky </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> -</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; ky </span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">; ky</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">            for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> kx </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> -</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">; kx </span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">; kx</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">              int</span><span style="color:#E1E4E8;"> px </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">min</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">max</span><span style="color:#E1E4E8;">(x </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> kx, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">), width </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">              int</span><span style="color:#E1E4E8;"> py </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">min</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">max</span><span style="color:#E1E4E8;">(y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> ky, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">), height </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">              int</span><span style="color:#E1E4E8;"> pixelIndex </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (py </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> width </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> px) </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 4</span><span style="color:#F97583;"> +</span><span style="color:#E1E4E8;"> channel;</span></span>
<span class="line"><span style="color:#F97583;">              float</span><span style="color:#E1E4E8;"> weight </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> kernel[ky </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">][kx </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> kernelSum;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">              sum </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> imageData[pixelIndex] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> weight;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">          int</span><span style="color:#E1E4E8;"> resultIndex </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (y </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> width </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> x) </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 4</span><span style="color:#F97583;"> +</span><span style="color:#E1E4E8;"> channel;</span></span>
<span class="line"><span style="color:#E1E4E8;">          result[resultIndex] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">uint8_t</span><span style="color:#E1E4E8;">)</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">min</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">std</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">max</span><span style="color:#E1E4E8;">(sum, </span><span style="color:#79B8FF;">0.0</span><span style="color:#F97583;">f</span><span style="color:#E1E4E8;">), </span><span style="color:#79B8FF;">255.0</span><span style="color:#F97583;">f</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">EMSCRIPTEN_BINDINGS</span><span style="color:#E1E4E8;">(image_processing) {</span></span>
<span class="line"><span style="color:#B392F0;">  emscripten</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;apply_grayscale_filter&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">apply_grayscale_filter);</span></span>
<span class="line"><span style="color:#B392F0;">  emscripten</span><span style="color:#E1E4E8;">::</span><span style="color:#B392F0;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;apply_gaussian_blur&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">apply_gaussian_blur);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="科学计算与数据分析" tabindex="-1">科学计算与数据分析 <a class="header-anchor" href="#科学计算与数据分析" aria-label="Permalink to &quot;科学计算与数据分析&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// applications/scientific-computing.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { wasmLoader } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;../lib/wasm-loader.js&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { WASMDataExchange } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;../lib/wasm-data-exchange.js&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> class</span><span style="color:#B392F0;"> ScientificComputing</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> null</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.initialized </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> initialize</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.module </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> await</span><span style="color:#E1E4E8;"> wasmLoader.</span><span style="color:#B392F0;">loadWASMModule</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;scientific&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;../wasm/scientific.wasm&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;../wasm/scientific.js&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.exchange </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMDataExchange</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.module)</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.initialized </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 快速傅里叶变换</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> fft</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">signalData</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ensureInitialized</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> signalInfo</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(signalData, </span><span style="color:#9ECBFF;">&#39;float&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultPtr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_fft_transform</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        signalInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        signalInfo.</span><span style="color:#79B8FF;">length</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">retrieveArrayFromWASM</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        resultPtr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        signalInfo.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">        &#39;float&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">      // 转换为复数表示 [real, imag, real, imag, ...]</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> complexResult</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> result.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">+=</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        complexResult.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">          real: result[i],</span></span>
<span class="line"><span style="color:#E1E4E8;">          imag: result[i </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        })</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> complexResult</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">cleanup</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 数值积分</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> numericalIntegration</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">fn</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">b</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">steps</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> 1000</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ensureInitialized</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 使用梯形法则进行数值积分</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> stepSize</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> (b </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> a) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> steps</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> xValues</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;=</span><span style="color:#E1E4E8;"> steps; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      xValues.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(a </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> stepSize)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> xInfo</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(xValues, </span><span style="color:#9ECBFF;">&#39;float&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_trapezoidal_integral</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        xInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        xInfo.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        stepSize</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">free</span><span style="color:#E1E4E8;">(xInfo.ptr)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 线性回归分析</span></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> linearRegression</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">xData</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">yData</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ensureInitialized</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> xInfo</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(xData, </span><span style="color:#9ECBFF;">&#39;float&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> yInfo</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">transferArrayToWASM</span><span style="color:#E1E4E8;">(yData, </span><span style="color:#9ECBFF;">&#39;float&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> resultPtr</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.module.</span><span style="color:#B392F0;">_linear_regression</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        xInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        yInfo.ptr,</span></span>
<span class="line"><span style="color:#E1E4E8;">        xInfo.</span><span style="color:#79B8FF;">length</span></span>
<span class="line"><span style="color:#E1E4E8;">      )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">retrieveArrayFromWASM</span><span style="color:#E1E4E8;">(resultPtr, </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;float&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        slope: result[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        intercept: result[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.exchange.</span><span style="color:#B392F0;">cleanup</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  async</span><span style="color:#B392F0;"> ensureInitialized</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.initialized) {</span></span>
<span class="line"><span style="color:#F97583;">      await</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">initialize</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="性能监控与调试" tabindex="-1">性能监控与调试 <a class="header-anchor" href="#性能监控与调试" aria-label="Permalink to &quot;性能监控与调试&quot;">​</a></h2><h3 id="wasm-性能分析工具" tabindex="-1">WASM 性能分析工具 <a class="header-anchor" href="#wasm-性能分析工具" aria-label="Permalink to &quot;WASM 性能分析工具&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// lib/wasm-performance.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { performance, PerformanceObserver } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;perf_hooks&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> class</span><span style="color:#B392F0;"> WASMPerformanceMonitor</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.metrics </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.observer </span><span style="color:#F97583;">=</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> PerformanceObserver</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">list</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">processPerformanceEntries</span><span style="color:#E1E4E8;">(list.</span><span style="color:#B392F0;">getEntries</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">startMonitoring</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  startMonitoring</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.observer.</span><span style="color:#B392F0;">observe</span><span style="color:#E1E4E8;">({ entryTypes: [</span><span style="color:#9ECBFF;">&#39;measure&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;function&#39;</span><span style="color:#E1E4E8;">] })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 包装 WASM 函数调用以进行性能监控</span></span>
<span class="line"><span style="color:#B392F0;">  instrumentWASMFunction</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">wasmFunction</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#F97583;"> async</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> startMark</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> `wasm-${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}-${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">}-start`</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> endMark</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> `wasm-${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}-${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">}-end`</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> measureName</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> `wasm-${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}-${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      performance.</span><span style="color:#B392F0;">mark</span><span style="color:#E1E4E8;">(startMark)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#B392F0;"> wasmFunction</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">args)</span></span>
<span class="line"><span style="color:#E1E4E8;">        performance.</span><span style="color:#B392F0;">mark</span><span style="color:#E1E4E8;">(endMark)</span></span>
<span class="line"><span style="color:#E1E4E8;">        performance.</span><span style="color:#B392F0;">measure</span><span style="color:#E1E4E8;">(measureName, startMark, endMark)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">recordSuccess</span><span style="color:#E1E4E8;">(moduleName, functionName)</span></span>
<span class="line"><span style="color:#F97583;">        return</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        performance.</span><span style="color:#B392F0;">mark</span><span style="color:#E1E4E8;">(endMark)</span></span>
<span class="line"><span style="color:#E1E4E8;">        performance.</span><span style="color:#B392F0;">measure</span><span style="color:#E1E4E8;">(measureName, startMark, endMark)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">        this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">recordError</span><span style="color:#E1E4E8;">(moduleName, functionName, error)</span></span>
<span class="line"><span style="color:#F97583;">        throw</span><span style="color:#E1E4E8;"> error</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  processPerformanceEntries</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">entries</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    entries.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">entry</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (entry.name.</span><span style="color:#B392F0;">startsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;wasm-&#39;</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">_</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">functionName</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> entry.name.</span><span style="color:#B392F0;">split</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;-&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(moduleName)) {</span></span>
<span class="line"><span style="color:#79B8FF;">          this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(moduleName, </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#79B8FF;"> moduleMetrics</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">moduleMetrics.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(functionName)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          moduleMetrics.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(functionName, {</span></span>
<span class="line"><span style="color:#E1E4E8;">            callCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            totalTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            averageTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            minTime: </span><span style="color:#79B8FF;">Infinity</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            maxTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            errorCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            successCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          })</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">        const</span><span style="color:#79B8FF;"> metrics</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> moduleMetrics.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(functionName)</span></span>
<span class="line"><span style="color:#E1E4E8;">        metrics.callCount</span><span style="color:#F97583;">++</span></span>
<span class="line"><span style="color:#E1E4E8;">        metrics.totalTime </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> entry.duration</span></span>
<span class="line"><span style="color:#E1E4E8;">        metrics.averageTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> metrics.totalTime </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> metrics.callCount</span></span>
<span class="line"><span style="color:#E1E4E8;">        metrics.minTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">min</span><span style="color:#E1E4E8;">(metrics.minTime, entry.duration)</span></span>
<span class="line"><span style="color:#E1E4E8;">        metrics.maxTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">max</span><span style="color:#E1E4E8;">(metrics.maxTime, entry.duration)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  recordSuccess</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">functionName</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">updateMetrics</span><span style="color:#E1E4E8;">(moduleName, functionName, </span><span style="color:#9ECBFF;">&#39;success&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  recordError</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#79B8FF;">    this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">updateMetrics</span><span style="color:#E1E4E8;">(moduleName, functionName, </span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`WASM 函数调用错误 [${</span><span style="color:#E1E4E8;">moduleName</span><span style="color:#9ECBFF;">}.${</span><span style="color:#E1E4E8;">functionName</span><span style="color:#9ECBFF;">}]:`</span><span style="color:#E1E4E8;">, error)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">  updateMetrics</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">type</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(moduleName)) {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(moduleName, </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Map</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> moduleMetrics</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.metrics.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(moduleName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">moduleMetrics.</span><span style="color:#B392F0;">has</span><span style="color:#E1E4E8;">(functionName)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      moduleMetrics.</span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(functionName, {</span></span>
<span class="line"><span style="color:#E1E4E8;">        callCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        totalTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        averageTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        minTime: </span><span style="color:#79B8FF;">Infinity</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        maxTime: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        errorCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        successCount: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> metrics</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> moduleMetrics.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(functionName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (type </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;success&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      metrics.successCount</span><span style="color:#F97583;">++</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#F97583;"> if</span><span style="color:#E1E4E8;"> (type </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;error&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      metrics.errorCount</span><span style="color:#F97583;">++</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 生成性能报告</span></span>
<span class="line"><span style="color:#B392F0;">  generatePerformanceReport</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> report</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      timestamp: </span><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Date</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">toISOString</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">      modules: {},</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">functions</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">of</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.metrics) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      report.modules[moduleName] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">metrics</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> functions) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        report.modules[moduleName][functionName] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">          ...</span><span style="color:#E1E4E8;">metrics,</span></span>
<span class="line"><span style="color:#E1E4E8;">          successRate:</span></span>
<span class="line"><span style="color:#E1E4E8;">            metrics.callCount </span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> 0</span></span>
<span class="line"><span style="color:#F97583;">              ?</span><span style="color:#E1E4E8;"> (metrics.successCount </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> metrics.callCount) </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 100</span></span>
<span class="line"><span style="color:#F97583;">              :</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> report</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 识别性能瓶颈</span></span>
<span class="line"><span style="color:#B392F0;">  identifyBottlenecks</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> bottlenecks</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> []</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> report</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">generatePerformanceReport</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">moduleName</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">functions</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">(report.modules)) {</span></span>
<span class="line"><span style="color:#F97583;">      for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">functionName</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">metrics</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">(functions)) {</span></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (metrics.averageTime </span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> 100</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">          // 超过 100ms 认为是瓶颈</span></span>
<span class="line"><span style="color:#E1E4E8;">          bottlenecks.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">            module: moduleName,</span></span>
<span class="line"><span style="color:#E1E4E8;">            function: functionName,</span></span>
<span class="line"><span style="color:#E1E4E8;">            averageTime: metrics.averageTime,</span></span>
<span class="line"><span style="color:#E1E4E8;">            callCount: metrics.callCount,</span></span>
<span class="line"><span style="color:#E1E4E8;">            severity: metrics.averageTime </span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> 500</span><span style="color:#F97583;"> ?</span><span style="color:#9ECBFF;"> &#39;HIGH&#39;</span><span style="color:#F97583;"> :</span><span style="color:#9ECBFF;"> &#39;MEDIUM&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          })</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> bottlenecks.</span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">b</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> b.averageTime </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> a.averageTime)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> const</span><span style="color:#79B8FF;"> wasmPerformance</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> WASMPerformanceMonitor</span><span style="color:#E1E4E8;">()</span></span></code></pre></div></div></div><p class="edit-link" data-v-e88e19fb><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor" class="vt-icon" data-v-e88e19fb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><a class="vt-link link" href="https://github.com/fengyon/blog/edit/master/src/special/electron/wasm.md" target="_blank" rel="noopener noreferrer" data-v-e88e19fb><!--[-->在 GitHub 上编辑此页<!--]--><!----><!----></a></p></main><!--[--><!--]--><footer class="VPContentDocFooter" data-v-e88e19fb data-v-e7e928ec><a class="prev-link" href="/special/electron/native.html" data-v-e7e928ec><span class="desc" data-v-e7e928ec><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-link-icon" data-v-e7e928ec><path d="M15,19c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4l6-6c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L10.4,12l5.3,5.3c0.4,0.4,0.4,1,0,1.4C15.5,18.9,15.3,19,15,19z"></path></svg> 前一篇</span><span class="title" data-v-e7e928ec>Electron 集成 C++/Rust/NAPI</span></a><a class="next-link" href="/special/electron/scripts.html" data-v-e7e928ec><span class="desc" data-v-e7e928ec>下一篇 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-link-icon" data-v-e7e928ec><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></span><span class="title" data-v-e7e928ec>Electron 运行 Python/Go/Java</span></a></footer></div></div></div></div><div class="visually-hidden" aria-live="polite" data-v-bdc9e4dd>Electron 集成 WebAssembly已经加载完毕</div></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"basic_algorithm_advanced_approximation.md\":\"BPGsgKbJ\",\"basic_algorithm_advanced_cryptography.md\":\"DX8SMDG1\",\"basic_algorithm_advanced_machine-learning.md\":\"B9Q8LoB7\",\"basic_algorithm_advanced_randomized.md\":\"Deehg4k8\",\"basic_algorithm_backtracking.md\":\"B925MfKo\",\"basic_algorithm_complexity.md\":\"xxNWllL-\",\"basic_algorithm_data-struct.md\":\"CExHmd4G\",\"basic_algorithm_divide-conquer.md\":\"CoaOwYpS\",\"basic_algorithm_dp.md\":\"Cf-oftYt\",\"basic_algorithm_graph.md\":\"DHeNOHej\",\"basic_algorithm_greedy.md\":\"DJWVpW5z\",\"basic_algorithm_intro.md\":\"DizAwr4t\",\"basic_algorithm_performance-tools.md\":\"DTCuDhlj\",\"basic_algorithm_practice-platforms.md\":\"ucv0sbt9\",\"basic_algorithm_searching.md\":\"UsV23Uzi\",\"basic_algorithm_sorting.md\":\"CAdcorfJ\",\"basic_algorithm_string.md\":\"BNBo0R1s\",\"basic_algorithm_visualization.md\":\"mcWgslIR\",\"basic_bom_arraybuffer.md\":\"Dig-xrEY\",\"basic_bom_canvas.md\":\"Cyuryztc\",\"basic_bom_clipboard.md\":\"BjjYo-ZO\",\"basic_bom_cookie.md\":\"Bnhx1Yd9\",\"basic_bom_cors.md\":\"BPCX1gDD\",\"basic_bom_engine.md\":\"55OTzwzu\",\"basic_bom_fetch.md\":\"BxAkg8wF\",\"basic_bom_file.md\":\"BvMhq3hq\",\"basic_bom_fontface.md\":\"BqS7W62F\",\"basic_bom_form.md\":\"CPz-Zo8x\",\"basic_bom_formdata.md\":\"TO3MIrSS\",\"basic_bom_geolocation.md\":\"FZJaf1DS\",\"basic_bom_headers.md\":\"BFep7W-J\",\"basic_bom_history.md\":\"Ds-DkPpB\",\"basic_bom_indexeddb.md\":\"DRbUhG9Q\",\"basic_bom_intersectionobserver.md\":\"Bdq-H9xo\",\"basic_bom_intl-relativetimeformat.md\":\"Bl3EWOat\",\"basic_bom_intl-segmenter.md\":\"qdOrS2Qx\",\"basic_bom_location.md\":\"CQo3jyER\",\"basic_bom_navigator.md\":\"enkYWnJM\",\"basic_bom_offline.md\":\"CPrG7ZX4\",\"basic_bom_page-lifecycle.md\":\"231P-RJt\",\"basic_bom_page-visibility.md\":\"DJGSVV1k\",\"basic_bom_pointer-lock.md\":\"DYNDAFPQ\",\"basic_bom_postmessage.md\":\"Dg0JpAh4\",\"basic_bom_request.md\":\"nL48X4xd\",\"basic_bom_response.md\":\"DgMIjqW4\",\"basic_bom_same-origin.md\":\"B19cvP5H\",\"basic_bom_server-sent-events.md\":\"eHZeHjXi\",\"basic_bom_service-worker.md\":\"nvA8HTa2\",\"basic_bom_storage.md\":\"D6kSMbXS\",\"basic_bom_svg.md\":\"BOXCHqgc\",\"basic_bom_url.md\":\"DbAQEpOu\",\"basic_bom_urlpattern.md\":\"p9uOxQ6Z\",\"basic_bom_urlsearchparams.md\":\"BO3rlCA4\",\"basic_bom_web-share-api.md\":\"Jgh1a6qS\",\"basic_bom_webaudio.md\":\"CqvrY0pM\",\"basic_bom_webcomponents.md\":\"dRnaunI7\",\"basic_bom_websocket.md\":\"B8uUn1Zm\",\"basic_bom_webworker.md\":\"n25MovEz\",\"basic_bom_window.md\":\"DZ1ulgtC\",\"basic_bom_xmlhttprequest.md\":\"DizVco5p\",\"basic_css_animation.md\":\"DYaJ4hYL\",\"basic_css_basic.md\":\"CB455RSA\",\"basic_css_box-model.md\":\"CgSe2s51\",\"basic_css_layout.md\":\"BstJjCP_\",\"basic_css_selector.md\":\"Q3UgMgEP\",\"basic_css_transform-3d.md\":\"RNfNaiqj\",\"basic_dom_attributes.md\":\"CACtlp3G\",\"basic_dom_css.md\":\"BBdF7UDl\",\"basic_dom_document.md\":\"1QGt-sVz\",\"basic_dom_element.md\":\"D3vjLzvY\",\"basic_dom_elements_a.md\":\"vRyGesJu\",\"basic_dom_elements_button.md\":\"BRARNhio\",\"basic_dom_elements_form.md\":\"DDE-mKbj\",\"basic_dom_elements_image.md\":\"gDemhFuL\",\"basic_dom_elements_input.md\":\"MO2u-i1M\",\"basic_dom_elements_option.md\":\"CNNsUHNP\",\"basic_dom_elements_video.md\":\"CoV-rB-t\",\"basic_dom_events_common.md\":\"C5k733BF\",\"basic_dom_events_drag.md\":\"s3x0Auqw\",\"basic_dom_events_event.md\":\"BZkV6dCC\",\"basic_dom_events_eventtarget.md\":\"Bh0pjATr\",\"basic_dom_events_form.md\":\"Bc9iA_p8\",\"basic_dom_events_globaleventhandlers.md\":\"CBSl36QO\",\"basic_dom_events_keyboard.md\":\"B8GUGCwf\",\"basic_dom_events_model.md\":\"lWyKluue\",\"basic_dom_events_mouse.md\":\"CHm1hGNB\",\"basic_dom_events_progress.md\":\"BWUn381t\",\"basic_dom_events_touch.md\":\"WgtTOT4S\",\"basic_dom_general.md\":\"D0LlW2La\",\"basic_dom_intro.md\":\"C0RCUMmH\",\"basic_dom_mutationobserver.md\":\"Ck8xI-ce\",\"basic_dom_node.md\":\"X7u4pGkf\",\"basic_dom_nodelist.md\":\"C8ewEgJX\",\"basic_dom_operation.md\":\"DzbwMYlf\",\"basic_dom_parentnode.md\":\"DspOkI7I\",\"basic_dom_text.md\":\"B6yQatyI\",\"basic_es6_array.md\":\"zj-dtslh\",\"basic_es6_arraybuffer.md\":\"DYLxkQQA\",\"basic_es6_async-iterator.md\":\"CzhNnX6l\",\"basic_es6_async.md\":\"bmEtQdsZ\",\"basic_es6_class-extends.md\":\"CGSj2g6P\",\"basic_es6_class.md\":\"H1i6L6u6\",\"basic_es6_decorator.md\":\"C_aD7P7i\",\"basic_es6_destructuring.md\":\"XUWKVeqi\",\"basic_es6_fp.md\":\"BPjGMm0Q\",\"basic_es6_function.md\":\"eSIjtbdQ\",\"basic_es6_generator-async.md\":\"DfCeTbtj\",\"basic_es6_generator.md\":\"CdrKq-Y1\",\"basic_es6_intro.md\":\"Dg5KSgZk\",\"basic_es6_iterator.md\":\"wp5XP1CN\",\"basic_es6_let.md\":\"C752wIOc\",\"basic_es6_mixin.md\":\"BqyYq1BN\",\"basic_es6_module-loader.md\":\"D42qCEqs\",\"basic_es6_module.md\":\"J8-OUHuV\",\"basic_es6_number.md\":\"B-IbQNmt\",\"basic_es6_object-methods.md\":\"DjKl3Kgl\",\"basic_es6_object.md\":\"Wk6NAgmY\",\"basic_es6_operator.md\":\"D9mvsmSi\",\"basic_es6_promise.md\":\"cG4HR9NV\",\"basic_es6_proposals.md\":\"DOBoXsN2\",\"basic_es6_proxy.md\":\"Cv-kBnUF\",\"basic_es6_reflect.md\":\"L4skUnjn\",\"basic_es6_regex.md\":\"CDApI4LU\",\"basic_es6_set-map.md\":\"BSiQQGxS\",\"basic_es6_simd.md\":\"CyOnXayG\",\"basic_es6_spec.md\":\"DmMMk2RK\",\"basic_es6_string-methods.md\":\"oDtlAC-5\",\"basic_es6_string.md\":\"1a2D6R9P\",\"basic_es6_style.md\":\"DiHW1bgA\",\"basic_es6_symbol.md\":\"Ce8vt-q5\",\"basic_git_advanced.md\":\"Cyu_XBf7\",\"basic_git_branch.md\":\"t8CnlSfh\",\"basic_git_hooks.md\":\"YqJGxZmf\",\"basic_git_install.md\":\"Bn6er0DA\",\"basic_git_intro.md\":\"CHJcQ1xS\",\"basic_git_repository.md\":\"BIu5D_3_\",\"basic_git_tag.md\":\"DdGiZRQC\",\"basic_git_workflow.md\":\"DXH29K4Q\",\"basic_html_a.md\":\"DeNLt87h\",\"basic_html_attribute.md\":\"C8GcD7Cc\",\"basic_html_elements.md\":\"DXK9tysw\",\"basic_html_encode.md\":\"DOAD4hgJ\",\"basic_html_form.md\":\"Cot74-UD\",\"basic_html_iframe.md\":\"CRiek1Vw\",\"basic_html_image.md\":\"CHQ_q2c8\",\"basic_html_intro.md\":\"BsPX_LOx\",\"basic_html_link.md\":\"D8Rmaw30\",\"basic_html_list.md\":\"D9b2hvQY\",\"basic_html_mobile.md\":\"BIwKN7D7\",\"basic_html_multimedia.md\":\"CCph6nYd\",\"basic_html_script.md\":\"BbGlBQbJ\",\"basic_html_semantic.md\":\"BiO6tF3I\",\"basic_html_table.md\":\"ByWxYewR\",\"basic_html_text.md\":\"DO8805Cv\",\"basic_html_url.md\":\"3_dcZvQK\",\"basic_javascript_async_general.md\":\"ihk-k4sq\",\"basic_javascript_async_promise.md\":\"DEBGO-wp\",\"basic_javascript_async_timer.md\":\"BXVIfFhT\",\"basic_javascript_basic_grammar.md\":\"BaMkdrIM\",\"basic_javascript_basic_history.md\":\"B5tOvDny\",\"basic_javascript_basic_introduction.md\":\"wchEfKxd\",\"basic_javascript_features_console.md\":\"CL7JhM_o\",\"basic_javascript_features_conversion.md\":\"xJdQTJDt\",\"basic_javascript_features_error.md\":\"DY_C_mHv\",\"basic_javascript_features_style.md\":\"D4OMnaZl\",\"basic_javascript_oop_new.md\":\"DZsAlC_S\",\"basic_javascript_oop_object.md\":\"BWaaqyGW\",\"basic_javascript_oop_prototype.md\":\"BoEk5qsR\",\"basic_javascript_oop_strict.md\":\"Dh83Zjtc\",\"basic_javascript_oop_this.md\":\"Ba5tpmWq\",\"basic_javascript_operators_arithmetic.md\":\"DVRpScnr\",\"basic_javascript_operators_bit.md\":\"kAcMBsH0\",\"basic_javascript_operators_boolean.md\":\"DOGZXtU5\",\"basic_javascript_operators_comparison.md\":\"CwbsBDES\",\"basic_javascript_operators_priority.md\":\"TDtdqyef\",\"basic_javascript_stdlib_array.md\":\"Bed0Ev1G\",\"basic_javascript_stdlib_attributes.md\":\"B2hbUGCa\",\"basic_javascript_stdlib_boolean.md\":\"CELaAbur\",\"basic_javascript_stdlib_date.md\":\"B2kwkII7\",\"basic_javascript_stdlib_json.md\":\"CYC4jySy\",\"basic_javascript_stdlib_math.md\":\"B7XDvXZK\",\"basic_javascript_stdlib_number.md\":\"De3qTRTw\",\"basic_javascript_stdlib_object.md\":\"DFWMDoKm\",\"basic_javascript_stdlib_regexp.md\":\"CZOyi0Xh\",\"basic_javascript_stdlib_string.md\":\"BXjjNcBa\",\"basic_javascript_stdlib_wrapper.md\":\"DYvMlle7\",\"basic_javascript_types_array.md\":\"BYwXQJdG\",\"basic_javascript_types_function.md\":\"eo3AhEts\",\"basic_javascript_types_general.md\":\"C4tw7iM-\",\"basic_javascript_types_null-undefined-boolean.md\":\"g6QgrL_L\",\"basic_javascript_types_number.md\":\"ibLvoQ3F\",\"basic_javascript_types_object.md\":\"D95ex8rP\",\"basic_javascript_types_string.md\":\"CYNR5iGc\",\"basic_necessary_ai.md\":\"s68APLeW\",\"basic_necessary_internet.md\":\"D-Lr-yAy\",\"basic_necessary_searching.md\":\"D42zhLF6\",\"basic_node_event-loop.md\":\"BlYQ_m1-\",\"basic_node_installation.md\":\"KdZ3zAdk\",\"basic_node_intro.md\":\"H_VdiJU3\",\"basic_node_modules.md\":\"Cb3HjQKh\",\"basic_node_npm.md\":\"IKnNGgB-\",\"basic_node_vars.md\":\"B0S4G16h\",\"basic_typescript_any.md\":\"Cjp6HXgU\",\"basic_typescript_array.md\":\"tiHBDF3Z\",\"basic_typescript_assert.md\":\"3m4QwFIb\",\"basic_typescript_basic.md\":\"BhGOBQh9\",\"basic_typescript_class.md\":\"BMimYhWN\",\"basic_typescript_comment.md\":\"I6eB90Eg\",\"basic_typescript_d-ts.md\":\"D2an5c6u\",\"basic_typescript_declare.md\":\"uKDjb9BC\",\"basic_typescript_decorator-legacy.md\":\"aKPeB5mh\",\"basic_typescript_decorator.md\":\"xx3Cz66e\",\"basic_typescript_enum.md\":\"C9j_dBok\",\"basic_typescript_es6.md\":\"Cp5s8OPe\",\"basic_typescript_function.md\":\"DFN6I3jd\",\"basic_typescript_generics.md\":\"CMy-YnLw\",\"basic_typescript_interface.md\":\"CpfSDUj5\",\"basic_typescript_intro.md\":\"CmXHcofg\",\"basic_typescript_mapping.md\":\"DYUEkCBy\",\"basic_typescript_module.md\":\"DNzL46mD\",\"basic_typescript_namespace.md\":\"B8IoQiOf\",\"basic_typescript_narrowing.md\":\"BB-GrlWn\",\"basic_typescript_npm.md\":\"DaTLe6f1\",\"basic_typescript_object.md\":\"BcGefWgA\",\"basic_typescript_operator.md\":\"CfqL6vdi\",\"basic_typescript_react.md\":\"Br48aQH7\",\"basic_typescript_symbol.md\":\"C8iqXqic\",\"basic_typescript_tsc.md\":\"CgM1G8Tw\",\"basic_typescript_tsconfig-json.md\":\"DmpsWpAu\",\"basic_typescript_tuple.md\":\"BrlDSLuv\",\"basic_typescript_type-operations.md\":\"-OLQ-Leh\",\"basic_typescript_types.md\":\"VmDybK5K\",\"basic_typescript_utility.md\":\"BvgWhvWG\",\"engineering_accessible_aria.md\":\"D2CwI6ja\",\"engineering_accessible_autotest.md\":\"DtJ3jYk-\",\"engineering_accessible_color-contrast.md\":\"Chpb3j8m\",\"engineering_accessible_framework.md\":\"Bx_5Ws9Q\",\"engineering_accessible_html.md\":\"CPF1JQk7\",\"engineering_accessible_intro.md\":\"B2Idhtl0\",\"engineering_accessible_keyboard.md\":\"eqEAtkLZ\",\"engineering_accessible_test.md\":\"CR-nuc-t\",\"engineering_architecture_diretory.md\":\"CSNvFpl-\",\"engineering_architecture_micro-frontend.md\":\"Bfczfsod\",\"engineering_architecture_module.md\":\"xR_hVHMY\",\"engineering_architecture_monorep.md\":\"B-XQLl_H\",\"engineering_build_esbuild.md\":\"C2UOuBtQ\",\"engineering_build_rollup.md\":\"C3Tjjv5y\",\"engineering_build_vite.md\":\"L3l3Izr0\",\"engineering_build_webpack.md\":\"D3UYA0Lz\",\"engineering_coding_push.md\":\"BjI-tNmn\",\"engineering_coding_rule.md\":\"CyfNqKO4\",\"engineering_coding_style.md\":\"BNyzaa-1\",\"engineering_coding_test.md\":\"CUQOZa_z\",\"engineering_intro.md\":\"DvBRMKe1\",\"engineering_monitor.md\":\"DZF50-yK\",\"engineering_package-manager_npm.md\":\"DZFoN76L\",\"engineering_package-manager_pnpm.md\":\"KiRRbE-T\",\"engineering_package-manager_yarn.md\":\"Kab1ezh0\",\"engineering_performance.md\":\"DxuSsk2o\",\"engineering_performance_bundling.md\":\"BL65UCA7\",\"engineering_performance_core-metrics.md\":\"BxZaKxrc\",\"engineering_performance_framework.md\":\"CBHN2Mx-\",\"engineering_performance_javascript.md\":\"CATX0CWY\",\"engineering_performance_monitor.md\":\"BNJHloED\",\"engineering_performance_monitoring.md\":\"IYGsdzzd\",\"engineering_performance_network.md\":\"wXy5WaLp\",\"engineering_performance_rendering.md\":\"vBfYkTs2\",\"engineering_performance_resources.md\":\"6hA4qO02\",\"engineering_performance_tooling.md\":\"C2hc7GI_\",\"engineering_performance_why.md\":\"rsUNsoZV\",\"engineering_security.md\":\"dNXNARcX\",\"engineering_seo_analytics.md\":\"CzrsYOrr\",\"engineering_seo_basic.md\":\"CqWsdJJa\",\"engineering_seo_content-strategy.md\":\"xBPTf4IJ\",\"engineering_seo_for-ai.md\":\"Dh8JOln8\",\"engineering_seo_for-baidu.md\":\"C_-8_p3v\",\"engineering_seo_for-google.md\":\"BX4E3I4j\",\"engineering_seo_future.md\":\"BwrDpdy3\",\"engineering_seo_index-crawl.md\":\"Kzmv_jl7\",\"engineering_seo_keyword-research.md\":\"CHWI5MUa\",\"engineering_seo_off-page.md\":\"Q4okIQzP\",\"engineering_seo_renderer.md\":\"Byc6t9nh\",\"engineering_seo_resources.md\":\"Bn2ke6qz\",\"engineering_seo_web-struct.md\":\"Cv2qDPXb\",\"framework_angular_form.md\":\"CK_rnzVd\",\"framework_angular_framework.md\":\"BES5yvWS\",\"framework_angular_http.md\":\"DJtI528m\",\"framework_angular_pipe.md\":\"CkhzekAO\",\"framework_angular_router.md\":\"CbsWd38W\",\"framework_angular_rxjs.md\":\"DE9KMov7\",\"framework_angular_services.md\":\"CrqDF0Np\",\"framework_angular_signal.md\":\"BikhqqQr\",\"framework_angular_start.md\":\"D38NHGaR\",\"framework_angular_status.md\":\"DOJ8Onn5\",\"framework_angular_tempalte.md\":\"_YMi1kCb\",\"framework_nextjs_data-fetching.md\":\"DSyndhwH\",\"framework_nextjs_ecosystem.md\":\"CIDqkVQJ\",\"framework_nextjs_middleware.md\":\"DiHl9_7b\",\"framework_nextjs_rendering.md\":\"CIQVzJLW\",\"framework_nextjs_router.md\":\"BkekxDK3\",\"framework_nextjs_start.md\":\"mAFA9--j\",\"framework_nextjs_status.md\":\"D2h1blLy\",\"framework_nuxtjs_api.md\":\"DQyyTXKZ\",\"framework_nuxtjs_data-fetching.md\":\"Dx34PQ9z\",\"framework_nuxtjs_middleware.md\":\"2jSaxvqV\",\"framework_nuxtjs_plugins.md\":\"DmLCOBbD\",\"framework_nuxtjs_rendering.md\":\"CIEI7avl\",\"framework_nuxtjs_router.md\":\"CtXhn5E3\",\"framework_nuxtjs_start.md\":\"DHUid8XT\",\"framework_nuxtjs_status.md\":\"DN4PVlsL\",\"framework_react_compiler.md\":\"CXQUM9y6\",\"framework_react_component.md\":\"BDRO0GHx\",\"framework_react_concurrent.md\":\"HdHSmAf_\",\"framework_react_css.md\":\"qXmn5KBk\",\"framework_react_fiber.md\":\"D30N556K\",\"framework_react_hooks.md\":\"DBtLxUGY\",\"framework_react_intro.md\":\"BsTQr5KE\",\"framework_react_jsx.md\":\"BL3sla29\",\"framework_react_managing-state.md\":\"9qnSnv0A\",\"framework_react_router.md\":\"CBB-jznl\",\"framework_react_tsx.md\":\"CmXpHDPw\",\"framework_react_ui.md\":\"DKHZVAeK\",\"framework_umijs_build.md\":\"D1SgH3e1\",\"framework_umijs_mock.md\":\"CgkELvA1\",\"framework_umijs_plugins.md\":\"In4jUbwE\",\"framework_umijs_router.md\":\"CHsYoJ7I\",\"framework_umijs_start.md\":\"gB0e-8Np\",\"framework_umijs_status.md\":\"VlOHTWOp\",\"framework_vue2_basic.md\":\"c4-DH_Ot\",\"framework_vue2_component.md\":\"C2sguXmx\",\"framework_vue2_directives.md\":\"BQpQn3S1\",\"framework_vue2_internal-component.md\":\"CBrV3OvV\",\"framework_vue2_intro.md\":\"DJ7quQcc\",\"framework_vue2_lifecycle.md\":\"CjFGk9b8\",\"framework_vue2_option-api.md\":\"MccWce78\",\"framework_vue2_reactive.md\":\"jdPLakIM\",\"framework_vue2_slots.md\":\"BGc8qamA\",\"framework_vue2_state.md\":\"BI5wAMTB\",\"framework_vue_async.md\":\"BQIqDD1B\",\"framework_vue_basic.md\":\"C--5pYm0\",\"framework_vue_component.md\":\"DufYrmPL\",\"framework_vue_composition-api.md\":\"BwDUkPZK\",\"framework_vue_directives.md\":\"w19GNPuc\",\"framework_vue_dynamic-component.md\":\"DK-1Mdip\",\"framework_vue_internal-component.md\":\"X8Og_Mnp\",\"framework_vue_intro.md\":\"Dum0XJtE\",\"framework_vue_lifecycle.md\":\"C6afE5s2\",\"framework_vue_reactive.md\":\"J39aTaX8\",\"framework_vue_slots.md\":\"UxAuVwiT\",\"framework_vue_state.md\":\"r4a5fgIM\",\"framework_vue_ts.md\":\"6VZjMghW\",\"full-stack_database_intro.md\":\"PIlUCO5y\",\"full-stack_database_mongodb.md\":\"VCRJ_T-4\",\"full-stack_database_mysql.md\":\"C3TEoH31\",\"full-stack_database_postgresql.md\":\"DAQLxR31\",\"full-stack_database_redis.md\":\"K6XWkrmm\",\"full-stack_framework_express.md\":\"C7xQejvu\",\"full-stack_framework_koa.md\":\"DL_Z2LZJ\",\"full-stack_framework_nestjs.md\":\"CLTGWIyO\",\"full-stack_framework_node.md\":\"Dy6SGX5M\",\"full-stack_network_http.md\":\"MsJZitx7\",\"full-stack_network_https.md\":\"D3PERn85\",\"full-stack_network_tcp-ip.md\":\"BND1IQ1L\",\"full-stack_network_udp.md\":\"C7vK6fzJ\",\"full-stack_network_websocket.md\":\"DCXtzhnp\",\"full-stack_network_wireshark.md\":\"D1R4xNYT\",\"full-stack_operation_ci-cd.md\":\"xRJzp3lr\",\"full-stack_operation_docker.md\":\"CjpU7Cub\",\"full-stack_operation_kubernetes.md\":\"DKFwKTJr\",\"full-stack_operation_linux.md\":\"Ce8sH6X3\",\"full-stack_operation_monitor.md\":\"DhNkiQUx\",\"full-stack_operation_security.md\":\"WUVp38qc\",\"full-stack_serverless_architecture.md\":\"-VArPudy\",\"full-stack_serverless_functions.md\":\"VBFTeZFG\",\"full-stack_serverless_intro.md\":\"CGDunbFN\",\"index.md\":\"C_XyFhoR\",\"leading_ai-web_api.md\":\"WpoQGOYd\",\"leading_ai-web_chat.md\":\"ugxX8MM7\",\"leading_ai-web_ecosystem.md\":\"DG_w6eT4\",\"leading_ai-web_interaction.md\":\"Nnpv6AAX\",\"leading_ai-web_intro.md\":\"CyLOQ4jn\",\"leading_ai-web_onnx.md\":\"CTVXLPcE\",\"leading_ai-web_principle.md\":\"B0GMZxBv\",\"leading_ai-web_prompt.md\":\"DXKKkDxY\",\"leading_ai-web_run-in-browser.md\":\"DoSg2xlm\",\"leading_ai-web_tensorflow.md\":\"BMCt26e8\",\"leading_ai-web_transformers.md\":\"D2_TqYh0\",\"leading_web3_blockchain.md\":\"ylQuDgpY\",\"leading_web3_chain-net.md\":\"C9hbgO-Z\",\"leading_web3_consensus.md\":\"Bq62YEzL\",\"leading_web3_cross-chain.md\":\"BFAJ3EbJ\",\"leading_web3_crypto-basics.md\":\"CX1wkhNU\",\"leading_web3_crypto-wallets.md\":\"CfoRdyZp\",\"leading_web3_dao.md\":\"FuVtYylP\",\"leading_web3_dapp-development.md\":\"BSgT7Su7\",\"leading_web3_decentralized-storage.md\":\"DbJyKTWG\",\"leading_web3_defi.md\":\"DHbFpyrT\",\"leading_web3_ethers.md\":\"Clo9Wv6Z\",\"leading_web3_frontend-basic.md\":\"BZAfogmV\",\"leading_web3_future-outlook.md\":\"GBuQAZb9\",\"leading_web3_intro.md\":\"CDKBecXB\",\"leading_web3_modular-blockchain.md\":\"D37TurkX\",\"leading_web3_nft.md\":\"D7WyCGgI\",\"leading_web3_security-audit.md\":\"yGm-0dP-\",\"leading_web3_security.md\":\"KAPxwIf6\",\"leading_web3_smart-contracts.md\":\"CDKnujhT\",\"leading_web3_wagmi-viem.md\":\"BHTsZwaq\",\"leading_web3_zero-knowledge-proofs.md\":\"0MXfdtn_\",\"leading_web3_zk-layer2.md\":\"DyB4Iz0v\",\"leading_webassembly_basic.md\":\"CxwXA1WX\",\"leading_webassembly_component-model.md\":\"DT5g_Xbn\",\"leading_webassembly_design-philosophy.md\":\"CbT-Lpx7\",\"leading_webassembly_future.md\":\"DVqBgNaa\",\"leading_webassembly_gc-proposal.md\":\"CBdgkrKB\",\"leading_webassembly_js-interaction.md\":\"Bja5477t\",\"leading_webassembly_linear-memory.md\":\"9akEgUdE\",\"leading_webassembly_module-structure.md\":\"BYCcteEq\",\"leading_webassembly_other-languages.md\":\"DL6nkjjX\",\"leading_webassembly_server-side.md\":\"Bdo5CdU8\",\"leading_webassembly_stack-vm-and-instructions.md\":\"CPxBu1jr\",\"leading_webassembly_start.md\":\"D5TpMBYe\",\"leading_webassembly_threads-simd-exceptions.md\":\"D9n6e2wQ\",\"leading_webassembly_toolchain.md\":\"BWIK7MYa\",\"leading_webassembly_wasi.md\":\"CzeRYVSI\",\"leading_webassembly_wasm-rust.md\":\"DPKCcAFW\",\"mobile_basic.md\":\"MHsEUrsd\",\"operations_linux_intro.md\":\"Cj6666CX\",\"special_cli_args.md\":\"DNC1esG0\",\"special_cli_build.md\":\"eVnmHrE2\",\"special_cli_config.md\":\"Bq7-k7Sp\",\"special_cli_cross-platform.md\":\"CqjzDnEt\",\"special_cli_input.md\":\"BzzFKPo5\",\"special_cli_intro.md\":\"lEG5z5Z0\",\"special_cli_log.md\":\"BuD449Pe\",\"special_cli_output.md\":\"CAuqLH1r\",\"special_cli_progress.md\":\"BKLMRn0h\",\"special_cli_publish.md\":\"CGmnTe1V\",\"special_cli_run.md\":\"qB0r8C_x\",\"special_cli_test.md\":\"D33M8Ass\",\"special_electron_browser-window.md\":\"H7nRJJmQ\",\"special_electron_build.md\":\"Dy3UACvq\",\"special_electron_debug.md\":\"WHmqbrD_\",\"special_electron_electron-vite.md\":\"BcUcn9Gq\",\"special_electron_hardware.md\":\"Bwd-UZZ3\",\"special_electron_intro.md\":\"Cdd9cSzi\",\"special_electron_ipc.md\":\"-ZD_Ve9f\",\"special_electron_log.md\":\"CZ7IA1oj\",\"special_electron_main-process.md\":\"BjKgWTzx\",\"special_electron_native.md\":\"DWEg-P5A\",\"special_electron_node-integration.md\":\"BHIQQvAB\",\"special_electron_performance.md\":\"DVELg8Dz\",\"special_electron_process-model.md\":\"EjVuBRSn\",\"special_electron_publish.md\":\"D5tQsDM5\",\"special_electron_renderer-process.md\":\"C7eYjvXT\",\"special_electron_scripts.md\":\"DcShV2Gx\",\"special_electron_security.md\":\"BBP7zfKS\",\"special_electron_start.md\":\"DGbMr497\",\"special_electron_system.md\":\"6qGIa6we\",\"special_electron_ui-framework.md\":\"CRWNoBs3\",\"special_electron_wasm.md\":\"DepT40i4\",\"special_mobile_applet_alipay.md\":\"1pG6HRej\",\"special_mobile_applet_cross-platform.md\":\"BW2imtH0\",\"special_mobile_applet_wechat.md\":\"DjMAerZ9\",\"special_mobile_basic_intro.md\":\"C6Ut4LG_\",\"special_mobile_basic_touch-events.md\":\"DjojyOsW\",\"special_mobile_basic_viewport.md\":\"D4kSqJAt\",\"special_mobile_framework_flutter.md\":\"1-D1K9S9\",\"special_mobile_framework_react-native.md\":\"92rizGBw\",\"special_mobile_framework_weex.md\":\"Cg7pvXd_\",\"special_mobile_publish_debug.md\":\"D9AN1MdH\",\"special_mobile_publish_hot-update.md\":\"DMnrk9f0\",\"special_mobile_publish_publish.md\":\"BS5Np3Ho\",\"special_mobile_web_hybrid.md\":\"CUmMgHEs\",\"special_mobile_web_pwa.md\":\"Bm8UU4qB\",\"special_mobile_web_responsive.md\":\"DeV542GX\",\"special_security_api-security.md\":\"B60ycAcE\",\"special_security_attacks.md\":\"DzseZ_sH\",\"special_security_authority.md\":\"CpcozSAl\",\"special_security_backend.md\":\"DyYBhd-Y\",\"special_security_browser-model.md\":\"D-nmQCWB\",\"special_security_cloud-iam.md\":\"I4uuChcH\",\"special_security_ddos.md\":\"E6Mv4c1k\",\"special_security_intro.md\":\"Dtuk9c6c\",\"special_security_log-analysis.md\":\"DcUrIQ39\",\"special_security_owasp-top10.md\":\"WPdS_GN8\",\"special_security_pentest.md\":\"GCRbFyx5\",\"special_security_scanning.md\":\"CpTfFLyT\",\"special_security_sourcemap.md\":\"D-1D6uLk\",\"special_security_tools.md\":\"CViotqYT\",\"special_security_waf.md\":\"DcjxL9ao\",\"web-3d_basic_basic.md\":\"Cb_KQwth\",\"web-3d_basic_coordinate-system.md\":\"DKAj9qN6\",\"web-3d_basic_transform.md\":\"K3U4GGtd\",\"web-3d_performance_loading.md\":\"CRB_b0Zo\",\"web-3d_performance_memory.md\":\"W7nFc37U\",\"web-3d_performance_rendering.md\":\"C-jBxEer\",\"web-3d_theory_lighting.md\":\"BsBfNmeI\",\"web-3d_theory_principle.md\":\"BbnSBcBm\",\"web-3d_theory_shaders.md\":\"C6PQfL9U\",\"web-3d_threejs_animation.md\":\"cltoGt3c\",\"web-3d_threejs_basic.md\":\"CWrBAsz9\",\"web-3d_threejs_geometry-material.md\":\"nNjzLemS\",\"web-3d_threejs_scene-camera.md\":\"DbJLd9md\",\"web-3d_webgl_basic.md\":\"BpYhPRg_\",\"web-3d_webgl_buffers.md\":\"CHXVkiVu\",\"web-3d_webgl_textures.md\":\"B4RS5rQp\",\"web-3d_webgpu_api.md\":\"66JZyxGf\",\"web-3d_webgpu_compute.md\":\"DIWws65-\",\"web-3d_webgpu_mechanism.md\":\"DxAwk6b5\",\"web-3d_webgpu_pipeline.md\":\"CfY6qD48\",\"web-3d_webgpu_start.md\":\"ffmNtE8j\",\"web-3d_webgpu_toolchain.md\":\"BbcJsZxh\",\"web-3d_webxr_ar.md\":\"BvUp9Azk\",\"web-3d_webxr_basic.md\":\"FOANcNl4\",\"web-3d_webxr_vr.md\":\"DEwZL6k2\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"HookAll\",\"description\":\"HookAll - 互联网开发文档\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"基础\",\"activeMatch\":\"^/basic/\",\"items\":[{\"text\":\"必备\",\"link\":\"/basic/necessary/internet\"},{\"text\":\"html\",\"link\":\"/basic/html/intro\"},{\"text\":\"css\",\"link\":\"/basic/css/basic\"},{\"text\":\"javascript\",\"link\":\"/basic/javascript/basic/introduction\"},{\"text\":\"es6\",\"link\":\"/basic/es6/intro\"},{\"text\":\"typescript\",\"link\":\"/basic/typescript/intro\"},{\"text\":\"git\",\"link\":\"/basic/git/intro\"},{\"text\":\"DOM\",\"link\":\"/basic/dom/intro\"},{\"text\":\"BOM\",\"link\":\"/basic/bom/engine\"},{\"text\":\"node\",\"link\":\"/basic/node/intro\"},{\"text\":\"算法\",\"link\":\"/basic/algorithm/intro\"}]},{\"text\":\"框架\",\"activeMatch\":\"^/framework/\",\"items\":[{\"text\":\"React\",\"link\":\"/framework/react/intro\"},{\"text\":\"Vue\",\"link\":\"/framework/vue/intro\"},{\"text\":\"nextjs\",\"link\":\"/framework/nextjs/start\"},{\"text\":\"umijs\",\"link\":\"/framework/umijs/start\"},{\"text\":\"nuxtjs\",\"link\":\"/framework/nuxtjs/start\"},{\"text\":\"Vue 2 (EOL)\",\"link\":\"/framework/vue2/intro\"},{\"text\":\"Angular\",\"link\":\"/framework/angular/start\"}]},{\"text\":\"工程化\",\"activeMatch\":\"^/engineering/\",\"items\":[{\"text\":\"概述\",\"link\":\"/engineering/intro\"},{\"text\":\"包管理\",\"link\":\"/engineering/package-manager/npm\"},{\"text\":\"架构\",\"link\":\"/engineering/architecture/module\"},{\"text\":\"构建工具\",\"link\":\"/engineering/build/vite\"},{\"text\":\"代码质量\",\"link\":\"/engineering/coding/rule\"},{\"text\":\"性能优化\",\"link\":\"/engineering/performance/why\"},{\"text\":\"SEO\",\"link\":\"/engineering/seo/basic\"},{\"text\":\"无障碍\",\"link\":\"/engineering/accessible/intro\"}]},{\"text\":\"全栈\",\"activeMatch\":\"^/full-stack/\",\"items\":[{\"text\":\"网络基础\",\"link\":\"/full-stack/network/http\"},{\"text\":\"node 后端\",\"link\":\"/full-stack/framework/node\"},{\"text\":\"Serverless\",\"link\":\"/full-stack/serverless/intro\"},{\"text\":\"数据库\",\"link\":\"/full-stack/database/intro\"},{\"text\":\"运维\",\"link\":\"/full-stack/operation/linux\"}]},{\"text\":\"Web 3D\",\"activeMatch\":\"^/web-3d/\",\"items\":[{\"text\":\"基础\",\"link\":\"/web-3d/basic/basic\"},{\"text\":\"核心原理\",\"link\":\"/web-3d/theory/principle\"},{\"text\":\"WebGL\",\"link\":\"/web-3d/webgl/basic\"},{\"text\":\"WebGPU\",\"link\":\"/web-3d/webgpu/start\"},{\"text\":\"three.js\",\"link\":\"/web-3d/threejs/basic\"},{\"text\":\"WebXR\",\"link\":\"/web-3d/webxr/basic\"},{\"text\":\"性能优化\",\"link\":\"/web-3d/performance/rendering\"}]},{\"text\":\"专项\",\"activeMatch\":\"^/special/\",\"items\":[{\"text\":\"移动端\",\"link\":\"/special/mobile/basic/intro\"},{\"text\":\"Electron\",\"link\":\"/special/electron/intro\"},{\"text\":\"命令行开发\",\"link\":\"/special/cli/intro\"},{\"text\":\"Web 安全\",\"link\":\"/special/security/intro\"}]},{\"text\":\"前沿\",\"activeMatch\":\"^/leading/\",\"items\":[{\"text\":\"WebAssembly\",\"link\":\"/leading/webassembly/basic\"},{\"text\":\"AI & Web\",\"link\":\"/leading/ai-web/intro\"},{\"text\":\"Web3\",\"link\":\"/leading/web3/intro\"}]}],\"sidebar\":{\"/basic/\":[{\"text\":\"必备\",\"items\":[{\"text\":\"科学上网\",\"link\":\"/basic/necessary/internet\"},{\"text\":\"搜索\",\"link\":\"/basic/necessary/searching\"},{\"text\":\"AI\",\"link\":\"/basic/necessary/ai\"}]},{\"text\":\"html\",\"items\":[{\"text\":\"HTML 语言简介\",\"link\":\"/basic/html/intro\"},{\"text\":\"URL 简介\",\"link\":\"/basic/html/url\"},{\"text\":\"网页元素的属性\",\"link\":\"/basic/html/attribute\"},{\"text\":\"HTML 字符编码\",\"link\":\"/basic/html/encode\"},{\"text\":\"网页的语义结构\",\"link\":\"/basic/html/semantic\"},{\"text\":\"文本标签\",\"link\":\"/basic/html/text\"},{\"text\":\"列表标签\",\"link\":\"/basic/html/list\"},{\"text\":\"图像标签\",\"link\":\"/basic/html/image\"},{\"text\":\"<a>\",\"link\":\"/basic/html/a\"},{\"text\":\"<link>\",\"link\":\"/basic/html/link\"},{\"text\":\"<script>，<noscript>\",\"link\":\"/basic/html/script\"},{\"text\":\"多媒体标签\",\"link\":\"/basic/html/multimedia\"},{\"text\":\"iframe\",\"link\":\"/basic/html/iframe\"},{\"text\":\"表格标签\",\"link\":\"/basic/html/table\"},{\"text\":\"表单标签\",\"link\":\"/basic/html/form\"},{\"text\":\"移动设备网页设计\",\"link\":\"/basic/html/mobile\"},{\"text\":\"其他标签\",\"link\":\"/basic/html/elements\"}]},{\"text\":\"css\",\"items\":[{\"text\":\"css 基础\",\"link\":\"/basic/css/basic\"},{\"text\":\"css 选择器\",\"link\":\"/basic/css/selector\"},{\"text\":\"css 盒模型\",\"link\":\"/basic/css/box-model\"},{\"text\":\"布局与响应式\",\"link\":\"/basic/css/layout\"},{\"text\":\"css 动画\",\"link\":\"/basic/css/animation\"},{\"text\":\"Transform 3D\",\"link\":\"/basic/css/transform-3d\"}]},{\"text\":\"javascript\",\"items\":[{\"text\":\"导论\",\"link\":\"/basic/javascript/basic/introduction\"},{\"text\":\"JavaScript 语言的历史\",\"link\":\"/basic/javascript/basic/history\"},{\"text\":\"JavaScript 的基本语法\",\"link\":\"/basic/javascript/basic/grammar\"},{\"text\":\"数据类型概述\",\"link\":\"/basic/javascript/types/general\"},{\"text\":\"null, undefined 和布尔值\",\"link\":\"/basic/javascript/types/null-undefined-boolean\"},{\"text\":\"数值\",\"link\":\"/basic/javascript/types/number\"},{\"text\":\"字符串\",\"link\":\"/basic/javascript/types/string\"},{\"text\":\"对象\",\"link\":\"/basic/javascript/types/object\"},{\"text\":\"函数\",\"link\":\"/basic/javascript/types/function\"},{\"text\":\"数组\",\"link\":\"/basic/javascript/types/array\"},{\"text\":\"算术运算符\",\"link\":\"/basic/javascript/operators/arithmetic\"},{\"text\":\"比较运算符\",\"link\":\"/basic/javascript/operators/comparison\"},{\"text\":\"布尔运算符\",\"link\":\"/basic/javascript/operators/boolean\"},{\"text\":\"二进制位运算符\",\"link\":\"/basic/javascript/operators/bit\"},{\"text\":\"其他运算符，运算顺序\",\"link\":\"/basic/javascript/operators/priority\"},{\"text\":\"数据类型的转换\",\"link\":\"/basic/javascript/features/conversion\"},{\"text\":\"错误处理机制\",\"link\":\"/basic/javascript/features/error\"},{\"text\":\"编程风格\",\"link\":\"/basic/javascript/features/style\"},{\"text\":\"console 对象与控制台\",\"link\":\"/basic/javascript/features/console\"},{\"text\":\"Object 对象\",\"link\":\"/basic/javascript/stdlib/object\"},{\"text\":\"属性描述对象\",\"link\":\"/basic/javascript/stdlib/attributes\"},{\"text\":\"Array 对象\",\"link\":\"/basic/javascript/stdlib/array\"},{\"text\":\"包装对象\",\"link\":\"/basic/javascript/stdlib/wrapper\"},{\"text\":\"Boolean 对象\",\"link\":\"/basic/javascript/stdlib/boolean\"},{\"text\":\"Number 对象\",\"link\":\"/basic/javascript/stdlib/number\"},{\"text\":\"String 对象\",\"link\":\"/basic/javascript/stdlib/string\"},{\"text\":\"Math 对象\",\"link\":\"/basic/javascript/stdlib/math\"},{\"text\":\"Date 对象\",\"link\":\"/basic/javascript/stdlib/date\"},{\"text\":\"RegExp 对象\",\"link\":\"/basic/javascript/stdlib/regexp\"},{\"text\":\"JSON 对象\",\"link\":\"/basic/javascript/stdlib/json\"},{\"text\":\"实例对象与 new 命令\",\"link\":\"/basic/javascript/oop/new\"},{\"text\":\"this 关键字\",\"link\":\"/basic/javascript/oop/this\"},{\"text\":\"对象的继承\",\"link\":\"/basic/javascript/oop/prototype\"},{\"text\":\"Object 对象的相关方法\",\"link\":\"/basic/javascript/oop/object\"},{\"text\":\"严格模式\",\"link\":\"/basic/javascript/oop/strict\"},{\"text\":\"异步操作概述\",\"link\":\"/basic/javascript/async/general\"},{\"text\":\"定时器\",\"link\":\"/basic/javascript/async/timer\"},{\"text\":\"Promise 对象\",\"link\":\"/basic/javascript/async/promise\"}]},{\"text\":\"es6\",\"items\":[{\"text\":\"ECMAScript 6 简介\",\"link\":\"/basic/es6/intro\"},{\"text\":\"let 和 const 命令\",\"link\":\"/basic/es6/let\"},{\"text\":\"变量的解构赋值\",\"link\":\"/basic/es6/destructuring\"},{\"text\":\"字符串的扩展\",\"link\":\"/basic/es6/string\"},{\"text\":\"字符串的新增方法\",\"link\":\"/basic/es6/string-methods\"},{\"text\":\"正则的扩展\",\"link\":\"/basic/es6/regex\"},{\"text\":\"数值的扩展\",\"link\":\"/basic/es6/number\"},{\"text\":\"函数的扩展\",\"link\":\"/basic/es6/function\"},{\"text\":\"数组的扩展\",\"link\":\"/basic/es6/array\"},{\"text\":\"对象的扩展\",\"link\":\"/basic/es6/object\"},{\"text\":\"对象的新增方法\",\"link\":\"/basic/es6/object-methods\"},{\"text\":\"运算符的扩展\",\"link\":\"/basic/es6/operator\"},{\"text\":\"Symbol\",\"link\":\"/basic/es6/symbol\"},{\"text\":\"Set 和 Map 数据结构\",\"link\":\"/basic/es6/set-map\"},{\"text\":\"Proxy\",\"link\":\"/basic/es6/proxy\"},{\"text\":\"Reflect\",\"link\":\"/basic/es6/reflect\"},{\"text\":\"Promise 对象\",\"link\":\"/basic/es6/promise\"},{\"text\":\"Iterator 和 for...of 循环\",\"link\":\"/basic/es6/iterator\"},{\"text\":\"Generator 函数的语法\",\"link\":\"/basic/es6/generator\"},{\"text\":\"Generator 函数的异步应用\",\"link\":\"/basic/es6/generator-async\"},{\"text\":\"async 函数\",\"link\":\"/basic/es6/async\"},{\"text\":\"函数式编程\",\"link\":\"/basic/es6/fp\"},{\"text\":\"Class 的基本语法\",\"link\":\"/basic/es6/class\"},{\"text\":\"Class 的继承\",\"link\":\"/basic/es6/class-extends\"},{\"text\":\"Mixin\",\"link\":\"/basic/es6/mixin\"},{\"text\":\"Module 的语法\",\"link\":\"/basic/es6/module\"},{\"text\":\"Module 的加载实现\",\"link\":\"/basic/es6/module-loader\"},{\"text\":\"编程风格\",\"link\":\"/basic/es6/style\"},{\"text\":\"读懂 ECMAScript 规格\",\"link\":\"/basic/es6/spec\"},{\"text\":\"异步遍历器\",\"link\":\"/basic/es6/async-iterator\"},{\"text\":\"ArrayBuffer\",\"link\":\"/basic/es6/arraybuffer\"},{\"text\":\"最新提案\",\"link\":\"/basic/es6/proposals\"},{\"text\":\"SIMD\",\"link\":\"/basic/es6/simd\"},{\"text\":\"装饰器\",\"link\":\"/basic/es6/decorator\"}]},{\"text\":\"typescript\",\"items\":[{\"link\":\"/basic/typescript/intro\",\"text\":\"TypeScript 语言简介\"},{\"text\":\"TypeScript 基本用法\",\"link\":\"/basic/typescript/basic\"},{\"text\":\"any 类型，unknown 类型，never 类型\",\"link\":\"/basic/typescript/any\"},{\"text\":\"TypeScript 的类型系统\",\"link\":\"/basic/typescript/types\"},{\"link\":\"/basic/typescript/array\",\"text\":\"TypeScript 的数组类型\"},{\"text\":\"TypeScript 的元组类型\",\"link\":\"/basic/typescript/tuple\"},{\"text\":\"TypeScript 的 symbol 类型\",\"link\":\"/basic/typescript/symbol\"},{\"link\":\"/basic/typescript/function\",\"text\":\"TypeScript 的函数类型\"},{\"link\":\"/basic/typescript/object\",\"text\":\"TypeScript 的对象类型\"},{\"text\":\"TypeScript 的 interface 接口\",\"link\":\"/basic/typescript/interface\"},{\"link\":\"/basic/typescript/class\",\"text\":\"TypeScript 的 class 类型\"},{\"link\":\"/basic/typescript/generics\",\"text\":\"TypeScript 泛型\"},{\"link\":\"/basic/typescript/enum\",\"text\":\"TypeScript 的 Enum 类型\"},{\"text\":\"TypeScript 的类型断言\",\"link\":\"/basic/typescript/assert\"},{\"text\":\"TypeScript 项目使用 npm 模块\",\"link\":\"/basic/typescript/npm\"},{\"link\":\"/basic/typescript/namespace\",\"text\":\"TypeScript namespace\"},{\"text\":\"TypeScript 装饰器\",\"link\":\"/basic/typescript/decorator\"},{\"text\":\"装饰器（旧语法）\",\"link\":\"/basic/typescript/decorator-legacy\"},{\"text\":\"declare 关键字\",\"link\":\"/basic/typescript/declare\"},{\"link\":\"/basic/typescript/d-ts\",\"text\":\"d.ts 类型声明文件\"},{\"text\":\"类型运算\",\"link\":\"/basic/typescript/type-operations\"},{\"link\":\"/basic/typescript/mapping\",\"text\":\"TypeScript 的类型映射\"},{\"link\":\"/basic/typescript/utility\",\"text\":\"TypeScript 类型工具\"},{\"text\":\"TypeScript 的 React 支持\",\"link\":\"/basic/typescript/react\"},{\"text\":\"TypeScript 的注释指令\",\"link\":\"/basic/typescript/comment\"},{\"link\":\"/basic/typescript/tsconfig-json\",\"text\":\"tsconfig.json\"},{\"link\":\"/basic/typescript/tsc\",\"text\":\"tsc 命令行编译器\"},{\"link\":\"/basic/typescript/operator\",\"text\":\"TypeScript 类型运算符\"},{\"text\":\"TypeScript 类型缩小\",\"link\":\"/basic/typescript/narrowing\"},{\"link\":\"/basic/typescript/module\",\"text\":\"TypeScript 模块\"},{\"text\":\"TypeScript 的 ES6 类型\",\"link\":\"/basic/typescript/es6\"}]},{\"text\":\"git\",\"items\":[{\"text\":\"Git 简介\",\"link\":\"/basic/git/intro\"},{\"text\":\"Git 安装与配置\",\"link\":\"/basic/git/install\"},{\"text\":\"Git 仓库管理\",\"link\":\"/basic/git/repository\"},{\"text\":\"Git 分支管理\",\"link\":\"/basic/git/branch\"},{\"text\":\"Git 标签管理\",\"link\":\"/basic/git/tag\"},{\"text\":\"Git 工作流\",\"link\":\"/basic/git/workflow\"},{\"text\":\"Git Hooks\",\"link\":\"/basic/git/hooks\"},{\"text\":\"Git 高级技巧\",\"link\":\"/basic/git/advanced\"}]},{\"text\":\"DOM\",\"items\":[{\"text\":\"DOM 介绍\",\"link\":\"/basic/dom/intro\"},{\"text\":\"Node 接口\",\"link\":\"/basic/dom/node\"},{\"text\":\"NodeList 接口，HTMLCollection 接口\",\"link\":\"/basic/dom/nodelist\"},{\"text\":\"ParentNode 接口，ChildNode 接口\",\"link\":\"/basic/dom/parentnode\"},{\"text\":\"Document 节点\",\"link\":\"/basic/dom/document\"},{\"text\":\"Element 节点\",\"link\":\"/basic/dom/element\"},{\"text\":\"属性的操作\",\"link\":\"/basic/dom/attributes\"},{\"text\":\"Text 节点和 DocumentFragment 节点\",\"link\":\"/basic/dom/text\"},{\"text\":\"CSS 操作\",\"link\":\"/basic/dom/css\"},{\"text\":\"Mutation Observer API\",\"link\":\"/basic/dom/mutationobserver\"},{\"text\":\"EventTarget 接口\",\"link\":\"/basic/dom/events/eventtarget\"},{\"text\":\"事件模型\",\"link\":\"/basic/dom/events/model\"},{\"text\":\"Event 对象\",\"link\":\"/basic/dom/events/event\"},{\"text\":\"鼠标事件\",\"link\":\"/basic/dom/events/mouse\"},{\"text\":\"键盘事件\",\"link\":\"/basic/dom/events/keyboard\"},{\"text\":\"进度事件\",\"link\":\"/basic/dom/events/progress\"},{\"text\":\"表单事件\",\"link\":\"/basic/dom/events/form\"},{\"text\":\"触摸事件\",\"link\":\"/basic/dom/events/touch\"},{\"text\":\"拖拉事件\",\"link\":\"/basic/dom/events/drag\"},{\"text\":\"其他常见事件\",\"link\":\"/basic/dom/events/common\"},{\"text\":\"GlobalEventHandlers 接口\",\"link\":\"/basic/dom/events/globaleventhandlers\"},{\"text\":\"<a> 元素\",\"link\":\"/basic/dom/elements/a\"},{\"text\":\"<img> 元素\",\"link\":\"/basic/dom/elements/image\"},{\"text\":\"<form> 元素\",\"link\":\"/basic/dom/elements/form\"},{\"text\":\"<input> 元素\",\"link\":\"/basic/dom/elements/input\"},{\"text\":\"<button> 元素\",\"link\":\"/basic/dom/elements/button\"},{\"text\":\"<option> 元素\",\"link\":\"/basic/dom/elements/option\"},{\"text\":\"<video>，<audio>\",\"link\":\"/basic/dom/elements/video\"}]},{\"text\":\"BOM\",\"items\":[{\"text\":\"浏览器环境概述\",\"link\":\"/basic/bom/engine\"},{\"text\":\"window 对象\",\"link\":\"/basic/bom/window\"},{\"text\":\"Navigator 对象，Screen 对象。\",\"link\":\"/basic/bom/navigator\"},{\"text\":\"Cookie\",\"link\":\"/basic/bom/cookie\"},{\"text\":\"XMLHttpRequest 对象\",\"link\":\"/basic/bom/xmlhttprequest\"},{\"text\":\"同源限制\",\"link\":\"/basic/bom/same-origin\"},{\"text\":\"CORS 通信\",\"link\":\"/basic/bom/cors\"},{\"text\":\"Storage 接口\",\"link\":\"/basic/bom/storage\"},{\"text\":\"History 对象\",\"link\":\"/basic/bom/history\"},{\"text\":\"Location 对象，URL 对象，URLSearchParams 对象\",\"link\":\"/basic/bom/location\"},{\"text\":\"ArrayBuffer 对象，Blob 对象\",\"link\":\"/basic/bom/arraybuffer\"},{\"text\":\"File 对象，FileList 对象，FileReader 对象\",\"link\":\"/basic/bom/file\"},{\"text\":\"表单，FormData 对象\",\"link\":\"/basic/bom/form\"},{\"text\":\"IndexedDB API\",\"link\":\"/basic/bom/indexeddb\"},{\"text\":\"Web Worker\",\"link\":\"/basic/bom/webworker\"},{\"text\":\"Canvas API\",\"link\":\"/basic/bom/canvas\"},{\"text\":\"剪贴板操作 Clipboard API 教程\",\"link\":\"/basic/bom/clipboard\"},{\"text\":\"Fetch API 教程\",\"link\":\"/basic/bom/fetch\"},{\"text\":\"FontFace API\",\"link\":\"/basic/bom/fontface\"},{\"text\":\"FormData 对象\",\"link\":\"/basic/bom/formdata\"},{\"text\":\"Geolocation API\",\"link\":\"/basic/bom/geolocation\"},{\"text\":\"Headers 对象\",\"link\":\"/basic/bom/headers\"},{\"text\":\"IntersectionObserver\",\"link\":\"/basic/bom/intersectionObserver\"},{\"text\":\"Intl.RelativeTimeFormat\",\"link\":\"/basic/bom/intl-relativetimeformat\"},{\"text\":\"Intl segmenter API\",\"link\":\"/basic/bom/intl-segmenter\"},{\"text\":\"Page Lifecycle API\",\"link\":\"/basic/bom/page-lifecycle\"},{\"text\":\"Page Visibility API\",\"link\":\"/basic/bom/page-visibility\"},{\"text\":\"Request API\",\"link\":\"/basic/bom/request\"},{\"text\":\"Response API\",\"link\":\"/basic/bom/response\"},{\"text\":\"Server-Sent Events\",\"link\":\"/basic/bom/server-sent-events\"},{\"text\":\"SVG 图像\",\"link\":\"/basic/bom/svg\"},{\"text\":\"URL 对象\",\"link\":\"/basic/bom/url\"},{\"text\":\"URL Pattern API\",\"link\":\"/basic/bom/urlpattern\"},{\"text\":\"URLSearchParams 对象\",\"link\":\"/basic/bom/urlsearchparams\"},{\"text\":\"WebSocket\",\"link\":\"/basic/bom/websocket\"},{\"text\":\"Web Share API\",\"link\":\"/basic/bom/web-share-api\"},{\"text\":\"window.postMessage() 方法\",\"link\":\"/basic/bom/postmessage\"},{\"text\":\"Web Audio API\",\"link\":\"/basic/bom/webaudio\"},{\"text\":\"Web Components\",\"link\":\"/basic/bom/webcomponents\"},{\"text\":\"Service Worker\",\"link\":\"/basic/bom/service-worker\"},{\"text\":\"Offline 应用\",\"link\":\"/basic/bom/offline\"},{\"text\":\"Point lock API\",\"link\":\"/basic/bom/pointer-lock\"}]},{\"text\":\"node\",\"items\":[{\"text\":\"node 简介\",\"link\":\"/basic/node/intro\"},{\"text\":\"node 安装与配置\",\"link\":\"/basic/node/installation\"},{\"text\":\"node 全局变量\",\"link\":\"/basic/node/vars\"},{\"text\":\"node 事件循环\",\"link\":\"/basic/node/event-loop\"},{\"text\":\"node 常用模块\",\"link\":\"/basic/node/modules\"},{\"text\":\"npm 包管理器\",\"link\":\"/basic/node/npm\"}]},{\"text\":\"算法\",\"items\":[{\"text\":\"算法入门\",\"link\":\"/basic/algorithm/intro\"},{\"text\":\"复杂度分析\",\"link\":\"/basic/algorithm/complexity\"},{\"text\":\"数据结构\",\"link\":\"/basic/algorithm/data-struct\"},{\"text\":\"递归与分治\",\"link\":\"/basic/algorithm/divide-conquer\"},{\"text\":\"动态规划 DP\",\"link\":\"/basic/algorithm/dp\"},{\"text\":\"贪心算法\",\"link\":\"/basic/algorithm/greedy\"},{\"text\":\"回溯算法\",\"link\":\"/basic/algorithm/backtracking\"},{\"text\":\"排序算法\",\"link\":\"/basic/algorithm/sorting\"},{\"text\":\"搜索算法\",\"link\":\"/basic/algorithm/searching\"},{\"text\":\"图算法\",\"link\":\"/basic/algorithm/graph\"},{\"text\":\"字符串算法\",\"link\":\"/basic/algorithm/string\"},{\"text\":\"机器学习算法\",\"link\":\"/basic/algorithm/advanced/machine-learning\"},{\"text\":\"密码学算法\",\"link\":\"/basic/algorithm/advanced/cryptography\"},{\"text\":\"近似算法\",\"link\":\"/basic/algorithm/advanced/approximation\"},{\"text\":\"随机化算法\",\"link\":\"/basic/algorithm/advanced/randomized\"},{\"text\":\"性能测试工具\",\"link\":\"/basic/algorithm/performance-tools\"},{\"text\":\"可视化工具\",\"link\":\"/basic/algorithm/visualization\"},{\"text\":\"算法练习平台\",\"link\":\"/basic/algorithm/practice-platforms\"}]}],\"/framework/\":[{\"text\":\"React\",\"items\":[{\"text\":\"React 简介\",\"link\":\"/framework/react/intro\"},{\"text\":\"React JSX\",\"link\":\"/framework/react/jsx\"},{\"text\":\"React 组件\",\"link\":\"/framework/react/component\"},{\"text\":\"React Hooks\",\"link\":\"/framework/react/hooks\"},{\"text\":\"React TSX\",\"link\":\"/framework/react/tsx\"},{\"text\":\"React Fiber\",\"link\":\"/framework/react/fiber\"},{\"text\":\"React Concurrent\",\"link\":\"/framework/react/concurrent\"},{\"text\":\"React Compiler\",\"link\":\"/framework/react/compiler\"},{\"text\":\"React Router\",\"link\":\"/framework/react/router\"},{\"text\":\"React Managing State\",\"link\":\"/framework/react/managing-state\"},{\"text\":\"React UI\",\"link\":\"/framework/react/ui\"},{\"text\":\"React CSS\",\"link\":\"/framework/react/css\"}]},{\"text\":\"Vue\",\"items\":[{\"text\":\"Vue 简介\",\"link\":\"/framework/vue/intro\"},{\"text\":\"Vue 基础\",\"link\":\"/framework/vue/basic\"},{\"text\":\"Vue Component\",\"link\":\"/framework/vue/component\"},{\"text\":\"Vue Directive\",\"link\":\"/framework/vue/directives\"},{\"text\":\"Vue Slot\",\"link\":\"/framework/vue/slots\"},{\"text\":\"生命周期\",\"link\":\"/framework/vue/lifecycle\"},{\"text\":\"Composition API\",\"link\":\"/framework/vue/composition-api\"},{\"text\":\"Vue TS\",\"link\":\"/framework/vue/ts\"},{\"text\":\"响应式原理\",\"link\":\"/framework/vue/reactive\"},{\"text\":\"状态管理\",\"link\":\"/framework/vue/state\"},{\"text\":\"动态组件\",\"link\":\"/framework/vue/dynamic-component\"},{\"text\":\"异步组件\",\"link\":\"/framework/vue/async\"},{\"text\":\"内置组件\",\"link\":\"/framework/vue/internal-component\"}]},{\"text\":\"nextjs\",\"items\":[{\"text\":\"nextjs 入门\",\"link\":\"/framework/nextjs/start\"},{\"text\":\"nextjs 路由系统\",\"link\":\"/framework/nextjs/router\"},{\"text\":\"nextjs 渲染模式\",\"link\":\"/framework/nextjs/rendering\"},{\"text\":\"nextjs 状态管理\",\"link\":\"/framework/nextjs/status\"},{\"text\":\"nextjs 数据获取\",\"link\":\"/framework/nextjs/data-fetching\"},{\"text\":\"nextjs 中间件\",\"link\":\"/framework/nextjs/middleware\"},{\"text\":\"nextjs 生态\",\"link\":\"/framework/nextjs/ecosystem\"}]},{\"text\":\"umijs\",\"items\":[{\"text\":\"umijs 入门\",\"link\":\"/framework/umijs/start\"},{\"text\":\"umijs 路由\",\"link\":\"/framework/umijs/router\"},{\"text\":\"umijs 状态管理\",\"link\":\"/framework/umijs/status\"},{\"text\":\"umijs Mock与代理\",\"link\":\"/framework/umijs/mock\"},{\"text\":\"umijs 构建与部署\",\"link\":\"/framework/umijs/build\"},{\"text\":\"umijs 插件系统\",\"link\":\"/framework/umijs/plugins\"}]},{\"text\":\"nuxtjs\",\"items\":[{\"text\":\"nuxtjs 入门\",\"link\":\"/framework/nuxtjs/start\"},{\"text\":\"nuxtjs 路由系统\",\"link\":\"/framework/nuxtjs/router\"},{\"text\":\"nuxtjs 渲染模式\",\"link\":\"/framework/nuxtjs/rendering\"},{\"text\":\"nuxtjs 状态管理\",\"link\":\"/framework/nuxtjs/status\"},{\"text\":\"nuxtjs 数据获取\",\"link\":\"/framework/nuxtjs/data-fetching\"},{\"text\":\"nuxtjs 中间件\",\"link\":\"/framework/nuxtjs/middleware\"},{\"text\":\"nuxtjs 服务端API\",\"link\":\"/framework/nuxtjs/api\"},{\"text\":\"nuxtjs 插件\",\"link\":\"/framework/nuxtjs/plugins\"}]},{\"text\":\"Vue 2 (EOL)\",\"items\":[{\"text\":\"Vue2 简介\",\"link\":\"/framework/vue2/intro\"},{\"text\":\"Vue2 基础\",\"link\":\"/framework/vue2/basic\"},{\"text\":\"Vue2 Component\",\"link\":\"/framework/vue2/component\"},{\"text\":\"Vue2 Directive\",\"link\":\"/framework/vue2/directives\"},{\"text\":\"Vue2 Slot\",\"link\":\"/framework/vue2/slots\"},{\"text\":\"Vue2 Option API\",\"link\":\"/framework/vue2/option-api\"},{\"text\":\"Vue2 生命周期\",\"link\":\"/framework/vue2/lifecycle\"},{\"text\":\"Vue2 响应式原理\",\"link\":\"/framework/vue2/reactive\"},{\"text\":\"Vue2 状态管理\",\"link\":\"/framework/vue2/state\"},{\"text\":\"Vue2 内置组件\",\"link\":\"/framework/vue2/internal-component\"}]},{\"text\":\"Angular\",\"items\":[{\"text\":\"Angular 入门\",\"link\":\"/framework/angular/start\"},{\"text\":\"Angular 架构\",\"link\":\"/framework/angular/framework\"},{\"text\":\"Angular 模板\",\"link\":\"/framework/angular/tempalte\"},{\"text\":\"Angular 服务与依赖注入\",\"link\":\"/framework/angular/services\"},{\"text\":\"Angular 管道\",\"link\":\"/framework/angular/pipe\"},{\"text\":\"Angular 状态管理\",\"link\":\"/framework/angular/status\"},{\"text\":\"Angular Router\",\"link\":\"/framework/angular/router\"},{\"text\":\"Angular HTTP\",\"link\":\"/framework/angular/http\"},{\"text\":\"Angular 表单\",\"link\":\"/framework/angular/form\"},{\"text\":\"Angualr Rxjs\",\"link\":\"/framework/angular/rxjs\"},{\"text\":\"Angualr signal\",\"link\":\"/framework/angular/signal\"}]}],\"/engineering/\":[{\"text\":\"工程化概述\",\"items\":[{\"text\":\"简介\",\"link\":\"/engineering/intro\"}]},{\"text\":\"包管理\",\"items\":[{\"text\":\"npm\",\"link\":\"/engineering/package-manager/npm\"},{\"text\":\"yarn\",\"link\":\"/engineering/package-manager/yarn\"},{\"text\":\"pnpm\",\"link\":\"/engineering/package-manager/pnpm\"}]},{\"text\":\"架构设计\",\"items\":[{\"text\":\"模块化\",\"link\":\"/engineering/architecture/module\"},{\"text\":\"常用目录结构\",\"link\":\"/engineering/architecture/diretory\"},{\"text\":\"微前端\",\"link\":\"/engineering/architecture/micro-frontend\"},{\"text\":\"monorepo\",\"link\":\"/engineering/architecture/monorep\"}]},{\"text\":\"构建工具\",\"items\":[{\"text\":\"Vite\",\"link\":\"/engineering/build/vite\"},{\"text\":\"Webpack\",\"link\":\"/engineering/build/webpack\"},{\"text\":\"Rollup\",\"link\":\"/engineering/build/rollup\"},{\"text\":\"esbuild\",\"link\":\"/engineering/build/esbuild\"}]},{\"text\":\"代码质量\",\"items\":[{\"text\":\"代码编译检查\",\"link\":\"/engineering/coding/rule\"},{\"text\":\"代码规范\",\"link\":\"/engineering/coding/style\"},{\"text\":\"代码测试\",\"link\":\"/engineering/coding/test\"},{\"text\":\"代码提交检查\",\"link\":\"/engineering/coding/push\"}]},{\"text\":\"性能优化\",\"items\":[{\"text\":\"为什么需要性能优化\",\"link\":\"/engineering/performance/why\"},{\"text\":\"核心性能指标\",\"link\":\"/engineering/performance/core-metrics\"},{\"text\":\"网络层优化\",\"link\":\"/engineering/performance/network\"},{\"text\":\"资源加载优化\",\"link\":\"/engineering/performance/resources\"},{\"text\":\"构建优化\",\"link\":\"/engineering/performance/bundling\"},{\"text\":\"渲染性能优化\",\"link\":\"/engineering/performance/rendering\"},{\"text\":\"JavaScript 性能优化\",\"link\":\"/engineering/performance/javascript\"},{\"text\":\"框架性能优化\",\"link\":\"/engineering/performance/framework\"},{\"text\":\"性能监控\",\"link\":\"/engineering/performance/monitoring\"},{\"text\":\"性能工具链\",\"link\":\"/engineering/performance/tooling\"}]},{\"text\":\"SEO\",\"items\":[{\"text\":\"SEO 基础\",\"link\":\"/engineering/seo/basic\"},{\"text\":\"关键词研究\",\"link\":\"/engineering/seo/keyword-research\"},{\"text\":\"SEO 内容策略\",\"link\":\"/engineering/seo/content-strategy\"},{\"text\":\"网站结构化\",\"link\":\"/engineering/seo/web-struct\"},{\"text\":\"索引管理与爬虫控制\",\"link\":\"/engineering/seo/index-crawl\"},{\"text\":\"网站渲染优化\",\"link\":\"/engineering/seo/renderer\"},{\"text\":\"站外优化\",\"link\":\"/engineering/seo/off-page\"},{\"text\":\"SEO For Google\",\"link\":\"/engineering/seo/for-google\"},{\"text\":\"SEO For Baidu\",\"link\":\"/engineering/seo/for-baidu\"},{\"text\":\"SEO For AI\",\"link\":\"/engineering/seo/for-ai\"},{\"text\":\"SEO 分析与监控\",\"link\":\"/engineering/seo/analytics\"},{\"text\":\"SEO 工具与资源库\",\"link\":\"/engineering/seo/resources\"},{\"text\":\"SEO 未来趋势\",\"link\":\"/engineering/seo/future\"}]},{\"text\":\"无障碍\",\"items\":[{\"text\":\"无障碍简介\",\"link\":\"/engineering/accessible/intro\"},{\"text\":\"html无障碍\",\"link\":\"/engineering/accessible/html\"},{\"text\":\"键盘无障碍\",\"link\":\"/engineering/accessible/keyboard\"},{\"text\":\"色彩与对比度\",\"link\":\"/engineering/accessible/color-contrast\"},{\"text\":\"aria\",\"link\":\"/engineering/accessible/aria\"},{\"text\":\"无障碍框架\",\"link\":\"/engineering/accessible/framework\"},{\"text\":\"手动测试无障碍\",\"link\":\"/engineering/accessible/test\"},{\"text\":\"自动测试无障碍\",\"link\":\"/engineering/accessible/autotest\"}]}],\"/full-stack/\":[{\"text\":\"网络基础\",\"items\":[{\"text\":\"HTTP\",\"link\":\"/full-stack/network/http\"},{\"text\":\"TCP/IP\",\"link\":\"/full-stack/network/tcp-ip\"},{\"text\":\"UPD\",\"link\":\"/full-stack/network/udp\"},{\"text\":\"HTTPS\",\"link\":\"/full-stack/network/https\"},{\"text\":\"WebSocket\",\"link\":\"/full-stack/network/websocket\"},{\"text\":\"wireshark\",\"link\":\"/full-stack/network/wireshark\"}]},{\"text\":\"node 后端\",\"items\":[{\"text\":\"node 后端基础\",\"link\":\"/full-stack/framework/node\"},{\"text\":\"express.js\",\"link\":\"/full-stack/framework/express\"},{\"text\":\"nest.js\",\"link\":\"/full-stack/framework/nestjs\"},{\"text\":\"koa.js\",\"link\":\"/full-stack/framework/koa\"}]},{\"text\":\"Serverless\",\"items\":[{\"text\":\"Serverless 简介\",\"link\":\"/full-stack/serverless/intro\"},{\"text\":\"Serverless 架构\",\"link\":\"/full-stack/serverless/architecture\"},{\"text\":\"云函数\",\"link\":\"/full-stack/serverless/functions\"}]},{\"text\":\"数据库\",\"items\":[{\"text\":\"数据库简介\",\"link\":\"/full-stack/database/intro\"},{\"text\":\"MySQL\",\"link\":\"/full-stack/database/mysql\"},{\"text\":\"MongoDB\",\"link\":\"/full-stack/database/mongodb\"},{\"text\":\"PostgreSQL\",\"link\":\"/full-stack/database/postgresql\"},{\"text\":\"Redis\",\"link\":\"/full-stack/database/redis\"}]},{\"text\":\"运维\",\"items\":[{\"text\":\"Linux\",\"link\":\"/full-stack/operation/linux\"},{\"text\":\"Docker\",\"link\":\"/full-stack/operation/docker\"},{\"text\":\"Kubernetes\",\"link\":\"/full-stack/operation/kubernetes\"},{\"text\":\"CI/CD\",\"link\":\"/full-stack/operation/ci-cd\"},{\"text\":\"监控\",\"link\":\"/full-stack/operation/monitor\"},{\"text\":\"安全\",\"link\":\"/full-stack/operation/security\"}]}],\"/web-3d/\":[{\"text\":\"Web 3D 基础\",\"items\":[{\"text\":\"3D 图形学基础\",\"link\":\"/web-3d/basic/basic\"},{\"text\":\"坐标系系统\",\"link\":\"/web-3d/basic/coordinate-system\"},{\"text\":\"变换与矩阵\",\"link\":\"/web-3d/basic/transform\"}]},{\"text\":\"核心原理\",\"items\":[{\"text\":\"渲染管线\",\"link\":\"/web-3d/theory/principle\"},{\"text\":\"着色器基础\",\"link\":\"/web-3d/theory/shaders\"},{\"text\":\"光照模型\",\"link\":\"/web-3d/theory/lighting\"}]},{\"text\":\"WebGL\",\"items\":[{\"text\":\"WebGL 基础\",\"link\":\"/web-3d/webgl/basic\"},{\"text\":\"缓冲区与顶点\",\"link\":\"/web-3d/webgl/buffers\"},{\"text\":\"纹理与材质\",\"link\":\"/web-3d/webgl/textures\"}]},{\"text\":\"WebGPU\",\"items\":[{\"text\":\"WebGPU 入门\",\"link\":\"/web-3d/webgpu/start\"},{\"text\":\"WebGPU 运行机制\",\"link\":\"/web-3d/webgpu/mechanism\"},{\"text\":\"WebGPU 渲染管线\",\"link\":\"/web-3d/webgpu/pipeline\"},{\"text\":\"WebGPU 计算\",\"link\":\"/web-3d/webgpu/compute\"},{\"text\":\"WebGPU API\",\"link\":\"/web-3d/webgpu/api\"},{\"text\":\"WebGPU 工具链\",\"link\":\"/web-3d/webgpu/toolchain\"}]},{\"text\":\"Three.js\",\"items\":[{\"text\":\"Three.js 入门\",\"link\":\"/web-3d/threejs/basic\"},{\"text\":\"场景与相机\",\"link\":\"/web-3d/threejs/scene-camera\"},{\"text\":\"几何体与材质\",\"link\":\"/web-3d/threejs/geometry-material\"},{\"text\":\"动画系统\",\"link\":\"/web-3d/threejs/animation\"}]},{\"text\":\"WebXR\",\"items\":[{\"text\":\"WebXR 基础\",\"link\":\"/web-3d/webxr/basic\"},{\"text\":\"VR 开发\",\"link\":\"/web-3d/webxr/vr\"},{\"text\":\"AR 开发\",\"link\":\"/web-3d/webxr/ar\"}]},{\"text\":\"性能优化\",\"items\":[{\"text\":\"渲染优化\",\"link\":\"/web-3d/performance/rendering\"},{\"text\":\"内存管理\",\"link\":\"/web-3d/performance/memory\"},{\"text\":\"加载优化\",\"link\":\"/web-3d/performance/loading\"}]}],\"/special/\":[{\"text\":\"移动端\",\"items\":[{\"text\":\"移动端开发概述\",\"link\":\"/special/mobile/basic/intro\"},{\"text\":\"视窗与分辨率\",\"link\":\"/special/mobile/basic/viewport\"},{\"text\":\"触摸事件\",\"link\":\"/special/mobile/basic/touch-events\"},{\"text\":\"React Native\",\"link\":\"/special/mobile/framework/react-native\"},{\"text\":\"Flutter\",\"link\":\"/special/mobile/framework/flutter\"},{\"text\":\"Weex\",\"link\":\"/special/mobile/framework/weex\"},{\"text\":\"响应式设计\",\"link\":\"/special/mobile/web/responsive\"},{\"text\":\"PWA\",\"link\":\"/special/mobile/web/pwa\"},{\"text\":\"混合开发\",\"link\":\"/special/mobile/web/hybrid\"},{\"text\":\"微信小程序\",\"link\":\"/special/mobile/applet/wechat\"},{\"text\":\"支付宝小程序\",\"link\":\"/special/mobile/applet/alipay\"},{\"text\":\"跨端开发\",\"link\":\"/special/mobile/applet/cross-platform\"},{\"text\":\"移动端调试\",\"link\":\"/special/mobile/publish/debug\"},{\"text\":\"应用商店发布\",\"link\":\"/special/mobile/publish/publish\"},{\"text\":\"热更新\",\"link\":\"/special/mobile/publish/hot-update\"}]},{\"text\":\"Electron\",\"items\":[{\"text\":\"Electron 简介\",\"link\":\"/special/electron/intro\"},{\"text\":\"Electron 快速开始\",\"link\":\"/special/electron/start\"},{\"text\":\"electron-vite\",\"link\":\"/special/electron/electron-vite\"},{\"text\":\"Electron 进程模型\",\"link\":\"/special/electron/process-model\"},{\"text\":\"Electron 主进程\",\"link\":\"/special/electron/main-process\"},{\"text\":\"Electron 渲染进程\",\"link\":\"/special/electron/renderer-process\"},{\"text\":\"Electron 进程通信\",\"link\":\"/special/electron/ipc\"},{\"text\":\"Electron BrowserWindow\",\"link\":\"/special/electron/browser-window\"},{\"text\":\"Electron Node\",\"link\":\"/special/electron/node-integration\"},{\"text\":\"Electron 安全\",\"link\":\"/special/electron/security\"},{\"text\":\"Electron 系统功能开发\",\"link\":\"/special/electron/system\"},{\"text\":\"Electron 硬件功能开发\",\"link\":\"/special/electron/hardware\"},{\"text\":\"Electron 集成前端框架\",\"link\":\"/special/electron/ui-framework\"},{\"text\":\"Electron 调试\",\"link\":\"/special/electron/debug\"},{\"text\":\"Electron 日志系统\",\"link\":\"/special/electron/log\"},{\"text\":\"Electron 性能优化\",\"link\":\"/special/electron/performance\"},{\"text\":\"Electron 打包\",\"link\":\"/special/electron/build\"},{\"text\":\"Electron 发布与更新\",\"link\":\"/special/electron/publish\"},{\"text\":\"Electron 集成 C++/Rust/NAPI\",\"link\":\"/special/electron/native\"},{\"text\":\"Electron 集成 WebAssembly\",\"link\":\"/special/electron/wasm\"},{\"text\":\"Electron 运行 Python/Go/Java\",\"link\":\"/special/electron/scripts\"}]},{\"text\":\"命令行开发\",\"items\":[{\"text\":\"简介\",\"link\":\"/special/cli/intro\"},{\"text\":\"脚本与命令\",\"link\":\"/special/cli/run\"},{\"text\":\"参数处理\",\"link\":\"/special/cli/args\"},{\"text\":\"配置管理\",\"link\":\"/special/cli/config\"},{\"text\":\"输入\",\"link\":\"/special/cli/input\"},{\"text\":\"输出与美化\",\"link\":\"/special/cli/output\"},{\"text\":\"进程控制\",\"link\":\"/special/cli/progress\"},{\"text\":\"日志系统\",\"link\":\"/special/cli/log\"},{\"text\":\"跨平台兼容\",\"link\":\"/special/cli/cross-platform\"},{\"text\":\"测试\",\"link\":\"/special/cli/test\"},{\"text\":\"构建\",\"link\":\"/special/cli/build\"},{\"text\":\"发布\",\"link\":\"/special/cli/publish\"}]},{\"text\":\"Web 安全\",\"items\":[{\"text\":\"Web 安全简介\",\"link\":\"/special/security/intro\"},{\"text\":\"OWASP Top 10 概述\",\"link\":\"/special/security/owasp-top10\"},{\"text\":\"常见 Web 攻击与防护\",\"link\":\"/special/security/attacks\"},{\"text\":\"浏览器安全模型\",\"link\":\"/special/security/browser-model\"},{\"text\":\"前端代码混淆\",\"link\":\"/special/security/sourcemap\"},{\"text\":\"认证与授权\",\"link\":\"/special/security/authority\"},{\"text\":\"后端安全实践\",\"link\":\"/special/security/backend\"},{\"text\":\"防火墙\",\"link\":\"/special/security/waf\"},{\"text\":\"API 安全\",\"link\":\"/special/security/api-security\"},{\"text\":\"DDoS 防护\",\"link\":\"/special/security/ddos\"},{\"text\":\"云安全与权限管理（IAM）\",\"link\":\"/special/security/cloud-iam\"},{\"text\":\"渗透测试基础\",\"link\":\"/special/security/pentest\"},{\"text\":\"安全测试工具\",\"link\":\"/special/security/tools\"},{\"text\":\"漏洞扫描与依赖审计\",\"link\":\"/special/security/scanning\"},{\"text\":\"安全日志分析\",\"link\":\"/special/security/log-analysis\"}]}],\"/leading/\":[{\"text\":\"WebAssembly\",\"items\":[{\"text\":\"WASM 基础\",\"link\":\"/leading/webassembly/basic\"},{\"text\":\"WASM 设计哲学\",\"link\":\"/leading/webassembly/design-philosophy\"},{\"text\":\"WASM 快速开始\",\"link\":\"/leading/webassembly/start\"},{\"text\":\"WASM 与 JS 交互\",\"link\":\"/leading/webassembly/js-interaction\"},{\"text\":\"WASM 工具链\",\"link\":\"/leading/webassembly/toolchain\"},{\"text\":\"WASM 与 Rust\",\"link\":\"/leading/webassembly/wasm-rust\"},{\"text\":\"WASM 与 其他语言\",\"link\":\"/leading/webassembly/other-languages\"},{\"text\":\"WASM 内部模块\",\"link\":\"/leading/webassembly/module-structure\"},{\"text\":\"WASM 栈式虚拟机与指令集\",\"link\":\"/leading/webassembly/stack-vm-and-instructions\"},{\"text\":\"WASM 线性内存模型\",\"link\":\"/leading/webassembly/linear-memory\"},{\"text\":\"WASM 系统接口（WASI）\",\"link\":\"/leading/webassembly/wasi\"},{\"text\":\"WASM 服务端\",\"link\":\"/leading/webassembly/server-side\"},{\"text\":\"WASM 线程、SIMD与异常处理\",\"link\":\"/leading/webassembly/threads-simd-exceptions\"},{\"text\":\"WASM 组件模型\",\"link\":\"/leading/webassembly/component-model\"},{\"text\":\"WASM 垃圾回收提案\",\"link\":\"/leading/webassembly/gc-proposal\"},{\"text\":\"WASM 未来展望\",\"link\":\"/leading/webassembly/future\"}]},{\"text\":\"AI & Web\",\"items\":[{\"text\":\"AI 基础概念\",\"link\":\"/leading/ai-web/intro\"},{\"text\":\"AI 核心原理\",\"link\":\"/leading/ai-web/principle\"},{\"text\":\"AI 生态\",\"link\":\"/leading/ai-web/ecosystem\"},{\"text\":\"AI Prompt调优\",\"link\":\"/leading/ai-web/prompt\"},{\"text\":\"AI 大模型API\",\"link\":\"/leading/ai-web/api\"},{\"text\":\"AI Web对话开发\",\"link\":\"/leading/ai-web/chat\"},{\"text\":\"AI 在浏览器中运行\",\"link\":\"/leading/ai-web/run-in-browser\"},{\"text\":\"TensorFlow.js\",\"link\":\"/leading/ai-web/tensorflow\"},{\"text\":\"ONNX\",\"link\":\"/leading/ai-web/onnx\"},{\"text\":\"Transformers.js\",\"link\":\"/leading/ai-web/transformers\"},{\"text\":\"基于AI的Web新交互\",\"link\":\"/leading/ai-web/interaction\"}]},{\"text\":\"Web3\",\"items\":[{\"text\":\"Web3 简介\",\"link\":\"/leading/web3/intro\"},{\"text\":\"区块链基础\",\"link\":\"/leading/web3/blockchain\"},{\"text\":\"去中心化存储\",\"link\":\"/leading/web3/decentralized-storage\"},{\"text\":\"密码学\",\"link\":\"/leading/web3/crypto-basics\"},{\"text\":\"零知识证明\",\"link\":\"/leading/web3/zero-knowledge-proofs\"},{\"text\":\"共识机制\",\"link\":\"/leading/web3/consensus\"},{\"text\":\"区块链网络\",\"link\":\"/leading/web3/chain-net\"},{\"text\":\"Web3 安全\",\"link\":\"/leading/web3/security\"},{\"text\":\"Web3 前端基础\",\"link\":\"/leading/web3/frontend-basic\"},{\"text\":\"ethers.js\",\"link\":\"/leading/web3/ethers\"},{\"text\":\"wagmi & viem\",\"link\":\"/leading/web3/wagmi-viem\"},{\"text\":\"DApp 开发\",\"link\":\"/leading/web3/dapp-development\"},{\"text\":\"智能合约开发\",\"link\":\"/leading/web3/smart-contracts\"},{\"text\":\"加密货币钱包\",\"link\":\"/leading/web3/crypto-wallets\"},{\"text\":\"DeFi 去中心化金融\",\"link\":\"/leading/web3/defi\"},{\"text\":\"NFT 技术与应用\",\"link\":\"/leading/web3/nft\"},{\"text\":\"DAO 治理模式\",\"link\":\"/leading/web3/dao\"},{\"text\":\"跨链互操作性\",\"link\":\"/leading/web3/cross-chain\"},{\"text\":\"ZK & Layer2\",\"link\":\"/leading/web3/zk-layer2\"},{\"text\":\"模块化区块链\",\"link\":\"/leading/web3/modular-blockchain\"},{\"text\":\"Web3 安全审计\",\"link\":\"/leading/web3/security-audit\"},{\"text\":\"Web3 未来展望\",\"link\":\"/leading/web3/future-outlook\"}]}]},\"i18n\":{\"search\":\"搜索\",\"menu\":\"菜单\",\"toc\":\"本页目录\",\"returnToTop\":\"返回顶部\",\"appearance\":\"外观\",\"previous\":\"前一篇\",\"next\":\"下一篇\",\"pageNotFound\":\"页面未找到\",\"deadLink\":{\"before\":\"你打开了一个不存在的链接：\",\"after\":\"。\"},\"deadLinkReport\":{\"before\":\"不介意的话请提交到\",\"link\":\"这里\",\"after\":\"，我们会跟进修复。\"},\"footerLicense\":{\"before\":\"\",\"after\":\"\"},\"ariaAnnouncer\":{\"before\":\"\",\"after\":\"已经加载完毕\"},\"ariaDarkMode\":\"切换深色模式\",\"ariaSkipToContent\":\"直接跳到内容\",\"ariaToC\":\"当前页面的目录\",\"ariaMainNav\":\"主导航\",\"ariaMobileNav\":\"移动版导航\",\"ariaSidebarNav\":\"侧边栏导航\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/fengyon/blog\"}],\"editLink\":{\"repo\":\"fengyon/blog#master\",\"text\":\"在 GitHub 上编辑此页\"},\"footer\":{\"license\":{\"text\":\"版权声明\",\"link\":\"https://github.com/fengyon/blog/LICENSE\"},\"copyright\":\"本网站的文档采用 CC BY-SA 4.0 (署名—相同方式共享 4.0 协议国际版) 进行许可，图片版权属于图片的作者。\"}},\"locales\":{},\"scrollOffset\":[\"header\",\".VPLocalNav\"],\"cleanUrls\":false}");</script>
    
  </body>
</html>