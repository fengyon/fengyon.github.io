import{_ as a,c as n,o as e,b as l}from"./chunks/framework.CMLuPXeo.js";const g=JSON.parse('{"title":"nuxtjs 插件","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是插件","slug":"什么是插件","link":"#什么是插件","children":[]},{"level":2,"title":"插件类型","slug":"插件类型","link":"#插件类型","children":[]},{"level":2,"title":"创建插件","slug":"创建插件","link":"#创建插件","children":[]},{"level":2,"title":"插件注册","slug":"插件注册","link":"#插件注册","children":[]},{"level":2,"title":"功能注入","slug":"功能注入","link":"#功能注入","children":[]},{"level":2,"title":"使用场景","slug":"使用场景","link":"#使用场景","children":[]},{"level":2,"title":"生命周期","slug":"生命周期","link":"#生命周期","children":[]}],"relativePath":"framework/nuxtjs/plugins.md","filePath":"framework/nuxtjs/plugins.md"}'),p={name:"framework/nuxtjs/plugins.md"};function t(o,s,i,c,r,d){return e(),n("div",null,[...s[0]||(s[0]=[l(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /framework/nuxtjs/plugins.md for this page in Markdown format</div><h1 id="nuxtjs-插件" tabindex="-1">nuxtjs 插件 <a class="header-anchor" href="#nuxtjs-插件" aria-label="Permalink to &quot;nuxtjs 插件&quot;">​</a></h1><h2 id="什么是插件" tabindex="-1">什么是插件 <a class="header-anchor" href="#什么是插件" aria-label="Permalink to &quot;什么是插件&quot;">​</a></h2><p>Nuxt.js 插件是在 Vue.js 应用初始化之前或之后自动执行的函数，用于扩展应用功能。它们在 Nuxt 应用生命周期中特定时刻被加载，允许您添加全局功能。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>应用启动 -&gt; 插件执行 -&gt; Vue应用初始化 -&gt; 功能可用</span></span></code></pre></div><h2 id="插件类型" tabindex="-1">插件类型 <a class="header-anchor" href="#插件类型" aria-label="Permalink to &quot;插件类型&quot;">​</a></h2><p>Nuxt.js 支持两种主要插件类型：客户端插件和服务端插件。客户端插件仅在浏览器中运行，服务端插件在服务器端执行，还有一些插件可在两端运行。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>插件文件</span></span>
<span class="line"><span>├── 客户端插件 (*.client.js)</span></span>
<span class="line"><span>├── 服务端插件 (*.server.js)  </span></span>
<span class="line"><span>└── 通用插件 (*.js)</span></span></code></pre></div><h2 id="创建插件" tabindex="-1">创建插件 <a class="header-anchor" href="#创建插件" aria-label="Permalink to &quot;创建插件&quot;">​</a></h2><p>在 <code>plugins</code> 目录中创建 JavaScript 或 TypeScript 文件来定义插件。每个插件导出一个默认函数，接收 Nuxt 上下文作为参数，可以执行初始化逻辑或注入全局资源。</p><p>示例插件结构：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// plugins/my-plugin.js</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#B392F0;"> defineNuxtPlugin</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">nuxtApp</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // 插件逻辑</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="插件注册" tabindex="-1">插件注册 <a class="header-anchor" href="#插件注册" aria-label="Permalink to &quot;插件注册&quot;">​</a></h2><p>插件在 <code>nuxt.config.js</code> 文件中注册，可以控制加载顺序。Nuxt.js 会自动扫描 <code>plugins</code> 目录，但也可以通过配置手动指定插件及其顺序。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>nuxt.config.js -&gt; plugins数组 -&gt; 按顺序加载插件</span></span></code></pre></div><h2 id="功能注入" tabindex="-1">功能注入 <a class="header-anchor" href="#功能注入" aria-label="Permalink to &quot;功能注入&quot;">​</a></h2><p>插件通过 <code>provide</code> 方法向整个应用注入全局可用的函数、变量或服务。这些注入的内容可以在组件、页面和其他插件中使用。</p><p>注入示例：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#B392F0;"> defineNuxtPlugin</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    provide: {</span></span>
<span class="line"><span style="color:#B392F0;">      hello</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">msg</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> \`Hello \${</span><span style="color:#E1E4E8;">msg</span><span style="color:#9ECBFF;">}!\`</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><p>插件适用于多种场景，包括集成第三方库、添加全局组件、设置自定义指令、配置 HTTP 客户端或实现身份验证逻辑。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>使用场景：</span></span>
<span class="line"><span>- 添加UI库 -&gt; 全局注册组件</span></span>
<span class="line"><span>- 配置axios -&gt; 设置基础URL和拦截器</span></span>
<span class="line"><span>- 身份验证 -&gt; 注入用户状态管理</span></span></code></pre></div><h2 id="生命周期" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期" aria-label="Permalink to &quot;生命周期&quot;">​</a></h2><p>插件在 Nuxt 应用启动过程中按注册顺序执行。客户端插件在浏览器中运行，服务端插件在服务器渲染时执行，通用插件在两端都会运行。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>应用启动过程：</span></span>
<span class="line"><span>服务端渲染 -&gt; 服务端插件 -&gt; 通用插件 -&gt; HTML发送到客户端</span></span>
<span class="line"><span>客户端激活 -&gt; 客户端插件 -&gt; 通用插件 -&gt; 应用完全交互</span></span></code></pre></div>`,30)])])}const h=a(p,[["render",t]]);export{g as __pageData,h as default};
