import{_ as n,c as a,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const F=JSON.parse('{"title":"代码提交检查","description":"","frontmatter":{},"headers":[{"level":2,"title":"为什么需要代码提交检查","slug":"为什么需要代码提交检查","link":"#为什么需要代码提交检查","children":[]},{"level":2,"title":"核心检查工具","slug":"核心检查工具","link":"#核心检查工具","children":[{"level":3,"title":"Git Hooks","slug":"git-hooks","link":"#git-hooks","children":[]},{"level":3,"title":"配置示例","slug":"配置示例","link":"#配置示例","children":[]}]},{"level":2,"title":"现代化检查方案","slug":"现代化检查方案","link":"#现代化检查方案","children":[{"level":3,"title":"Husky + lint-staged 组合","slug":"husky-lint-staged-组合","link":"#husky-lint-staged-组合","children":[]}]},{"level":2,"title":"代码质量检查","slug":"代码质量检查","link":"#代码质量检查","children":[{"level":3,"title":"ESLint 配置","slug":"eslint-配置","link":"#eslint-配置","children":[]},{"level":3,"title":"TypeScript 类型检查","slug":"typescript-类型检查","link":"#typescript-类型检查","children":[]}]},{"level":2,"title":"提交信息规范","slug":"提交信息规范","link":"#提交信息规范","children":[{"level":3,"title":"Commitlint 配置","slug":"commitlint-配置","link":"#commitlint-配置","children":[]},{"level":3,"title":"提交信息格式","slug":"提交信息格式","link":"#提交信息格式","children":[]}]},{"level":2,"title":"测试覆盖率检查","slug":"测试覆盖率检查","link":"#测试覆盖率检查","children":[{"level":3,"title":"Jest 配置","slug":"jest-配置","link":"#jest-配置","children":[]},{"level":3,"title":"预提交测试检查","slug":"预提交测试检查","link":"#预提交测试检查","children":[]}]},{"level":2,"title":"安全漏洞扫描","slug":"安全漏洞扫描","link":"#安全漏洞扫描","children":[{"level":3,"title":"npm 审计集成","slug":"npm-审计集成","link":"#npm-审计集成","children":[]}]},{"level":2,"title":"自定义检查规则","slug":"自定义检查规则","link":"#自定义检查规则","children":[{"level":3,"title":"文件大小检查","slug":"文件大小检查","link":"#文件大小检查","children":[]},{"level":3,"title":"依赖许可证检查","slug":"依赖许可证检查","link":"#依赖许可证检查","children":[]}]},{"level":2,"title":"性能优化检查","slug":"性能优化检查","link":"#性能优化检查","children":[{"level":3,"title":"Bundle 大小分析","slug":"bundle-大小分析","link":"#bundle-大小分析","children":[]}]},{"level":2,"title":"多环境配置","slug":"多环境配置","link":"#多环境配置","children":[{"level":3,"title":"环境特定检查","slug":"环境特定检查","link":"#环境特定检查","children":[]}]},{"level":2,"title":"错误处理和调试","slug":"错误处理和调试","link":"#错误处理和调试","children":[{"level":3,"title":"调试配置","slug":"调试配置","link":"#调试配置","children":[]},{"level":3,"title":"跳过检查 (紧急情况)","slug":"跳过检查-紧急情况","link":"#跳过检查-紧急情况","children":[]}]}],"relativePath":"engineering/coding/push.md","filePath":"engineering/coding/push.md"}'),o={name:"engineering/coding/push.md"};function e(t,s,c,r,E,i){return l(),a("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /engineering/coding/push.md for this page in Markdown format</div><h1 id="代码提交检查" tabindex="-1">代码提交检查 <a class="header-anchor" href="#代码提交检查" aria-label="Permalink to &quot;代码提交检查&quot;">​</a></h1><h2 id="为什么需要代码提交检查" tabindex="-1">为什么需要代码提交检查 <a class="header-anchor" href="#为什么需要代码提交检查" aria-label="Permalink to &quot;为什么需要代码提交检查&quot;">​</a></h2><p>在团队协作开发中，代码质量的一致性至关重要。未经检查的代码提交可能导致以下问题：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>有问题的代码提交 → 主分支污染 → 团队开发阻塞 → 生产环境故障</span></span></code></pre></div><h2 id="核心检查工具" tabindex="-1">核心检查工具 <a class="header-anchor" href="#核心检查工具" aria-label="Permalink to &quot;核心检查工具&quot;">​</a></h2><h3 id="git-hooks" tabindex="-1">Git Hooks <a class="header-anchor" href="#git-hooks" aria-label="Permalink to &quot;Git Hooks&quot;">​</a></h3><p>Git Hooks 是 Git 在特定事件发生时自动运行的脚本，位于每个 Git 仓库的 <code>.git/hooks</code> 目录。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>pre-commit    # 提交前运行</span></span>
<span class="line"><span>pre-push      # 推送前运行</span></span>
<span class="line"><span>commit-msg    # 提交信息验证时运行</span></span></code></pre></div><h3 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;"># .git/hooks/pre-commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 运行代码检查</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> run</span><span style="color:#9ECBFF;"> lint</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [ </span><span style="color:#79B8FF;">$?</span><span style="color:#F97583;"> -ne</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;"> ]; </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#79B8FF;">    echo</span><span style="color:#9ECBFF;"> &quot;代码检查失败，请修复问题后重新提交&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">    exit</span><span style="color:#79B8FF;"> 1</span></span>
<span class="line"><span style="color:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 运行测试</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> test</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [ </span><span style="color:#79B8FF;">$?</span><span style="color:#F97583;"> -ne</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;"> ]; </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#79B8FF;">    echo</span><span style="color:#9ECBFF;"> &quot;测试失败，请修复问题后重新提交&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">    exit</span><span style="color:#79B8FF;"> 1</span></span>
<span class="line"><span style="color:#F97583;">fi</span></span></code></pre></div><h2 id="现代化检查方案" tabindex="-1">现代化检查方案 <a class="header-anchor" href="#现代化检查方案" aria-label="Permalink to &quot;现代化检查方案&quot;">​</a></h2><h3 id="husky-lint-staged-组合" tabindex="-1">Husky + lint-staged 组合 <a class="header-anchor" href="#husky-lint-staged-组合" aria-label="Permalink to &quot;Husky + lint-staged 组合&quot;">​</a></h3><p>Husky 简化了 Git Hooks 的管理，lint-staged 只对暂存区的文件进行检查。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>工作流程：</span></span>
<span class="line"><span>修改文件 → git add → Husky触发pre-commit → lint-staged运行检查 → 通过/拒绝提交</span></span></code></pre></div><h4 id="安装配置" tabindex="-1">安装配置 <a class="header-anchor" href="#安装配置" aria-label="Permalink to &quot;安装配置&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> install</span><span style="color:#9ECBFF;"> husky</span><span style="color:#9ECBFF;"> lint-staged</span><span style="color:#79B8FF;"> --save-dev</span></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// package.json</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;prepare&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;husky install&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;lint-staged&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;*.{js,jsx,ts,tsx}&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;eslint --fix&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;prettier --write&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;*.{json,md,css,scss}&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;prettier --write&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h4 id="husky-钩子配置" tabindex="-1">Husky 钩子配置 <a class="header-anchor" href="#husky-钩子配置" aria-label="Permalink to &quot;Husky 钩子配置&quot;">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 创建 pre-commit 钩子</span></span>
<span class="line"><span style="color:#B392F0;">npx</span><span style="color:#9ECBFF;"> husky</span><span style="color:#9ECBFF;"> add</span><span style="color:#9ECBFF;"> .husky/pre-commit</span><span style="color:#9ECBFF;"> &quot;npx lint-staged&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 创建 commit-msg 钩子</span></span>
<span class="line"><span style="color:#B392F0;">npx</span><span style="color:#9ECBFF;"> husky</span><span style="color:#9ECBFF;"> add</span><span style="color:#9ECBFF;"> .husky/commit-msg</span><span style="color:#9ECBFF;"> &#39;npx --no -- commitlint --edit &quot;$1&quot;&#39;</span></span></code></pre></div><h2 id="代码质量检查" tabindex="-1">代码质量检查 <a class="header-anchor" href="#代码质量检查" aria-label="Permalink to &quot;代码质量检查&quot;">​</a></h2><h3 id="eslint-配置" tabindex="-1">ESLint 配置 <a class="header-anchor" href="#eslint-配置" aria-label="Permalink to &quot;ESLint 配置&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// .eslintrc.js</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  extends: [</span><span style="color:#9ECBFF;">&#39;eslint:recommended&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;plugin:@typescript-eslint/recommended&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  rules: {</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;no-console&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;warn&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;no-unused-vars&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;prefer-const&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;error&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  overrides: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      files: [</span><span style="color:#9ECBFF;">&#39;**/*.test.js&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      env: { jest: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="typescript-类型检查" tabindex="-1">TypeScript 类型检查 <a class="header-anchor" href="#typescript-类型检查" aria-label="Permalink to &quot;TypeScript 类型检查&quot;">​</a></h3><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// package.json</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;type-check&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;tsc --noEmit&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;type-check:staged&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;tsc --noEmit --project .&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 扩展 lint-staged 配置</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;**/*.{ts,tsx}&#39;</span><span style="color:#E1E4E8;">: [() </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> &#39;npm run type-check:staged&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;eslint --fix&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="提交信息规范" tabindex="-1">提交信息规范 <a class="header-anchor" href="#提交信息规范" aria-label="Permalink to &quot;提交信息规范&quot;">​</a></h2><h3 id="commitlint-配置" tabindex="-1">Commitlint 配置 <a class="header-anchor" href="#commitlint-配置" aria-label="Permalink to &quot;Commitlint 配置&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// commitlint.config.js</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  extends: [</span><span style="color:#9ECBFF;">&#39;@commitlint/config-conventional&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  rules: {</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;type-enum&#39;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#79B8FF;">      2</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">      &#39;always&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      [</span><span style="color:#9ECBFF;">&#39;feat&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;fix&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;docs&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;style&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;refactor&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;test&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;chore&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;subject-case&#39;</span><span style="color:#E1E4E8;">: [</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;always&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;sentence-case&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="提交信息格式" tabindex="-1">提交信息格式 <a class="header-anchor" href="#提交信息格式" aria-label="Permalink to &quot;提交信息格式&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;类型&gt;(&lt;范围&gt;): &lt;描述&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;正文&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;页脚&gt;</span></span></code></pre></div><p>示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>feat(auth): 添加用户登录功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- 实现 JWT 令牌认证</span></span>
<span class="line"><span>- 添加登录页面组件</span></span>
<span class="line"><span>- 配置路由保护</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Closes #123</span></span></code></pre></div><h2 id="测试覆盖率检查" tabindex="-1">测试覆盖率检查 <a class="header-anchor" href="#测试覆盖率检查" aria-label="Permalink to &quot;测试覆盖率检查&quot;">​</a></h2><h3 id="jest-配置" tabindex="-1">Jest 配置 <a class="header-anchor" href="#jest-配置" aria-label="Permalink to &quot;Jest 配置&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// jest.config.js</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  collectCoverage: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  coverageThreshold: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    global: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      branches: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      functions: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      lines: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      statements: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  coverageReporters: [</span><span style="color:#9ECBFF;">&#39;text&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;lcov&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="预提交测试检查" tabindex="-1">预提交测试检查 <a class="header-anchor" href="#预提交测试检查" aria-label="Permalink to &quot;预提交测试检查&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D;"># .husky/pre-commit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 运行相关测试</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> test</span><span style="color:#79B8FF;"> --</span><span style="color:#79B8FF;"> --findRelatedTests</span><span style="color:#E1E4E8;"> $(</span><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> diff</span><span style="color:#79B8FF;"> --cached</span><span style="color:#79B8FF;"> --name-only</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -E</span><span style="color:#9ECBFF;"> &#39;\\.(js|jsx|ts|tsx)$&#39;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> tr</span><span style="color:#9ECBFF;"> &#39;\\n&#39;</span><span style="color:#9ECBFF;"> &#39; &#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 检查覆盖率</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> run</span><span style="color:#9ECBFF;"> test:coverage</span></span></code></pre></div><h2 id="安全漏洞扫描" tabindex="-1">安全漏洞扫描 <a class="header-anchor" href="#安全漏洞扫描" aria-label="Permalink to &quot;安全漏洞扫描&quot;">​</a></h2><h3 id="npm-审计集成" tabindex="-1">npm 审计集成 <a class="header-anchor" href="#npm-审计集成" aria-label="Permalink to &quot;npm 审计集成&quot;">​</a></h3><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;security:audit&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm audit&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;security:fix&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm audit fix&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 安全检查钩子</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">execSync</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;child_process&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;正在检查安全漏洞...&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">  execSync</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;npm audit&#39;</span><span style="color:#E1E4E8;">, { stdio: </span><span style="color:#9ECBFF;">&#39;inherit&#39;</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;安全检查通过&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;发现安全漏洞，请运行 npm audit fix 修复&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  process.</span><span style="color:#B392F0;">exit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="自定义检查规则" tabindex="-1">自定义检查规则 <a class="header-anchor" href="#自定义检查规则" aria-label="Permalink to &quot;自定义检查规则&quot;">​</a></h2><h3 id="文件大小检查" tabindex="-1">文件大小检查 <a class="header-anchor" href="#文件大小检查" aria-label="Permalink to &quot;文件大小检查&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// scripts/check-file-size.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> fs</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;fs&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> path</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;path&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> MAX_FILE_SIZE</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> 1024</span><span style="color:#F97583;"> *</span><span style="color:#79B8FF;"> 1024</span><span style="color:#6A737D;"> // 1MB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> checkFileSizes</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> stagedFiles</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> process.argv.</span><span style="color:#B392F0;">slice</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  stagedFiles.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">file</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> stats</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> fs.</span><span style="color:#B392F0;">statSync</span><span style="color:#E1E4E8;">(file)</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (stats.size </span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;"> MAX_FILE_SIZE</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`文件 \${</span><span style="color:#E1E4E8;">file</span><span style="color:#9ECBFF;">} 过大: \${</span><span style="color:#E1E4E8;">stats</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">size</span><span style="color:#9ECBFF;">} bytes\`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      process.</span><span style="color:#B392F0;">exit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">checkFileSizes</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h3 id="依赖许可证检查" tabindex="-1">依赖许可证检查 <a class="header-anchor" href="#依赖许可证检查" aria-label="Permalink to &quot;依赖许可证检查&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// scripts/check-licenses.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">execSync</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;child_process&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> allowedLicenses</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> [</span><span style="color:#9ECBFF;">&#39;MIT&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;ISC&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Apache-2.0&#39;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> checkLicenses</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> output</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> execSync</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;npx license-checker --json&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      encoding: </span><span style="color:#9ECBFF;">&#39;utf8&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> licenses</span><span style="color:#F97583;"> =</span><span style="color:#79B8FF;"> JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(output)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    Object.</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">(licenses).</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(([</span><span style="color:#FFAB70;">pkg</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">info</span><span style="color:#E1E4E8;">]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">allowedLicenses.</span><span style="color:#B392F0;">includes</span><span style="color:#E1E4E8;">(info.licenses)) {</span></span>
<span class="line"><span style="color:#F97583;">        throw</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`包 \${</span><span style="color:#E1E4E8;">pkg</span><span style="color:#9ECBFF;">} 使用不允许的许可证: \${</span><span style="color:#E1E4E8;">info</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">licenses</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;所有依赖许可证检查通过&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;许可证检查失败:&#39;</span><span style="color:#E1E4E8;">, error.message)</span></span>
<span class="line"><span style="color:#E1E4E8;">    process.</span><span style="color:#B392F0;">exit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="性能优化检查" tabindex="-1">性能优化检查 <a class="header-anchor" href="#性能优化检查" aria-label="Permalink to &quot;性能优化检查&quot;">​</a></h2><h3 id="bundle-大小分析" tabindex="-1">Bundle 大小分析 <a class="header-anchor" href="#bundle-大小分析" aria-label="Permalink to &quot;Bundle 大小分析&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> BundleAnalyzerPlugin</span><span style="color:#F97583;"> =</span></span>
<span class="line"><span style="color:#B392F0;">  require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;webpack-bundle-analyzer&#39;</span><span style="color:#E1E4E8;">).BundleAnalyzerPlugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="color:#F97583;">    new</span><span style="color:#B392F0;"> BundleAnalyzerPlugin</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      analyzerMode: </span><span style="color:#9ECBFF;">&#39;static&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      openAnalyzer: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;analyze&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;webpack-bundle-analyzer dist/stats.json&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;check-bundle&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm run build &amp;&amp; npm run analyze&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="多环境配置" tabindex="-1">多环境配置 <a class="header-anchor" href="#多环境配置" aria-label="Permalink to &quot;多环境配置&quot;">​</a></h2><h3 id="环境特定检查" tabindex="-1">环境特定检查 <a class="header-anchor" href="#环境特定检查" aria-label="Permalink to &quot;环境特定检查&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// .husky/pre-commit</span></span>
<span class="line"><span style="color:#E1E4E8;">#</span><span style="color:#F97583;">!/</span><span style="color:#E1E4E8;">bin</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"># 获取当前分支</span></span>
<span class="line"><span style="color:#79B8FF;">BRANCH</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(git rev</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">parse </span><span style="color:#F97583;">--</span><span style="color:#E1E4E8;">abbrev</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">ref </span><span style="color:#79B8FF;">HEAD</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> [[ </span><span style="color:#9ECBFF;">&quot;$BRANCH&quot;</span><span style="color:#F97583;"> ==</span><span style="color:#9ECBFF;"> &quot;main&quot;</span><span style="color:#E1E4E8;"> ]]; then</span></span>
<span class="line"><span style="color:#E1E4E8;">  echo </span><span style="color:#9ECBFF;">&quot;主分支提交，运行完整检查...&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm run lint</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm test</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm run type</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">check</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm run </span><span style="color:#B392F0;">security</span><span style="color:#E1E4E8;">:audit</span></span>
<span class="line"><span style="color:#E1E4E8;">elif [[ </span><span style="color:#9ECBFF;">&quot;$BRANCH&quot;</span><span style="color:#F97583;"> ==</span><span style="color:#9ECBFF;"> &quot;develop&quot;</span><span style="color:#E1E4E8;"> ]]; then</span></span>
<span class="line"><span style="color:#E1E4E8;">  echo </span><span style="color:#9ECBFF;">&quot;开发分支提交，运行标准检查...&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm run lint</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm test</span></span>
<span class="line"><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">  echo </span><span style="color:#9ECBFF;">&quot;功能分支提交，运行基础检查...&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  npm run lint</span></span>
<span class="line"><span style="color:#E1E4E8;">fi</span></span></code></pre></div><h2 id="错误处理和调试" tabindex="-1">错误处理和调试 <a class="header-anchor" href="#错误处理和调试" aria-label="Permalink to &quot;错误处理和调试&quot;">​</a></h2><h3 id="调试配置" tabindex="-1">调试配置 <a class="header-anchor" href="#调试配置" aria-label="Permalink to &quot;调试配置&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// scripts/debug-hooks.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> fs</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;fs&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> path</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;path&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 启用调试日志</span></span>
<span class="line"><span style="color:#E1E4E8;">process.env.</span><span style="color:#79B8FF;">DEBUG</span><span style="color:#F97583;"> =</span><span style="color:#9ECBFF;"> &#39;husky,lint-staged&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 保存钩子执行日志</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> logFile</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> path.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(__dirname, </span><span style="color:#9ECBFF;">&#39;../husky-debug.log&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> originalWrite</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> process.stdout.write</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">process.stdout.</span><span style="color:#B392F0;">write</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  fs.</span><span style="color:#B392F0;">appendFileSync</span><span style="color:#E1E4E8;">(logFile, string)</span></span>
<span class="line"><span style="color:#E1E4E8;">  originalWrite.</span><span style="color:#B392F0;">apply</span><span style="color:#E1E4E8;">(process.stdout, </span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="跳过检查-紧急情况" tabindex="-1">跳过检查 (紧急情况) <a class="header-anchor" href="#跳过检查-紧急情况" aria-label="Permalink to &quot;跳过检查 (紧急情况)&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 跳过所有检查提交</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> &quot;紧急修复&quot;</span><span style="color:#79B8FF;"> --no-verify</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 跳过特定检查</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> &quot;功能更新&quot;</span><span style="color:#79B8FF;"> -n</span><span style="color:#6A737D;">  # --no-verify 的简写</span></span></code></pre></div>`,59)])])}const d=n(o,[["render",e]]);export{F as __pageData,d as default};
