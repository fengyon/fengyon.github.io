import{_ as l,c as s,o as e,b as n}from"./chunks/framework.CMLuPXeo.js";const u=JSON.parse('{"title":"HTTPS","description":"","frontmatter":{},"headers":[{"level":2,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":2,"title":"历史","slug":"历史","link":"#历史","children":[]},{"level":2,"title":"协议概述","slug":"协议概述","link":"#协议概述","children":[]},{"level":2,"title":"核心特点","slug":"核心特点","link":"#核心特点","children":[{"level":3,"title":"加密传输","slug":"加密传输","link":"#加密传输","children":[]},{"level":3,"title":"身份验证","slug":"身份验证","link":"#身份验证","children":[]},{"level":3,"title":"数据完整性","slug":"数据完整性","link":"#数据完整性","children":[]},{"level":3,"title":"混合加密机制","slug":"混合加密机制","link":"#混合加密机制","children":[]}]},{"level":2,"title":"工作原理","slug":"工作原理","link":"#工作原理","children":[{"level":3,"title":"TLS 握手过程","slug":"tls-握手过程","link":"#tls-握手过程","children":[]},{"level":3,"title":"证书验证过程","slug":"证书验证过程","link":"#证书验证过程","children":[]},{"level":3,"title":"会话密钥生成","slug":"会话密钥生成","link":"#会话密钥生成","children":[]}]},{"level":2,"title":"SSL/TLS 证书","slug":"ssl-tls-证书","link":"#ssl-tls-证书","children":[{"level":3,"title":"证书类型","slug":"证书类型","link":"#证书类型","children":[]},{"level":3,"title":"证书申请与部署","slug":"证书申请与部署","link":"#证书申请与部署","children":[]}]},{"level":2,"title":"与 HTTP 的对比","slug":"与-http-的对比","link":"#与-http-的对比","children":[{"level":3,"title":"安全性差异","slug":"安全性差异","link":"#安全性差异","children":[]},{"level":3,"title":"性能考量","slug":"性能考量","link":"#性能考量","children":[]}]},{"level":2,"title":"安全考虑","slug":"安全考虑","link":"#安全考虑","children":[{"level":3,"title":"潜在攻击面","slug":"潜在攻击面","link":"#潜在攻击面","children":[]},{"level":3,"title":"最佳实践","slug":"最佳实践","link":"#最佳实践","children":[]}]},{"level":2,"title":"部署实施","slug":"部署实施","link":"#部署实施","children":[{"level":3,"title":"服务器配置","slug":"服务器配置","link":"#服务器配置","children":[]},{"level":3,"title":"混合内容处理","slug":"混合内容处理","link":"#混合内容处理","children":[]},{"level":3,"title":"开发环境配置","slug":"开发环境配置","link":"#开发环境配置","children":[]}]}],"relativePath":"full-stack/network/https.md","filePath":"full-stack/network/https.md"}'),t={name:"full-stack/network/https.md"};function i(p,a,o,r,c,d){return e(),s("div",null,[...a[0]||(a[0]=[n(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /full-stack/network/https.md for this page in Markdown format</div><h1 id="https" tabindex="-1">HTTPS <a class="header-anchor" href="#https" aria-label="Permalink to &quot;HTTPS&quot;">​</a></h1><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>HTTPS (超文本传输协议安全) 是 HTTP 的安全版本，用于在 Web 浏览器和网站之间安全传输数据。通过在 HTTP 下层加入 SSL/TLS 加密层，HTTPS 解决了 HTTP 协议的数据明文传输问题，确保数据在传输过程中不被窃取或篡改。现代浏览器已将 HTTPS 视为标准配置，并将非 HTTPS 网站标记为“不安全”。</p><h2 id="历史" tabindex="-1">历史 <a class="header-anchor" href="#历史" aria-label="Permalink to &quot;历史&quot;">​</a></h2><p>HTTPS 由网景公司 (Netscape) 在1994年随其浏览器推出。最初采用的 SSL (安全套接字层) 协议经历了多个版本更新，后来发展为更安全的 TLS (传输层安全) 协议。随着电子商务和网络安全意识增强，HTTPS 从仅用于银行、支付等敏感场景，逐渐成为所有网站的标准配置。搜索引擎如谷歌也明确将 HTTPS 作为排名因素之一，进一步推动了其普及。</p><h2 id="协议概述" tabindex="-1">协议概述 <a class="header-anchor" href="#协议概述" aria-label="Permalink to &quot;协议概述&quot;">​</a></h2><p>HTTPS 本质上是 HTTP 协议与 SSL/TLS 协议的组合：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>[HTTP] --&gt; 应用层</span></span>
<span class="line"><span>[SSL/TLS] --&gt; 安全层  </span></span>
<span class="line"><span>[TCP] --&gt; 传输层</span></span>
<span class="line"><span>[IP] --&gt; 网络层</span></span></code></pre></div><p>与 HTTP 直接使用 TCP 端口 80 不同，HTTPS 默认使用端口 443。当客户端访问 HTTPS 网站时，会先完成 TLS 握手，建立安全连接后再传输 HTTP 数据。</p><h2 id="核心特点" tabindex="-1">核心特点 <a class="header-anchor" href="#核心特点" aria-label="Permalink to &quot;核心特点&quot;">​</a></h2><h3 id="加密传输" tabindex="-1">加密传输 <a class="header-anchor" href="#加密传输" aria-label="Permalink to &quot;加密传输&quot;">​</a></h3><p>HTTPS 通过加密防止数据被窃听，将可读的明文转换为无意义的密文。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>HTTP:  [明文请求] --&gt; [明文响应] (易被窃听)</span></span>
<span class="line"><span>HTTPS: [加密请求] --&gt; [加密响应] (无法读取)</span></span></code></pre></div><p>加密前：“这是完全可读的文本字符串” 加密后：“ITM0IRyiEhVpa6VnKyExMiEgNveroyWBPlgGyfkflYjDaa...”</p><h3 id="身份验证" tabindex="-1">身份验证 <a class="header-anchor" href="#身份验证" aria-label="Permalink to &quot;身份验证&quot;">​</a></h3><p>HTTPS 使用 SSL 证书验证服务器身份，防止中间人攻击和网站冒充。证书由可信的证书颁发机构 (CA) 签发，浏览器会验证证书的合法性。</p><h3 id="数据完整性" tabindex="-1">数据完整性 <a class="header-anchor" href="#数据完整性" aria-label="Permalink to &quot;数据完整性&quot;">​</a></h3><p>HTTPS 通过消息认证码 (MAC) 和数字签名机制确保数据在传输过程中不被篡改。任何对数据的修改都会被接收方检测到。</p><h3 id="混合加密机制" tabindex="-1">混合加密机制 <a class="header-anchor" href="#混合加密机制" aria-label="Permalink to &quot;混合加密机制&quot;">​</a></h3><p>HTTPS 结合非对称加密和对称加密的优势：</p><ol><li><strong>非对称加密</strong>用于密钥交换<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端: [使用服务器公钥加密] --&gt; 服务器: [使用私钥解密]</span></span>
<span class="line"><span>(公钥加密内容只有私钥能解密)</span></span></code></pre></div></li><li><strong>对称加密</strong>用于数据传输<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端: [使用会话密钥加密/解密] &lt;--&gt; 服务器: [使用会话密钥加密/解密]</span></span></code></pre></div></li></ol><h2 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-label="Permalink to &quot;工作原理&quot;">​</a></h2><h3 id="tls-握手过程" tabindex="-1">TLS 握手过程 <a class="header-anchor" href="#tls-握手过程" aria-label="Permalink to &quot;TLS 握手过程&quot;">​</a></h3><p>HTTPS 连接建立需要完成 TLS 握手，以 HTTPS over TLS 1.2 为例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 --&gt; 服务器: ClientHello (支持算法+客户端随机数)</span></span>
<span class="line"><span>客户端 &lt;-- 服务器: ServerHello (选择算法+服务器随机数+证书)</span></span>
<span class="line"><span>客户端 &lt;-- 服务器: ServerKeyExchange (可选)</span></span>
<span class="line"><span>客户端 &lt;-- 服务器: ServerHelloDone</span></span>
<span class="line"><span>客户端 --&gt; 服务器: ClientKeyExchange (预主密钥)</span></span>
<span class="line"><span>客户端 --&gt; 服务器: ChangeCipherSpec (准备加密)</span></span>
<span class="line"><span>客户端 --&gt; 服务器: Finished (加密完成)</span></span>
<span class="line"><span>客户端 &lt;-- 服务器: ChangeCipherSpec (准备加密)</span></span>
<span class="line"><span>客户端 &lt;-- 服务器: Finished (加密完成)</span></span>
<span class="line"><span>安全连接建立</span></span></code></pre></div><h3 id="证书验证过程" tabindex="-1">证书验证过程 <a class="header-anchor" href="#证书验证过程" aria-label="Permalink to &quot;证书验证过程&quot;">​</a></h3><p>浏览器收到服务器证书后执行验证：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>获取证书 --&gt; 检查颁发机构 --&gt; 验证证书签名 --&gt; 检查有效期 --&gt; 确认域名匹配</span></span></code></pre></div><p>若任何一步失败，浏览器会显示安全警告。</p><h3 id="会话密钥生成" tabindex="-1">会话密钥生成 <a class="header-anchor" href="#会话密钥生成" aria-label="Permalink to &quot;会话密钥生成&quot;">​</a></h3><p>握手完成后，双方使用三个随机数 (客户端随机数、服务器随机数和预主密钥) 独立计算出相同的会话密钥，用于后续对称加密。</p><h2 id="ssl-tls-证书" tabindex="-1">SSL/TLS 证书 <a class="header-anchor" href="#ssl-tls-证书" aria-label="Permalink to &quot;SSL/TLS 证书&quot;">​</a></h2><h3 id="证书类型" tabindex="-1">证书类型 <a class="header-anchor" href="#证书类型" aria-label="Permalink to &quot;证书类型&quot;">​</a></h3><p>根据验证级别分类：</p><ul><li><strong>DV 证书</strong>：仅验证域名所有权，适用于个人网站</li><li><strong>OV 证书</strong>：验证组织身份，适用于企业网站</li><li><strong>EV 证书</strong>：扩展验证，浏览器地址栏显示绿色企业名称</li><li><strong>通配符证书</strong>：支持单个域名及其所有子域名</li></ul><h3 id="证书申请与部署" tabindex="-1">证书申请与部署 <a class="header-anchor" href="#证书申请与部署" aria-label="Permalink to &quot;证书申请与部署&quot;">​</a></h3><p>获取 SSL 证书的基本流程：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>生成密钥对 --&gt; 创建CSR --&gt; 向CA提交申请 --&gt; 验证域名所有权 --&gt; 签发证书 --&gt; 安装到服务器</span></span></code></pre></div><h2 id="与-http-的对比" tabindex="-1">与 HTTP 的对比 <a class="header-anchor" href="#与-http-的对比" aria-label="Permalink to &quot;与 HTTP 的对比&quot;">​</a></h2><h3 id="安全性差异" tabindex="-1">安全性差异 <a class="header-anchor" href="#安全性差异" aria-label="Permalink to &quot;安全性差异&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>传输安全:   HTTP - 明文传输，易被窃听</span></span>
<span class="line"><span>            HTTPS - 加密传输，防窃听</span></span>
<span class="line"><span></span></span>
<span class="line"><span>身份验证:   HTTP - 无身份验证，易被冒充</span></span>
<span class="line"><span>            HTTPS - 服务器身份验证，防钓鱼</span></span>
<span class="line"><span></span></span>
<span class="line"><span>完整性:     HTTP - 数据易被篡改</span></span>
<span class="line"><span>            HTTPS - 数据完整性保护</span></span></code></pre></div><h3 id="性能考量" tabindex="-1">性能考量 <a class="header-anchor" href="#性能考量" aria-label="Permalink to &quot;性能考量&quot;">​</a></h3><p>HTTPS 会增加一定的计算开销：</p><ul><li>连接建立延迟：TLS 握手需要额外往返</li><li>CPU 资源消耗：加解密操作增加服务器负担</li><li>带宽占用：TLS 记录层增加少量开销</li></ul><p>不过，通过会话恢复、HTTP/2 等优化技术，可以显著减少这些性能影响。</p><h2 id="安全考虑" tabindex="-1">安全考虑 <a class="header-anchor" href="#安全考虑" aria-label="Permalink to &quot;安全考虑&quot;">​</a></h2><h3 id="潜在攻击面" tabindex="-1">潜在攻击面 <a class="header-anchor" href="#潜在攻击面" aria-label="Permalink to &quot;潜在攻击面&quot;">​</a></h3><p>尽管 HTTPS 提供了强大保护，但仍需注意：</p><ul><li><strong>证书欺骗</strong>：攻击者使用类似域名申请合法证书</li><li><strong>中间人攻击</strong>：在某些网络环境下仍可能发生</li><li><strong>协议漏洞</strong>：旧版本 SSL/TLS 中的已知漏洞</li><li><strong>CA 泄露</strong>：证书颁发机构被攻破的风险</li></ul><h3 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h3><p>确保 HTTPS 安全性的建议：</p><ul><li>使用强加密算法和足够密钥长度</li><li>及时更新 TLS 配置，禁用不安全协议版本</li><li>正确配置证书链和 HSTS 头部</li><li>定期更新证书并监控到期时间</li></ul><h2 id="部署实施" tabindex="-1">部署实施 <a class="header-anchor" href="#部署实施" aria-label="Permalink to &quot;部署实施&quot;">​</a></h2><h3 id="服务器配置" tabindex="-1">服务器配置 <a class="header-anchor" href="#服务器配置" aria-label="Permalink to &quot;服务器配置&quot;">​</a></h3><p>在 Web 服务器上启用 HTTPS 的基本步骤：</p><ol><li>获取并安装 SSL 证书</li><li>配置服务器监听 443 端口</li><li>设置证书文件和私钥路径</li><li>实施 HTTP 到 HTTPS 的重定向</li></ol><h3 id="混合内容处理" tabindex="-1">混合内容处理 <a class="header-anchor" href="#混合内容处理" aria-label="Permalink to &quot;混合内容处理&quot;">​</a></h3><p>HTTPS 页面加载 HTTP 资源会导致“混合内容”警告。解决方案：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>检查所有资源引用 --&gt; 将http://替换为https:// --&gt; 使用协议相对URL</span></span></code></pre></div><h3 id="开发环境配置" tabindex="-1">开发环境配置 <a class="header-anchor" href="#开发环境配置" aria-label="Permalink to &quot;开发环境配置&quot;">​</a></h3><p>在开发过程中可以使用自签名证书：</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">app.run(</span><span style="color:#9ECBFF;">&#39;0.0.0.0&#39;</span><span style="color:#E1E4E8;">, port, </span><span style="color:#FFAB70;">ssl_context</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;adhoc&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><p>但浏览器会显示安全警告，仅适用于测试环境。</p>`,64)])])}const T=l(t,[["render",i]]);export{u as __pageData,T as default};
