import{_ as a,c as n,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const y=JSON.parse('{"title":"代码测试","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是代码测试？","slug":"什么是代码测试","link":"#什么是代码测试","children":[]},{"level":2,"title":"测试金字塔","slug":"测试金字塔","link":"#测试金字塔","children":[]},{"level":2,"title":"测试类型","slug":"测试类型","link":"#测试类型","children":[{"level":3,"title":"单元测试","slug":"单元测试","link":"#单元测试","children":[]},{"level":3,"title":"集成测试","slug":"集成测试","link":"#集成测试","children":[]},{"level":3,"title":"端到端测试","slug":"端到端测试","link":"#端到端测试","children":[]}]},{"level":2,"title":"测试工具生态","slug":"测试工具生态","link":"#测试工具生态","children":[{"level":3,"title":"测试框架","slug":"测试框架","link":"#测试框架","children":[]},{"level":3,"title":"断言库","slug":"断言库","link":"#断言库","children":[]},{"level":3,"title":"测试工具集","slug":"测试工具集","link":"#测试工具集","children":[]}]},{"level":2,"title":"单元测试实践","slug":"单元测试实践","link":"#单元测试实践","children":[{"level":3,"title":"函数测试","slug":"函数测试","link":"#函数测试","children":[]},{"level":3,"title":"组件测试","slug":"组件测试","link":"#组件测试","children":[]}]},{"level":2,"title":"集成测试实践","slug":"集成测试实践","link":"#集成测试实践","children":[{"level":3,"title":"API 集成测试","slug":"api-集成测试","link":"#api-集成测试","children":[]},{"level":3,"title":"组件集成测试","slug":"组件集成测试","link":"#组件集成测试","children":[]}]},{"level":2,"title":"端到端测试实践","slug":"端到端测试实践","link":"#端到端测试实践","children":[{"level":3,"title":"用户流程测试","slug":"用户流程测试","link":"#用户流程测试","children":[]}]},{"level":2,"title":"测试配置与组织","slug":"测试配置与组织","link":"#测试配置与组织","children":[{"level":3,"title":"测试文件结构","slug":"测试文件结构","link":"#测试文件结构","children":[]},{"level":3,"title":"测试配置","slug":"测试配置","link":"#测试配置","children":[]}]},{"level":2,"title":"测试最佳实践","slug":"测试最佳实践","link":"#测试最佳实践","children":[{"level":3,"title":"测试编写原则","slug":"测试编写原则","link":"#测试编写原则","children":[]},{"level":3,"title":"测试命名规范","slug":"测试命名规范","link":"#测试命名规范","children":[]}]},{"level":2,"title":"测试覆盖率","slug":"测试覆盖率","link":"#测试覆盖率","children":[{"level":3,"title":"覆盖率指标","slug":"覆盖率指标","link":"#覆盖率指标","children":[]},{"level":3,"title":"覆盖率报告","slug":"覆盖率报告","link":"#覆盖率报告","children":[]}]},{"level":2,"title":"测试工作流集成","slug":"测试工作流集成","link":"#测试工作流集成","children":[{"level":3,"title":"开发阶段","slug":"开发阶段","link":"#开发阶段","children":[]},{"level":3,"title":"持续集成","slug":"持续集成","link":"#持续集成","children":[]}]},{"level":2,"title":"测试策略选择","slug":"测试策略选择","link":"#测试策略选择","children":[{"level":3,"title":"项目阶段适配","slug":"项目阶段适配","link":"#项目阶段适配","children":[]},{"level":3,"title":"技术栈适配","slug":"技术栈适配","link":"#技术栈适配","children":[]}]}],"relativePath":"engineering/coding/test.md","filePath":"engineering/coding/test.md"}'),e={name:"engineering/coding/test.md"};function o(t,s,c,i,r,E){return l(),n("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /engineering/coding/test.md for this page in Markdown format</div><h1 id="代码测试" tabindex="-1">代码测试 <a class="header-anchor" href="#代码测试" aria-label="Permalink to &quot;代码测试&quot;">​</a></h1><p>代码测试是软件开发过程中的关键实践，通过自动化验证代码的正确性、可靠性和性能。在前端开发中，测试帮助确保用户界面交互的正确性、组件的可靠性和应用的稳定性，是现代前端工程化不可或缺的组成部分。</p><h2 id="什么是代码测试" tabindex="-1">什么是代码测试？ <a class="header-anchor" href="#什么是代码测试" aria-label="Permalink to &quot;什么是代码测试？&quot;">​</a></h2><p>代码测试是通过编写额外的代码来验证目标代码是否按预期工作的过程。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试基本原理:</span></span>
<span class="line"><span>[编写代码] -&gt; [编写测试] -&gt; [运行测试] -&gt; [验证结果]</span></span>
<span class="line"><span>      |           |           |           |</span></span>
<span class="line"><span> 实现功能     描述预期     自动执行     检查是否符合</span></span>
<span class="line"><span>           行为             预期</span></span></code></pre></div><h2 id="测试金字塔" tabindex="-1">测试金字塔 <a class="header-anchor" href="#测试金字塔" aria-label="Permalink to &quot;测试金字塔&quot;">​</a></h2><p>测试金字塔描述了不同粒度测试的合理分布。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试金字塔:</span></span>
<span class="line"><span>        /\\</span></span>
<span class="line"><span>       /  \\      [端到端测试] - 少量，覆盖关键用户流程</span></span>
<span class="line"><span>      /----\\</span></span>
<span class="line"><span>     /      \\     [集成测试] - 中等数量，验证模块协作</span></span>
<span class="line"><span>    /--------\\</span></span>
<span class="line"><span>   /          \\   [单元测试] - 大量，保证基础单元正确性</span></span>
<span class="line"><span>  /____________\\</span></span></code></pre></div><h2 id="测试类型" tabindex="-1">测试类型 <a class="header-anchor" href="#测试类型" aria-label="Permalink to &quot;测试类型&quot;">​</a></h2><h3 id="单元测试" tabindex="-1">单元测试 <a class="header-anchor" href="#单元测试" aria-label="Permalink to &quot;单元测试&quot;">​</a></h3><p>测试独立的代码单元，通常是函数或组件。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>单元测试范围:</span></span>
<span class="line"><span>[输入] -&gt; [被测单元] -&gt; [输出]</span></span>
<span class="line"><span>   |          |          |</span></span>
<span class="line"><span>测试数据    函数/组件   验证结果</span></span></code></pre></div><h3 id="集成测试" tabindex="-1">集成测试 <a class="header-anchor" href="#集成测试" aria-label="Permalink to &quot;集成测试&quot;">​</a></h3><p>测试多个单元如何协作。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>集成测试范围:</span></span>
<span class="line"><span>[单元A] -&gt; [单元B] -&gt; [单元C]</span></span>
<span class="line"><span>   |         |         |</span></span>
<span class="line"><span>验证模块    数据传递   整体行为</span></span>
<span class="line"><span>间交互</span></span></code></pre></div><h3 id="端到端测试" tabindex="-1">端到端测试 <a class="header-anchor" href="#端到端测试" aria-label="Permalink to &quot;端到端测试&quot;">​</a></h3><p>模拟真实用户操作，测试完整应用流程。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>端到端测试流程:</span></span>
<span class="line"><span>[启动应用] -&gt; [用户操作] -&gt; [验证结果]</span></span>
<span class="line"><span>     |           |           |</span></span>
<span class="line"><span> 打开浏览器    点击输入     页面状态</span></span></code></pre></div><h2 id="测试工具生态" tabindex="-1">测试工具生态 <a class="header-anchor" href="#测试工具生态" aria-label="Permalink to &quot;测试工具生态&quot;">​</a></h2><h3 id="测试框架" tabindex="-1">测试框架 <a class="header-anchor" href="#测试框架" aria-label="Permalink to &quot;测试框架&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>主流测试框架:</span></span>
<span class="line"><span>Jest:      [全能型] -&gt; [零配置] -&gt; [快照测试] -&gt; [广泛使用]</span></span>
<span class="line"><span>Vitest:    [基于Vite] -&gt; [快速] -&gt; [ESM优先] -&gt; [现代选择]</span></span>
<span class="line"><span>Mocha:     [灵活] -&gt; [丰富插件] -&gt; [浏览器支持] -&gt; [传统项目]</span></span></code></pre></div><h3 id="断言库" tabindex="-1">断言库 <a class="header-anchor" href="#断言库" aria-label="Permalink to &quot;断言库&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>断言库对比:</span></span>
<span class="line"><span>Jest内置:    expect(value).toBe(expected)</span></span>
<span class="line"><span>Chai:        expect(value).to.equal(expected)</span></span>
<span class="line"><span>Node内置:    assert.strictEqual(value, expected)</span></span></code></pre></div><h3 id="测试工具集" tabindex="-1">测试工具集 <a class="header-anchor" href="#测试工具集" aria-label="Permalink to &quot;测试工具集&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试工具链:</span></span>
<span class="line"><span>[测试框架] -&gt; [断言库] -&gt; [模拟库] -&gt; [覆盖率工具]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> Jest/Vitest   Jest/Chai   Jest/Sinon   Istanbul</span></span></code></pre></div><h2 id="单元测试实践" tabindex="-1">单元测试实践 <a class="header-anchor" href="#单元测试实践" aria-label="Permalink to &quot;单元测试实践&quot;">​</a></h2><h3 id="函数测试" tabindex="-1">函数测试 <a class="header-anchor" href="#函数测试" aria-label="Permalink to &quot;函数测试&quot;">​</a></h3><p>测试纯函数的输入输出关系。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 被测函数</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> add</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">b</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> a </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> b;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 测试用例</span></span>
<span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;应该正确计算两个数字的和&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">toBe</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">toBe</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h3 id="组件测试" tabindex="-1">组件测试 <a class="header-anchor" href="#组件测试" aria-label="Permalink to &quot;组件测试&quot;">​</a></h3><p>测试 UI 组件的渲染和行为。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// React组件测试</span></span>
<span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;按钮组件应该渲染正确的文本&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    render</span><span style="color:#E1E4E8;">(&lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;点击我&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;);</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(screen.</span><span style="color:#B392F0;">getByText</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;点击我&#39;</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">toBeInTheDocument</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;按钮点击应该触发回调&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> handleClick</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> jest.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#B392F0;">    render</span><span style="color:#E1E4E8;">(&lt;</span><span style="color:#79B8FF;">Button</span><span style="color:#B392F0;"> onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleClick}&gt;点击&lt;/</span><span style="color:#79B8FF;">Button</span><span style="color:#E1E4E8;">&gt;);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    fireEvent.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">(screen.</span><span style="color:#B392F0;">getByText</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;点击&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(handleClick).</span><span style="color:#B392F0;">toHaveBeenCalledTimes</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="集成测试实践" tabindex="-1">集成测试实践 <a class="header-anchor" href="#集成测试实践" aria-label="Permalink to &quot;集成测试实践&quot;">​</a></h2><h3 id="api-集成测试" tabindex="-1">API 集成测试 <a class="header-anchor" href="#api-集成测试" aria-label="Permalink to &quot;API 集成测试&quot;">​</a></h3><p>测试前端与后端 API 的交互。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;应该成功获取用户数据&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    // 模拟API响应</span></span>
<span class="line"><span style="color:#E1E4E8;">    fetchMock.</span><span style="color:#B392F0;">mockResponseOnce</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">({ user: </span><span style="color:#9ECBFF;">&#39;Alice&#39;</span><span style="color:#E1E4E8;"> }));</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> user</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> await</span><span style="color:#B392F0;"> fetchUser</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">123</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(user).</span><span style="color:#B392F0;">toEqual</span><span style="color:#E1E4E8;">({ user: </span><span style="color:#9ECBFF;">&#39;Alice&#39;</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(fetchMock).</span><span style="color:#B392F0;">toHaveBeenCalledWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;/api/users/123&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h3 id="组件集成测试" tabindex="-1">组件集成测试 <a class="header-anchor" href="#组件集成测试" aria-label="Permalink to &quot;组件集成测试&quot;">​</a></h3><p>测试多个组件如何协同工作。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;搜索组件应该过滤列表&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">    render</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#79B8FF;">SearchBox</span><span style="color:#B392F0;"> onSearch</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{setFilter} /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#79B8FF;">UserList</span><span style="color:#B392F0;"> filter</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{filter} /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#6A737D;">    // 输入搜索词</span></span>
<span class="line"><span style="color:#E1E4E8;">    fireEvent.</span><span style="color:#B392F0;">change</span><span style="color:#E1E4E8;">(screen.</span><span style="color:#B392F0;">getByPlaceholderText</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;搜索&#39;</span><span style="color:#E1E4E8;">), {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: { value: </span><span style="color:#9ECBFF;">&#39;Alice&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#6A737D;">    // 验证列表过滤</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(screen.</span><span style="color:#B392F0;">getByText</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Alice&#39;</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">toBeInTheDocument</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(screen.</span><span style="color:#B392F0;">queryByText</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Bob&#39;</span><span style="color:#E1E4E8;">)).not.</span><span style="color:#B392F0;">toBeInTheDocument</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="端到端测试实践" tabindex="-1">端到端测试实践 <a class="header-anchor" href="#端到端测试实践" aria-label="Permalink to &quot;端到端测试实践&quot;">​</a></h2><h3 id="用户流程测试" tabindex="-1">用户流程测试 <a class="header-anchor" href="#用户流程测试" aria-label="Permalink to &quot;用户流程测试&quot;">​</a></h3><p>测试完整的用户操作流程。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;用户应该能够完成登录流程&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    // 启动浏览器访问应用</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">goto</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://example.com/login&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#6A737D;">    // 填写登录表单</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#username&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;testuser&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#password&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;password123&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#login-button&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#6A737D;">    // 验证登录成功</span></span>
<span class="line"><span style="color:#F97583;">    await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">waitForNavigation</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">url</span><span style="color:#E1E4E8;">()).</span><span style="color:#B392F0;">toContain</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;/dashboard&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#B392F0;">    expect</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.welcome-message&#39;</span><span style="color:#E1E4E8;">)).not.</span><span style="color:#B392F0;">toBeNull</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="测试配置与组织" tabindex="-1">测试配置与组织 <a class="header-anchor" href="#测试配置与组织" aria-label="Permalink to &quot;测试配置与组织&quot;">​</a></h2><h3 id="测试文件结构" tabindex="-1">测试文件结构 <a class="header-anchor" href="#测试文件结构" aria-label="Permalink to &quot;测试文件结构&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试文件组织:</span></span>
<span class="line"><span>src/</span></span>
<span class="line"><span>├── components/</span></span>
<span class="line"><span>│   ├── Button/</span></span>
<span class="line"><span>│   │   ├── Button.jsx</span></span>
<span class="line"><span>│   │   └── Button.test.jsx</span></span>
<span class="line"><span>├── utils/</span></span>
<span class="line"><span>│   ├── format.js</span></span>
<span class="line"><span>│   └── format.test.js</span></span>
<span class="line"><span>└── __tests__/          # 或统一放在tests目录</span></span>
<span class="line"><span>    ├── integration/</span></span>
<span class="line"><span>    └── e2e/</span></span></code></pre></div><h3 id="测试配置" tabindex="-1">测试配置 <a class="header-anchor" href="#测试配置" aria-label="Permalink to &quot;测试配置&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// jest.config.js</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    testEnvironment: </span><span style="color:#9ECBFF;">&#39;jsdom&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    setupFilesAfterEnv: [</span><span style="color:#9ECBFF;">&#39;&lt;rootDir&gt;/jest-setup.js&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    collectCoverageFrom: [</span></span>
<span class="line"><span style="color:#9ECBFF;">        &#39;src/**/*.{js,jsx}&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">        &#39;!src/index.js&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    ]</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre></div><h2 id="测试最佳实践" tabindex="-1">测试最佳实践 <a class="header-anchor" href="#测试最佳实践" aria-label="Permalink to &quot;测试最佳实践&quot;">​</a></h2><h3 id="测试编写原则" tabindex="-1">测试编写原则 <a class="header-anchor" href="#测试编写原则" aria-label="Permalink to &quot;测试编写原则&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>好的测试特征:</span></span>
<span class="line"><span>[独立性] -&gt; [可重复性] -&gt; [及时性] -&gt; [简洁性]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> 不依赖外部    每次结果一致  与开发同步   易于理解</span></span>
<span class="line"><span>  状态</span></span></code></pre></div><h3 id="测试命名规范" tabindex="-1">测试命名规范 <a class="header-anchor" href="#测试命名规范" aria-label="Permalink to &quot;测试命名规范&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试命名模式:</span></span>
<span class="line"><span>描述性: &quot;应该正确计算商品总价&quot;</span></span>
<span class="line"><span>行为驱动: &quot;当用户点击按钮时，应该显示模态框&quot;</span></span>
<span class="line"><span>给定-当-那么: &quot;给定用户已登录，当访问个人中心，那么显示用户信息&quot;</span></span></code></pre></div><h2 id="测试覆盖率" tabindex="-1">测试覆盖率 <a class="header-anchor" href="#测试覆盖率" aria-label="Permalink to &quot;测试覆盖率&quot;">​</a></h2><h3 id="覆盖率指标" tabindex="-1">覆盖率指标 <a class="header-anchor" href="#覆盖率指标" aria-label="Permalink to &quot;覆盖率指标&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>覆盖率类型:</span></span>
<span class="line"><span>行覆盖率:    执行了多少行代码</span></span>
<span class="line"><span>分支覆盖率:   覆盖了多少条件分支</span></span>
<span class="line"><span>函数覆盖率:   调用了多少函数</span></span>
<span class="line"><span>语句覆盖率:   执行了多少语句</span></span></code></pre></div><h3 id="覆盖率报告" tabindex="-1">覆盖率报告 <a class="header-anchor" href="#覆盖率报告" aria-label="Permalink to &quot;覆盖率报告&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>覆盖率目标:</span></span>
<span class="line"><span>[运行测试] -&gt; [收集数据] -&gt; [生成报告] -&gt; [分析改进]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> 执行用例     跟踪执行     可视化展示   提升覆盖率</span></span></code></pre></div><h2 id="测试工作流集成" tabindex="-1">测试工作流集成 <a class="header-anchor" href="#测试工作流集成" aria-label="Permalink to &quot;测试工作流集成&quot;">​</a></h2><h3 id="开发阶段" tabindex="-1">开发阶段 <a class="header-anchor" href="#开发阶段" aria-label="Permalink to &quot;开发阶段&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>开发时测试:</span></span>
<span class="line"><span>[编写代码] -&gt; [运行测试] -&gt; [快速反馈] -&gt; [修复问题]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> TDD/BDD     即时验证     立即发现     立即解决</span></span></code></pre></div><h3 id="持续集成" tabindex="-1">持续集成 <a class="header-anchor" href="#持续集成" aria-label="Permalink to &quot;持续集成&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>CI集成:</span></span>
<span class="line"><span>[代码提交] -&gt; [自动测试] -&gt; [生成报告] -&gt; [部署决策]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> 触发流水线    全量测试     质量评估     通过才部署</span></span></code></pre></div><h2 id="测试策略选择" tabindex="-1">测试策略选择 <a class="header-anchor" href="#测试策略选择" aria-label="Permalink to &quot;测试策略选择&quot;">​</a></h2><h3 id="项目阶段适配" tabindex="-1">项目阶段适配 <a class="header-anchor" href="#项目阶段适配" aria-label="Permalink to &quot;项目阶段适配&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>测试策略演进:</span></span>
<span class="line"><span>初创项目:    [重点单元测试] -&gt; [核心集成测试] -&gt; [关键E2E测试]</span></span>
<span class="line"><span>        |               |               |</span></span>
<span class="line"><span>     快速迭代       保证基础质量     验证核心流程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>成熟项目:    [全面单元测试] -&gt; [完整集成测试] -&gt; [完整E2E测试]</span></span>
<span class="line"><span>        |               |               |</span></span>
<span class="line"><span>     质量稳定       模块协作可靠     用户体验保障</span></span></code></pre></div><h3 id="技术栈适配" tabindex="-1">技术栈适配 <a class="header-anchor" href="#技术栈适配" aria-label="Permalink to &quot;技术栈适配&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>框架特定测试:</span></span>
<span class="line"><span>React:      [React Testing Library] -&gt; [Jest] -&gt; [Cypress]</span></span>
<span class="line"><span>Vue:        [Vue Test Utils] -&gt; [Vitest] -&gt; [Playwright]</span></span>
<span class="line"><span>Angular:    [Jasmine/Karma] -&gt; [Protractor] -&gt; [Cypress]</span></span></code></pre></div>`,69)])])}const h=a(e,[["render",o]]);export{y as __pageData,h as default};
