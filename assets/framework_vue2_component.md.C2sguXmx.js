import{_ as a,c as n,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const d=JSON.parse('{"title":"Vue2 Component","description":"","frontmatter":{},"headers":[{"level":2,"title":"组件定义","slug":"组件定义","link":"#组件定义","children":[{"level":3,"title":"全局组件","slug":"全局组件","link":"#全局组件","children":[]},{"level":3,"title":"局部组件","slug":"局部组件","link":"#局部组件","children":[]}]},{"level":2,"title":"组件结构","slug":"组件结构","link":"#组件结构","children":[]},{"level":2,"title":"Props","slug":"props","link":"#props","children":[{"level":3,"title":"Prop 定义","slug":"prop-定义","link":"#prop-定义","children":[]},{"level":3,"title":"Prop 使用","slug":"prop-使用","link":"#prop-使用","children":[]},{"level":3,"title":"Prop 验证","slug":"prop-验证","link":"#prop-验证","children":[]}]},{"level":2,"title":"自定义事件","slug":"自定义事件","link":"#自定义事件","children":[{"level":3,"title":"事件发射","slug":"事件发射","link":"#事件发射","children":[]},{"level":3,"title":"事件监听","slug":"事件监听","link":"#事件监听","children":[]}]},{"level":2,"title":"组件通信","slug":"组件通信","link":"#组件通信","children":[{"level":3,"title":"事件总线","slug":"事件总线","link":"#事件总线","children":[]},{"level":3,"title":"provide / inject","slug":"provide-inject","link":"#provide-inject","children":[]}]},{"level":2,"title":"插槽","slug":"插槽","link":"#插槽","children":[{"level":3,"title":"基本插槽","slug":"基本插槽","link":"#基本插槽","children":[]},{"level":3,"title":"具名插槽","slug":"具名插槽","link":"#具名插槽","children":[]},{"level":3,"title":"作用域插槽","slug":"作用域插槽","link":"#作用域插槽","children":[]}]},{"level":2,"title":"动态组件","slug":"动态组件","link":"#动态组件","children":[{"level":3,"title":"keep-alive","slug":"keep-alive","link":"#keep-alive","children":[]}]},{"level":2,"title":"异步组件","slug":"异步组件","link":"#异步组件","children":[{"level":3,"title":"工厂函数","slug":"工厂函数","link":"#工厂函数","children":[]},{"level":3,"title":"import 语法","slug":"import-语法","link":"#import-语法","children":[]}]},{"level":2,"title":"组件生命周期","slug":"组件生命周期","link":"#组件生命周期","children":[]},{"level":2,"title":"组件边界情况","slug":"组件边界情况","link":"#组件边界情况","children":[{"level":3,"title":"访问根实例","slug":"访问根实例","link":"#访问根实例","children":[]},{"level":3,"title":"访问父组件","slug":"访问父组件","link":"#访问父组件","children":[]},{"level":3,"title":"访问子组件","slug":"访问子组件","link":"#访问子组件","children":[]},{"level":3,"title":"依赖注入","slug":"依赖注入","link":"#依赖注入","children":[]}]}],"relativePath":"framework/vue2/component.md","filePath":"framework/vue2/component.md"}'),o={name:"framework/vue2/component.md"};function e(t,s,c,r,E,i){return l(),n("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /framework/vue2/component.md for this page in Markdown format</div><h1 id="vue2-component" tabindex="-1">Vue2 Component <a class="header-anchor" href="#vue2-component" aria-label="Permalink to &quot;Vue2 Component&quot;">​</a></h1><p>Vue2 组件是 Vue 应用的核心构建块，允许将 UI 拆分为独立、可复用的代码片段。每个组件都是一个 Vue 实例，拥有自己的模板、数据、方法和生命周期。</p><h2 id="组件定义" tabindex="-1">组件定义 <a class="header-anchor" href="#组件定义" aria-label="Permalink to &quot;组件定义&quot;">​</a></h2><p>组件可以通过 Vue.component 全局注册或 options 局部注册。</p><h3 id="全局组件" tabindex="-1">全局组件 <a class="header-anchor" href="#全局组件" aria-label="Permalink to &quot;全局组件&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;my-component&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;这是一个自定义组件&lt;/div&gt;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="局部组件" tabindex="-1">局部组件 <a class="header-anchor" href="#局部组件" aria-label="Permalink to &quot;局部组件&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> ComponentA </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;组件A&lt;/div&gt;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Vue</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  el: </span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  components: {</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;component-a&#39;</span><span style="color:#E1E4E8;">: ComponentA</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="组件结构" tabindex="-1">组件结构 <a class="header-anchor" href="#组件结构" aria-label="Permalink to &quot;组件结构&quot;">​</a></h2><p>典型的 Vue 组件包含以下部分：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>组件结构:</span></span>
<span class="line"><span>+-------------------------------+</span></span>
<span class="line"><span>| 模板 (template)               |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>|  | HTML 结构               |  |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>+-------------------------------+</span></span>
<span class="line"><span>| 数据 (data)                  |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>|  | 响应式状态              |  |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>+-------------------------------+</span></span>
<span class="line"><span>| 属性 (props)                 |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>|  | 外部传入数据            |  |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>+-------------------------------+</span></span>
<span class="line"><span>| 方法 (methods)               |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>|  | 事件处理函数            |  |</span></span>
<span class="line"><span>|  +-------------------------+  |</span></span>
<span class="line"><span>+-------------------------------+</span></span></code></pre></div><h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h2><p>Props 是父组件向子组件传递数据的自定义属性。</p><h3 id="prop-定义" tabindex="-1">Prop 定义 <a class="header-anchor" href="#prop-定义" aria-label="Permalink to &quot;Prop 定义&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;blog-post&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  props: [</span><span style="color:#9ECBFF;">&#39;title&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;content&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;likes&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;div class=&quot;blog-post&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;h3&gt;{{ title }}&lt;/h3&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;p&gt;{{ content }}&lt;/p&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;span&gt;点赞数: {{ likes }}&lt;/span&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  \`</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="prop-使用" tabindex="-1">Prop 使用 <a class="header-anchor" href="#prop-使用" aria-label="Permalink to &quot;Prop 使用&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">blog-post</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#B392F0;">  title</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;我的博客标题&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  content</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;博客内容...&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  :likes</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;42&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">blog-post</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="prop-验证" tabindex="-1">Prop 验证 <a class="header-anchor" href="#prop-验证" aria-label="Permalink to &quot;Prop 验证&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">props</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#B392F0;">  title</span><span style="color:#E1E4E8;">: String,</span></span>
<span class="line"><span style="color:#B392F0;">  likes</span><span style="color:#E1E4E8;">: Number,</span></span>
<span class="line"><span style="color:#B392F0;">  isPublished</span><span style="color:#E1E4E8;">: Boolean,</span></span>
<span class="line"><span style="color:#B392F0;">  commentIds</span><span style="color:#E1E4E8;">: Array,</span></span>
<span class="line"><span style="color:#B392F0;">  author</span><span style="color:#E1E4E8;">: Object,</span></span>
<span class="line"><span style="color:#B392F0;">  callback</span><span style="color:#E1E4E8;">: Function,</span></span>
<span class="line"><span style="color:#B392F0;">  contactsPromise</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">Promise</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="自定义事件" tabindex="-1">自定义事件 <a class="header-anchor" href="#自定义事件" aria-label="Permalink to &quot;自定义事件&quot;">​</a></h2><p>子组件通过自定义事件向父组件通信。</p><h3 id="事件发射" tabindex="-1">事件发射 <a class="header-anchor" href="#事件发射" aria-label="Permalink to &quot;事件发射&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;button-counter&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;button @click=&quot;incrementCounter&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      点击了 {{ count }} 次</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;/button&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  \`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">  data</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> { count: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  methods: {</span></span>
<span class="line"><span style="color:#B392F0;">    incrementCounter</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.count</span><span style="color:#F97583;">++</span></span>
<span class="line"><span style="color:#79B8FF;">      this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">$emit</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;count-changed&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.count)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="事件监听" tabindex="-1">事件监听 <a class="header-anchor" href="#事件监听" aria-label="Permalink to &quot;事件监听&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button-counter</span><span style="color:#B392F0;"> @count-changed</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;handleCountChange&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">button-counter</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">methods</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#B392F0;">  handleCountChange</span><span style="color:#E1E4E8;">(newCount) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;计数变为:&#39;</span><span style="color:#E1E4E8;">, newCount)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="组件通信" tabindex="-1">组件通信 <a class="header-anchor" href="#组件通信" aria-label="Permalink to &quot;组件通信&quot;">​</a></h2><p>组件间通信的几种方式：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>通信方式:</span></span>
<span class="line"><span>父组件 → 子组件: Props</span></span>
<span class="line"><span>子组件 → 父组件: 自定义事件</span></span>
<span class="line"><span>兄弟组件: 事件总线或Vuex</span></span>
<span class="line"><span>深层嵌套: provide/inject</span></span></code></pre></div><h3 id="事件总线" tabindex="-1">事件总线 <a class="header-anchor" href="#事件总线" aria-label="Permalink to &quot;事件总线&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 创建事件总线</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> eventBus</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Vue</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 组件A - 发送事件</span></span>
<span class="line"><span style="color:#E1E4E8;">eventBus.</span><span style="color:#B392F0;">$emit</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;message-sent&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Hello&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 组件B - 接收事件</span></span>
<span class="line"><span style="color:#E1E4E8;">eventBus.</span><span style="color:#B392F0;">$on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;message-sent&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;收到消息:&#39;</span><span style="color:#E1E4E8;">, message)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="provide-inject" tabindex="-1">provide / inject <a class="header-anchor" href="#provide-inject" aria-label="Permalink to &quot;provide / inject&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 祖先组件</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> app</span><span style="color:#F97583;"> =</span><span style="color:#F97583;"> new</span><span style="color:#B392F0;"> Vue</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  provide: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    theme: </span><span style="color:#9ECBFF;">&#39;dark&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 后代组件</span></span>
<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;themed-button&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  inject: [</span><span style="color:#9ECBFF;">&#39;theme&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">&#39;&lt;button :class=&quot;\`btn-\${theme}\`&quot;&gt;主题按钮&lt;/button&gt;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="插槽" tabindex="-1">插槽 <a class="header-anchor" href="#插槽" aria-label="Permalink to &quot;插槽&quot;">​</a></h2><p>插槽允许组件接收模板内容，实现内容分发。</p><h3 id="基本插槽" tabindex="-1">基本插槽 <a class="header-anchor" href="#基本插槽" aria-label="Permalink to &quot;基本插槽&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;alert-box&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;div class=&quot;alert-box&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;strong&gt;注意!&lt;/strong&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;slot&gt;默认内容&lt;/slot&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  \`</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">alert-box</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  这里是插槽内容</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">alert-box</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="具名插槽" tabindex="-1">具名插槽 <a class="header-anchor" href="#具名插槽" aria-label="Permalink to &quot;具名插槽&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;base-layout&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;div class=&quot;container&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;header&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">        &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;/header&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;main&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">        &lt;slot&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;/main&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;footer&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">        &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;/footer&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  \`</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">base-layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> v-slot:header</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;页面标题&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;主要内容&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> v-slot:footer</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;页脚信息&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">base-layout</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="作用域插槽" tabindex="-1">作用域插槽 <a class="header-anchor" href="#作用域插槽" aria-label="Permalink to &quot;作用域插槽&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;todo-list&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#B392F0;">  data</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      items: [</span><span style="color:#9ECBFF;">&#39;项目A&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;项目B&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;项目C&#39;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  template: </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;li v-for=&quot;(item, index) in items&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">        &lt;slot :item=&quot;item&quot; :index=&quot;index&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  \`</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">todo-list</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> v-slot:default</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;slotProps&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">span</span><span style="color:#B392F0;"> class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text&quot;</span><span style="color:#E1E4E8;">&gt;{{ slotProps.item }}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">span</span><span style="color:#B392F0;"> class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;index&quot;</span><span style="color:#E1E4E8;">&gt;({{ slotProps.index }})&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">todo-list</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="动态组件" tabindex="-1">动态组件 <a class="header-anchor" href="#动态组件" aria-label="Permalink to &quot;动态组件&quot;">​</a></h2><p>通过 is 特性动态切换不同组件。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">component</span><span style="color:#B392F0;"> :is</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;currentComponent&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#FDAEB7;font-style:italic;">component</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">data</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    currentComponent: </span><span style="color:#9ECBFF;">&#39;home&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#B392F0;">components</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#B392F0;">  home</span><span style="color:#E1E4E8;">: { </span><span style="color:#B392F0;">template</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;首页&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#B392F0;">  about</span><span style="color:#E1E4E8;">: { </span><span style="color:#B392F0;">template</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;关于&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#B392F0;">  contact</span><span style="color:#E1E4E8;">: { </span><span style="color:#B392F0;">template</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;联系&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="keep-alive" tabindex="-1">keep-alive <a class="header-anchor" href="#keep-alive" aria-label="Permalink to &quot;keep-alive&quot;">​</a></h3><p>保持动态组件状态，避免重新渲染。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">keep-alive</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#FDAEB7;font-style:italic;">component</span><span style="color:#B392F0;"> :is</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;currentComponent&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#FDAEB7;font-style:italic;">component</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">keep-alive</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="异步组件" tabindex="-1">异步组件 <a class="header-anchor" href="#异步组件" aria-label="Permalink to &quot;异步组件&quot;">​</a></h2><p>按需加载组件，提高应用性能。</p><h3 id="工厂函数" tabindex="-1">工厂函数 <a class="header-anchor" href="#工厂函数" aria-label="Permalink to &quot;工厂函数&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;async-component&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#B392F0;">  setTimeout</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#B392F0;">    resolve</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      template: </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;异步加载的组件&lt;/div&gt;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }, </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="import-语法" tabindex="-1">import 语法 <a class="header-anchor" href="#import-语法" aria-label="Permalink to &quot;import 语法&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">  &#39;async-webpack-component&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./my-async-component&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre></div><h2 id="组件生命周期" tabindex="-1">组件生命周期 <a class="header-anchor" href="#组件生命周期" aria-label="Permalink to &quot;组件生命周期&quot;">​</a></h2><p>组件特有的生命周期钩子：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>组件生命周期:</span></span>
<span class="line"><span>beforeCreate → created → beforeMount → mounted</span></span>
<span class="line"><span>           ↓</span></span>
<span class="line"><span>beforeUpdate → updated</span></span>
<span class="line"><span>           ↓</span></span>
<span class="line"><span>beforeDestroy → destroyed</span></span></code></pre></div><h2 id="组件边界情况" tabindex="-1">组件边界情况 <a class="header-anchor" href="#组件边界情况" aria-label="Permalink to &quot;组件边界情况&quot;">​</a></h2><h3 id="访问根实例" tabindex="-1">访问根实例 <a class="header-anchor" href="#访问根实例" aria-label="Permalink to &quot;访问根实例&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.$root</span></span></code></pre></div><h3 id="访问父组件" tabindex="-1">访问父组件 <a class="header-anchor" href="#访问父组件" aria-label="Permalink to &quot;访问父组件&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.$parent</span></span></code></pre></div><h3 id="访问子组件" tabindex="-1">访问子组件 <a class="header-anchor" href="#访问子组件" aria-label="Permalink to &quot;访问子组件&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">base-input</span><span style="color:#B392F0;"> ref</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;usernameInput&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">base-input</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.$refs.usernameInput.</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h3 id="依赖注入" tabindex="-1">依赖注入 <a class="header-anchor" href="#依赖注入" aria-label="Permalink to &quot;依赖注入&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 祖先组件</span></span>
<span class="line"><span style="color:#B392F0;">provide</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    getMap: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.getMap</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 后代组件</span></span>
<span class="line"><span style="color:#B392F0;">inject</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&#39;getMap&#39;</span><span style="color:#E1E4E8;">]</span></span></code></pre></div>`,71)])])}const u=a(o,[["render",e]]);export{d as __pageData,u as default};
