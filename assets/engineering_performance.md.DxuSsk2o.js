import{_ as s,c as n,o as e,b as l}from"./chunks/framework.CMLuPXeo.js";const g=JSON.parse('{"title":"性能优化","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是性能优化？","slug":"什么是性能优化","link":"#什么是性能优化","children":[]},{"level":2,"title":"核心性能指标","slug":"核心性能指标","link":"#核心性能指标","children":[{"level":3,"title":"加载性能指标","slug":"加载性能指标","link":"#加载性能指标","children":[]},{"level":3,"title":"交互性能指标","slug":"交互性能指标","link":"#交互性能指标","children":[]}]},{"level":2,"title":"网络层优化","slug":"网络层优化","link":"#网络层优化","children":[{"level":3,"title":"资源压缩","slug":"资源压缩","link":"#资源压缩","children":[]},{"level":3,"title":"HTTP 缓存策略","slug":"http-缓存策略","link":"#http-缓存策略","children":[]},{"level":3,"title":"CDN 加速","slug":"cdn-加速","link":"#cdn-加速","children":[]}]},{"level":2,"title":"资源加载优化","slug":"资源加载优化","link":"#资源加载优化","children":[{"level":3,"title":"代码分割","slug":"代码分割","link":"#代码分割","children":[]},{"level":3,"title":"图片优化","slug":"图片优化","link":"#图片优化","children":[]},{"level":3,"title":"资源预加载","slug":"资源预加载","link":"#资源预加载","children":[]}]},{"level":2,"title":"渲染性能优化","slug":"渲染性能优化","link":"#渲染性能优化","children":[{"level":3,"title":"关键渲染路径优化","slug":"关键渲染路径优化","link":"#关键渲染路径优化","children":[]},{"level":3,"title":"减少重排重绘","slug":"减少重排重绘","link":"#减少重排重绘","children":[]}]},{"level":2,"title":"JavaScript 优化","slug":"javascript-优化","link":"#javascript-优化","children":[{"level":3,"title":"执行性能优化","slug":"执行性能优化","link":"#执行性能优化","children":[]},{"level":3,"title":"内存管理","slug":"内存管理","link":"#内存管理","children":[]}]},{"level":2,"title":"构建优化","slug":"构建优化","link":"#构建优化","children":[{"level":3,"title":"打包策略优化","slug":"打包策略优化","link":"#打包策略优化","children":[]},{"level":3,"title":"依赖优化","slug":"依赖优化","link":"#依赖优化","children":[]}]},{"level":2,"title":"监控与分析","slug":"监控与分析","link":"#监控与分析","children":[{"level":3,"title":"性能监控","slug":"性能监控","link":"#性能监控","children":[]},{"level":3,"title":"性能分析工具","slug":"性能分析工具","link":"#性能分析工具","children":[]}]},{"level":2,"title":"优化策略实施","slug":"优化策略实施","link":"#优化策略实施","children":[{"level":3,"title":"优先级划分","slug":"优先级划分","link":"#优先级划分","children":[]},{"level":3,"title":"性能预算","slug":"性能预算","link":"#性能预算","children":[]}]},{"level":2,"title":"实际优化案例","slug":"实际优化案例","link":"#实际优化案例","children":[{"level":3,"title":"电商网站优化","slug":"电商网站优化","link":"#电商网站优化","children":[]},{"level":3,"title":"单页应用优化","slug":"单页应用优化","link":"#单页应用优化","children":[]}]},{"level":2,"title":"持续优化流程","slug":"持续优化流程","link":"#持续优化流程","children":[{"level":3,"title":"性能文化","slug":"性能文化","link":"#性能文化","children":[]},{"level":3,"title":"自动化优化","slug":"自动化优化","link":"#自动化优化","children":[]}]}],"relativePath":"engineering/performance.md","filePath":"engineering/performance.md"}'),p={name:"engineering/performance.md"};function t(i,a,c,o,d,r){return e(),n("div",null,[...a[0]||(a[0]=[l(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /engineering/performance.md for this page in Markdown format</div><h1 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h1><p>性能优化是提升网页加载速度、交互响应性和用户体验的系统性工程。它涉及从网络传输、资源加载到代码执行的全链路优化，直接影响用户留存、转化率和业务指标。</p><h2 id="什么是性能优化" tabindex="-1">什么是性能优化？ <a class="header-anchor" href="#什么是性能优化" aria-label="Permalink to &quot;什么是性能优化？&quot;">​</a></h2><p>性能优化是通过技术手段减少网页加载时间、提升交互流畅度和降低资源消耗的过程。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>优化前后对比:</span></span>
<span class="line"><span>优化前: [用户访问] -&gt; [长时间等待] -&gt; [页面卡顿] -&gt; [用户离开]</span></span>
<span class="line"><span>优化后: [用户访问] -&gt; [快速加载] -&gt; [流畅交互] -&gt; [用户留存]</span></span></code></pre></div><h2 id="核心性能指标" tabindex="-1">核心性能指标 <a class="header-anchor" href="#核心性能指标" aria-label="Permalink to &quot;核心性能指标&quot;">​</a></h2><h3 id="加载性能指标" tabindex="-1">加载性能指标 <a class="header-anchor" href="#加载性能指标" aria-label="Permalink to &quot;加载性能指标&quot;">​</a></h3><p>衡量页面加载阶段的关键数据。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>关键加载指标:</span></span>
<span class="line"><span>FP  (First Paint):       首次渲染</span></span>
<span class="line"><span>FCP (First Contentful Paint): 首次内容渲染</span></span>
<span class="line"><span>LCP (Largest Contentful Paint): 最大内容渲染</span></span>
<span class="line"><span>TTI (Time to Interactive):     可交互时间</span></span></code></pre></div><h3 id="交互性能指标" tabindex="-1">交互性能指标 <a class="header-anchor" href="#交互性能指标" aria-label="Permalink to &quot;交互性能指标&quot;">​</a></h3><p>衡量页面交互响应性的指标。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>交互性能指标:</span></span>
<span class="line"><span>FID (First Input Delay):   首次输入延迟</span></span>
<span class="line"><span>CLS (Cumulative Layout Shift): 累计布局偏移</span></span>
<span class="line"><span>INP (Interaction to Next Paint): 交互到下一次绘制</span></span></code></pre></div><h2 id="网络层优化" tabindex="-1">网络层优化 <a class="header-anchor" href="#网络层优化" aria-label="Permalink to &quot;网络层优化&quot;">​</a></h2><h3 id="资源压缩" tabindex="-1">资源压缩 <a class="header-anchor" href="#资源压缩" aria-label="Permalink to &quot;资源压缩&quot;">​</a></h3><p>减少传输数据量，提升加载速度。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>压缩效果:</span></span>
<span class="line"><span>原始资源: [JS 200KB] + [CSS 50KB] + [HTML 10KB] = 260KB</span></span>
<span class="line"><span>压缩后:   [JS 80KB]  + [CSS 15KB] + [HTML 3KB]  = 98KB</span></span>
<span class="line"><span>              |             |           |</span></span>
<span class="line"><span>           Gzip压缩      Minify     去除空白</span></span></code></pre></div><h3 id="http-缓存策略" tabindex="-1">HTTP 缓存策略 <a class="header-anchor" href="#http-缓存策略" aria-label="Permalink to &quot;HTTP 缓存策略&quot;">​</a></h3><p>合理利用浏览器缓存机制。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>缓存策略:</span></span>
<span class="line"><span>强缓存: [浏览器缓存] -&gt; [直接使用] -&gt; [不请求服务器]</span></span>
<span class="line"><span>协商缓存: [浏览器请求] -&gt; [服务器验证] -&gt; [304或新资源]</span></span>
<span class="line"><span>          |               |               |</span></span>
<span class="line"><span>       带验证头       检查ETag/时间戳    返回304或200</span></span></code></pre></div><h3 id="cdn-加速" tabindex="-1">CDN 加速 <a class="header-anchor" href="#cdn-加速" aria-label="Permalink to &quot;CDN 加速&quot;">​</a></h3><p>通过内容分发网络优化资源加载。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>CDN 原理:</span></span>
<span class="line"><span>[用户请求] -&gt; [CDN边缘节点] -&gt; [缓存命中?] -&gt; [返回资源]</span></span>
<span class="line"><span>      |             |             |           |</span></span>
<span class="line"><span>   就近访问       检查缓存        是/否       快速响应</span></span>
<span class="line"><span>                             否则回源</span></span></code></pre></div><h2 id="资源加载优化" tabindex="-1">资源加载优化 <a class="header-anchor" href="#资源加载优化" aria-label="Permalink to &quot;资源加载优化&quot;">​</a></h2><h3 id="代码分割" tabindex="-1">代码分割 <a class="header-anchor" href="#代码分割" aria-label="Permalink to &quot;代码分割&quot;">​</a></h3><p>按需加载代码，减少初始包体积。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>代码分割策略:</span></span>
<span class="line"><span>[单包应用] -&gt; [分割为多个chunk] -&gt; [按需加载]</span></span>
<span class="line"><span>      |               |               |</span></span>
<span class="line"><span> 所有功能打包     路由级别分割     用户访问时加载</span></span></code></pre></div><h3 id="图片优化" tabindex="-1">图片优化 <a class="header-anchor" href="#图片优化" aria-label="Permalink to &quot;图片优化&quot;">​</a></h3><p>选择合适的图片格式和压缩策略。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>图片优化方案:</span></span>
<span class="line"><span>格式选择: [照片] -&gt; JPEG | [图标] -&gt; SVG | [需要透明] -&gt; PNG/WebP</span></span>
<span class="line"><span>响应式图片: [不同尺寸] -&gt; [不同设备] -&gt; [按需加载]</span></span>
<span class="line"><span>懒加载:    [可视区域] -&gt; [加载图片] -&gt; [非可视区域] -&gt; [延迟加载]</span></span></code></pre></div><h3 id="资源预加载" tabindex="-1">资源预加载 <a class="header-anchor" href="#资源预加载" aria-label="Permalink to &quot;资源预加载&quot;">​</a></h3><p>提前加载关键资源。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>预加载类型:</span></span>
<span class="line"><span>preload:   [关键资源] -&gt; [高优先级加载]</span></span>
<span class="line"><span>prefetch:  [未来资源] -&gt; [空闲时加载]</span></span>
<span class="line"><span>dns-prefetch: [域名解析] -&gt; [提前解析]</span></span></code></pre></div><h2 id="渲染性能优化" tabindex="-1">渲染性能优化 <a class="header-anchor" href="#渲染性能优化" aria-label="Permalink to &quot;渲染性能优化&quot;">​</a></h2><h3 id="关键渲染路径优化" tabindex="-1">关键渲染路径优化 <a class="header-anchor" href="#关键渲染路径优化" aria-label="Permalink to &quot;关键渲染路径优化&quot;">​</a></h3><p>优化浏览器渲染页面的过程。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>渲染流程:</span></span>
<span class="line"><span>[HTML] -&gt; [DOM] -&gt; [CSSOM] -&gt; [渲染树] -&gt; [布局] -&gt; [绘制]</span></span>
<span class="line"><span>   |        |        |          |         |        |</span></span>
<span class="line"><span>解析HTML  构建DOM   样式计算   合并树   计算位置   像素绘制</span></span></code></pre></div><h3 id="减少重排重绘" tabindex="-1">减少重排重绘 <a class="header-anchor" href="#减少重排重绘" aria-label="Permalink to &quot;减少重排重绘&quot;">​</a></h3><p>避免不必要的布局和样式计算。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>渲染性能陷阱:</span></span>
<span class="line"><span>重排: [改变几何属性] -&gt; [重新布局] -&gt; [重新绘制] -&gt; [性能开销大]</span></span>
<span class="line"><span>重绘: [改变外观属性] -&gt; [重新绘制] -&gt; [性能开销中]</span></span>
<span class="line"><span>优化: [使用transform] -&gt; [合成层] -&gt; [GPU加速] -&gt; [高性能]</span></span></code></pre></div><h2 id="javascript-优化" tabindex="-1">JavaScript 优化 <a class="header-anchor" href="#javascript-优化" aria-label="Permalink to &quot;JavaScript 优化&quot;">​</a></h2><h3 id="执行性能优化" tabindex="-1">执行性能优化 <a class="header-anchor" href="#执行性能优化" aria-label="Permalink to &quot;执行性能优化&quot;">​</a></h3><p>提升 JavaScript 代码执行效率。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>执行优化:</span></span>
<span class="line"><span>[减少DOM操作] -&gt; [事件委托] -&gt; [防抖节流] -&gt; [Web Worker]</span></span>
<span class="line"><span>      |             |           |           |</span></span>
<span class="line"><span> 批量更新       减少事件绑定   控制频率     后台计算</span></span></code></pre></div><h3 id="内存管理" tabindex="-1">内存管理 <a class="header-anchor" href="#内存管理" aria-label="Permalink to &quot;内存管理&quot;">​</a></h3><p>避免内存泄漏，优化内存使用。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>内存管理:</span></span>
<span class="line"><span>[及时释放] -&gt; [避免全局变量] -&gt; [清除定时器] -&gt; [移除事件监听]</span></span>
<span class="line"><span>      |             |             |             |</span></span>
<span class="line"><span> 对象置null     局部变量       明确清理       引用解除</span></span></code></pre></div><h2 id="构建优化" tabindex="-1">构建优化 <a class="header-anchor" href="#构建优化" aria-label="Permalink to &quot;构建优化&quot;">​</a></h2><h3 id="打包策略优化" tabindex="-1">打包策略优化 <a class="header-anchor" href="#打包策略优化" aria-label="Permalink to &quot;打包策略优化&quot;">​</a></h3><p>通过构建工具优化输出结果。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>构建优化:</span></span>
<span class="line"><span>Tree Shaking:   [未使用代码] -&gt; [分析移除] -&gt; [减小体积]</span></span>
<span class="line"><span>代码压缩:       [变量缩短] -&gt; [空白删除] -&gt; [混淆优化]</span></span>
<span class="line"><span>模块合并:       [小模块合并] -&gt; [减少请求] -&gt; [提升缓存]</span></span></code></pre></div><h3 id="依赖优化" tabindex="-1">依赖优化 <a class="header-anchor" href="#依赖优化" aria-label="Permalink to &quot;依赖优化&quot;">​</a></h3><p>优化第三方库的使用。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>依赖优化:</span></span>
<span class="line"><span>[按需引入] -&gt; [CDN外部化] -&gt; [版本锁定] -&gt; [依赖分析]</span></span>
<span class="line"><span>     |           |           |           |</span></span>
<span class="line"><span> 只引入需要   不打包大库     稳定版本     检查重复依赖</span></span></code></pre></div><h2 id="监控与分析" tabindex="-1">监控与分析 <a class="header-anchor" href="#监控与分析" aria-label="Permalink to &quot;监控与分析&quot;">​</a></h2><h3 id="性能监控" tabindex="-1">性能监控 <a class="header-anchor" href="#性能监控" aria-label="Permalink to &quot;性能监控&quot;">​</a></h3><p>实时监控页面性能表现。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>监控体系:</span></span>
<span class="line"><span>[真实用户数据] -&gt; [性能指标收集] -&gt; [数据分析] -&gt; [优化决策]</span></span>
<span class="line"><span>       |               |               |           |</span></span>
<span class="line"><span>    RUM监控        Core Web Vitals    趋势分析     针对性优化</span></span></code></pre></div><h3 id="性能分析工具" tabindex="-1">性能分析工具 <a class="header-anchor" href="#性能分析工具" aria-label="Permalink to &quot;性能分析工具&quot;">​</a></h3><p>使用专业工具诊断性能问题。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>分析工具链:</span></span>
<span class="line"><span>[Lighthouse] -&gt; [Chrome DevTools] -&gt; [WebPageTest] -&gt; [性能剖析]</span></span>
<span class="line"><span>      |               |                 |               |</span></span>
<span class="line"><span> 综合评分       深度调试           多环境测试       代码级分析</span></span></code></pre></div><h2 id="优化策略实施" tabindex="-1">优化策略实施 <a class="header-anchor" href="#优化策略实施" aria-label="Permalink to &quot;优化策略实施&quot;">​</a></h2><h3 id="优先级划分" tabindex="-1">优先级划分 <a class="header-anchor" href="#优先级划分" aria-label="Permalink to &quot;优先级划分&quot;">​</a></h3><p>根据影响程度确定优化优先级。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>优化优先级:</span></span>
<span class="line"><span>P0: [阻塞渲染] -&gt; [关键资源] -&gt; [直接影响用户体验]</span></span>
<span class="line"><span>P1: [首屏内容] -&gt; [交互响应] -&gt; [用户感知明显]  </span></span>
<span class="line"><span>P2: [非首屏] -&gt; [次要功能] -&gt; [渐进增强]</span></span></code></pre></div><h3 id="性能预算" tabindex="-1">性能预算 <a class="header-anchor" href="#性能预算" aria-label="Permalink to &quot;性能预算&quot;">​</a></h3><p>为性能指标设定明确目标。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>性能预算:</span></span>
<span class="line"><span>加载时间:   首屏 &lt; 3秒</span></span>
<span class="line"><span>包体积:     初始JS &lt; 200KB</span></span>
<span class="line"><span>响应时间:   用户交互 &lt; 100毫秒</span></span></code></pre></div><h2 id="实际优化案例" tabindex="-1">实际优化案例 <a class="header-anchor" href="#实际优化案例" aria-label="Permalink to &quot;实际优化案例&quot;">​</a></h2><h3 id="电商网站优化" tabindex="-1">电商网站优化 <a class="header-anchor" href="#电商网站优化" aria-label="Permalink to &quot;电商网站优化&quot;">​</a></h3><p>典型电商场景的性能优化策略。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>电商优化:</span></span>
<span class="line"><span>[图片懒加载] -&gt; [关键CSS内联] -&gt; [异步加载非核心JS] -&gt; [预加载下一页]</span></span>
<span class="line"><span>      |              |                 |                   |</span></span>
<span class="line"><span> 减少初始请求   优先渲染样式     不阻塞主线程         预测用户行为</span></span></code></pre></div><h3 id="单页应用优化" tabindex="-1">单页应用优化 <a class="header-anchor" href="#单页应用优化" aria-label="Permalink to &quot;单页应用优化&quot;">​</a></h3><p>SPA 应用的性能优化重点。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>SPA优化:</span></span>
<span class="line"><span>[路由分割] -&gt; [组件懒加载] -&gt; [状态管理优化] -&gt; [缓存策略]</span></span>
<span class="line"><span>     |            |               |               |</span></span>
<span class="line"><span> 按需加载      延迟加载非关键   减少重复渲染     本地存储数据</span></span></code></pre></div><h2 id="持续优化流程" tabindex="-1">持续优化流程 <a class="header-anchor" href="#持续优化流程" aria-label="Permalink to &quot;持续优化流程&quot;">​</a></h2><h3 id="性能文化" tabindex="-1">性能文化 <a class="header-anchor" href="#性能文化" aria-label="Permalink to &quot;性能文化&quot;">​</a></h3><p>将性能优化融入开发全流程。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>性能文化:</span></span>
<span class="line"><span>[需求阶段] -&gt; [设计阶段] -&gt; [开发阶段] -&gt; [测试阶段] -&gt; [上线后]</span></span>
<span class="line"><span>     |           |           |           |           |</span></span>
<span class="line"><span> 性能考量     设计评审     代码优化     性能测试     持续监控</span></span></code></pre></div><h3 id="自动化优化" tabindex="-1">自动化优化 <a class="header-anchor" href="#自动化优化" aria-label="Permalink to &quot;自动化优化&quot;">​</a></h3><p>通过工具自动化执行优化任务。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>自动化流程:</span></span>
<span class="line"><span>[代码提交] -&gt; [自动化构建] -&gt; [性能测试] -&gt; [优化报告] -&gt; [质量门禁]</span></span>
<span class="line"><span>     |           |           |           |           |</span></span>
<span class="line"><span> 触发流水线     压缩打包     性能检测     问题识别     通过才发布</span></span></code></pre></div>`,82)])])}const u=s(p,[["render",t]]);export{g as __pageData,u as default};
