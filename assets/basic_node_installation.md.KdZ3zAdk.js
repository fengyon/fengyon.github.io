import{_ as a,c as n,o as e,b as l}from"./chunks/framework.CMLuPXeo.js";const u=JSON.parse('{"title":"node 安装与配置","description":"","frontmatter":{},"headers":[{"level":2,"title":"Node.js 的特点","slug":"node-js-的特点","link":"#node-js-的特点","children":[]},{"level":2,"title":"安装前的准备","slug":"安装前的准备","link":"#安装前的准备","children":[]},{"level":2,"title":"安装方法","slug":"安装方法","link":"#安装方法","children":[{"level":3,"title":"直接从官网下载安装","slug":"直接从官网下载安装","link":"#直接从官网下载安装","children":[]},{"level":3,"title":"使用包管理器安装","slug":"使用包管理器安装","link":"#使用包管理器安装","children":[]},{"level":3,"title":"使用 NVM (Node Version Manager) 安装","slug":"使用-nvm-node-version-manager-安装","link":"#使用-nvm-node-version-manager-安装","children":[]}]},{"level":2,"title":"环境配置","slug":"环境配置","link":"#环境配置","children":[{"level":3,"title":"配置环境变量","slug":"配置环境变量","link":"#配置环境变量","children":[]},{"level":3,"title":"项目环境变量配置","slug":"项目环境变量配置","link":"#项目环境变量配置","children":[]},{"level":3,"title":"npm 配置","slug":"npm-配置","link":"#npm-配置","children":[]}]},{"level":2,"title":"验证安装","slug":"验证安装","link":"#验证安装","children":[]},{"level":2,"title":"多版本管理","slug":"多版本管理","link":"#多版本管理","children":[]},{"level":2,"title":"性能优化配置","slug":"性能优化配置","link":"#性能优化配置","children":[]},{"level":2,"title":"常见问题解决","slug":"常见问题解决","link":"#常见问题解决","children":[]}],"relativePath":"basic/node/installation.md","filePath":"basic/node/installation.md"}'),p={name:"basic/node/installation.md"};function o(t,s,i,c,r,d){return e(),n("div",null,[...s[0]||(s[0]=[l(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /basic/node/installation.md for this page in Markdown format</div><h1 id="node-安装与配置" tabindex="-1">node 安装与配置 <a class="header-anchor" href="#node-安装与配置" aria-label="Permalink to &quot;node 安装与配置&quot;">​</a></h1><p>Node.js 是一个开源的、跨平台的 JavaScript 运行时环境，它基于 Chrome 的 V8 JavaScript 引擎构建。它使开发者能够使用 JavaScript 编写服务器端代码，采用事件驱动、非阻塞 I/O 模型，使其能够处理大量并发请求，非常适合构建高性能的网络应用。</p><h2 id="node-js-的特点" tabindex="-1">Node.js 的特点 <a class="header-anchor" href="#node-js-的特点" aria-label="Permalink to &quot;Node.js 的特点&quot;">​</a></h2><p>了解 Node.js 的核心特点有助于理解其安装配置的最佳实践：</p><ul><li><p><strong>事件驱动与非阻塞 I/O</strong>：Node.js 基于事件驱动模型，通过事件和回调函数处理请求，实现非阻塞 I/O 操作。这使得 Node.js 能够高效处理大量并发连接。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>请求到达 --&gt; 事件循环处理 --&gt; 执行回调 --&gt; 返回响应</span></span>
<span class="line"><span>     ↑         |</span></span>
<span class="line"><span>     |         ↓</span></span>
<span class="line"><span>     非阻塞，继续接收新请求</span></span></code></pre></div></li><li><p><strong>单线程与高并发</strong>：Node.js 采用单线程模型，通过事件循环和异步 I/O 操作，能够充分利用系统资源。</p></li><li><p><strong>跨平台支持</strong>：Node.js 可以在 Windows、macOS 和 Linux 等多个操作系统上运行。</p></li><li><p><strong>丰富的生态系统</strong>：通过 npm (Node Package Manager) 可以访问庞大的第三方模块库，极大提高了开发效率。</p></li></ul><h2 id="安装前的准备" tabindex="-1">安装前的准备 <a class="header-anchor" href="#安装前的准备" aria-label="Permalink to &quot;安装前的准备&quot;">​</a></h2><p>在安装 Node.js 之前，需要了解一些关键概念：</p><ul><li><p><strong>LTS 与当前版本</strong>：Node.js 提供长期支持 (LTS) 版本和当前版本。LTS 版本更加稳定可靠，适合生产环境。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>版本选择:</span></span>
<span class="line"><span>  LTS版本 - 稳定、可靠、长期支持 (推荐用于生产)</span></span>
<span class="line"><span>  当前版本 - 最新功能、前沿特性 (适合尝鲜)</span></span></code></pre></div></li><li><p><strong>运行时与环境</strong>：Node.js 是一个 JavaScript 运行时环境，它使 JavaScript 能够脱离浏览器运行在服务器端。</p></li></ul><h2 id="安装方法" tabindex="-1">安装方法 <a class="header-anchor" href="#安装方法" aria-label="Permalink to &quot;安装方法&quot;">​</a></h2><h3 id="直接从官网下载安装" tabindex="-1">直接从官网下载安装 <a class="header-anchor" href="#直接从官网下载安装" aria-label="Permalink to &quot;直接从官网下载安装&quot;">​</a></h3><p>这是最简单直接的安装方式，适合初学者：</p><ol><li>访问 <a href="https://nodejs.org/zh-cn" target="_blank" rel="noreferrer">Node.js 官方网站</a></li><li>选择 LTS (长期支持) 版本或当前版本进行下载</li><li>运行安装程序并按照提示完成安装</li><li>验证安装：打开终端，输入以下命令检查安装是否成功<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>node -v  # 显示Node.js版本</span></span>
<span class="line"><span>npm -v   # 显示npm版本</span></span></code></pre></div></li></ol><h3 id="使用包管理器安装" tabindex="-1">使用包管理器安装 <a class="header-anchor" href="#使用包管理器安装" aria-label="Permalink to &quot;使用包管理器安装&quot;">​</a></h3><p>不同操作系统有各自的包管理器，可以简化安装过程：</p><p><strong>Windows</strong>：使用官方安装程序或 Chocolatey 包管理器</p><p><strong>macOS</strong>：使用官方安装程序或 Homebrew 包管理器</p><p><strong>Linux</strong>：使用系统自带的包管理器或 NodeSource 仓库</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span># Ubuntu/Debian 使用 NodeSource</span></span>
<span class="line"><span>curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -</span></span>
<span class="line"><span>sudo apt-get install -y nodejs</span></span>
<span class="line"><span></span></span>
<span class="line"><span># CentOS/RHEL</span></span>
<span class="line"><span>curl -fsSL https://rpm.nodesource.com/setup_16.x | sudo -E bash -</span></span>
<span class="line"><span>sudo yum install -y nodejs</span></span></code></pre></div><h3 id="使用-nvm-node-version-manager-安装" tabindex="-1">使用 NVM (Node Version Manager) 安装 <a class="header-anchor" href="#使用-nvm-node-version-manager-安装" aria-label="Permalink to &quot;使用 NVM (Node Version Manager) 安装&quot;">​</a></h3><p>NVM 允许在同一台机器上安装和管理多个 Node.js 版本，非常适合开发和测试环境：</p><p><strong>安装 NVM</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash</span></span></code></pre></div><p><strong>使用 NVM 安装和管理 Node.js</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>nvm install node      # 安装最新版本</span></span>
<span class="line"><span>nvm install 16.14.0   # 安装特定版本</span></span>
<span class="line"><span>nvm use 16.14.0       # 切换到指定版本</span></span>
<span class="line"><span>nvm ls                # 列出所有已安装版本</span></span></code></pre></div><p>NVM 的工作原理：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>命令行 --&gt; nvm --&gt; 切换节点版本</span></span>
<span class="line"><span>               --&gt; 管理全局模块</span></span>
<span class="line"><span>               --&gt; 隔离项目环境</span></span></code></pre></div><h2 id="环境配置" tabindex="-1">环境配置 <a class="header-anchor" href="#环境配置" aria-label="Permalink to &quot;环境配置&quot;">​</a></h2><h3 id="配置环境变量" tabindex="-1">配置环境变量 <a class="header-anchor" href="#配置环境变量" aria-label="Permalink to &quot;配置环境变量&quot;">​</a></h3><p>在某些情况下，可能需要手动配置环境变量：</p><p>编辑 shell 配置文件 (如 <code>~/.bashrc</code> 或 <code>~/.zshrc</code>)：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>export NODE_HOME=/usr/local/node</span></span>
<span class="line"><span>export PATH=$PATH:$NODE_HOME/bin</span></span></code></pre></div><p>然后执行 <code>source ~/.bashrc</code> 使配置生效。</p><h3 id="项目环境变量配置" tabindex="-1">项目环境变量配置 <a class="header-anchor" href="#项目环境变量配置" aria-label="Permalink to &quot;项目环境变量配置&quot;">​</a></h3><p>在项目根目录创建 <code>.env</code> 文件：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>PORT=3000</span></span>
<span class="line"><span>DB_HOST=localhost</span></span>
<span class="line"><span>DB_USER=username</span></span>
<span class="line"><span>DB_PASSWORD=password</span></span></code></pre></div><p>在代码中使用 <code>dotenv</code> 模块加载环境变量：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;dotenv&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">config</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h3 id="npm-配置" tabindex="-1">npm 配置 <a class="header-anchor" href="#npm-配置" aria-label="Permalink to &quot;npm 配置&quot;">​</a></h3><p>npm 是 Node.js 的包管理器，安装 Node.js 时会自动安装 npm。</p><p><strong>配置 npm 镜像加速</strong>： 对于国内用户，可以配置淘宝镜像加速 npm 下载：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>npm config set registry https://registry.npmmirror.com/</span></span></code></pre></div><p><strong>全局模块路径配置</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>npm config set prefix /path/to/global/modules</span></span></code></pre></div><h2 id="验证安装" tabindex="-1">验证安装 <a class="header-anchor" href="#验证安装" aria-label="Permalink to &quot;验证安装&quot;">​</a></h2><p>安装完成后，需要验证 Node.js 环境是否正常工作：</p><ol><li><p><strong>检查版本信息</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>node -v  # 输出示例: v16.14.0</span></span>
<span class="line"><span>npm -v   # 输出示例: 8.3.1</span></span></code></pre></div></li><li><p><strong>运行简单测试</strong>： 创建一个 <code>test.js</code> 文件，内容为：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Node.js 运行正常！&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre></div><p>执行：<code>node test.js</code></p></li><li><p><strong>创建并运行 Web 服务器</strong>： 创建 <code>server.js</code> 文件：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> http</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;node:http&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> server</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> http.</span><span style="color:#B392F0;">createServer</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">req</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  res.statusCode </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 200</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  res.</span><span style="color:#B392F0;">setHeader</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Content-Type&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;text/plain&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  res.</span><span style="color:#B392F0;">end</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Hello, World!</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">server.</span><span style="color:#B392F0;">listen</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">3000</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;127.0.0.1&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;服务器运行在 http://127.0.0.1:3000/&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><p>运行 <code>node server.js</code> 并访问 <a href="http://127.0.0.1:3000" target="_blank" rel="noreferrer">http://127.0.0.1:3000</a> 验证。</p></li></ol><h2 id="多版本管理" tabindex="-1">多版本管理 <a class="header-anchor" href="#多版本管理" aria-label="Permalink to &quot;多版本管理&quot;">​</a></h2><p>在实际开发中，经常需要同时管理多个 Node.js 版本以适应不同项目的需求：</p><p>使用 NVM 管理多版本：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>nvm install 14.0.0    # 安装 v14.0.0</span></span>
<span class="line"><span>nvm install 16.0.0    # 安装 v16.0.0</span></span>
<span class="line"><span>nvm use 14.0.0        # 切换到 v14.0.0</span></span>
<span class="line"><span>nvm alias default 16.0.0  # 设置默认版本</span></span></code></pre></div><p>版本切换示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>项目A (需要v14) --&gt; nvm use 14 --&gt; 节点v14环境</span></span>
<span class="line"><span>项目B (需要v16) --&gt; nvm use 16 --&gt; 节点v16环境</span></span></code></pre></div><h2 id="性能优化配置" tabindex="-1">性能优化配置 <a class="header-anchor" href="#性能优化配置" aria-label="Permalink to &quot;性能优化配置&quot;">​</a></h2><p>根据应用需求调整 Node.js 配置可以提升性能：</p><ul><li><p><strong>调整内存限制</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>node --max-old-space-size=4096 app.js</span></span></code></pre></div></li><li><p><strong>启用严格模式</strong>： 在代码开头添加：<code>&#39;use strict&#39;;</code></p></li><li><p><strong>使用 ECMAScript 模块</strong>： 在 <code>package.json</code> 中添加：<code>&quot;type&quot;: &quot;module&quot;</code></p></li><li><p><strong>优化异步操作</strong>： 使用 Promise 和 async/await 替代回调函数，提升代码可读性和可维护性。</p></li></ul><h2 id="常见问题解决" tabindex="-1">常见问题解决 <a class="header-anchor" href="#常见问题解决" aria-label="Permalink to &quot;常见问题解决&quot;">​</a></h2><p><strong>权限问题</strong>：在 Linux/macOS 中，避免使用 sudo 安装全局包，可配置 npm 使用用户目录。</p><p><strong>路径问题</strong>：确保 Node.js 安装路径已添加到系统的 PATH 环境变量中。</p><p><strong>端口占用</strong>：如果 3000 端口被占用，可在启动服务器时使用其他端口。</p><p><strong>版本冲突</strong>：使用 NVM 管理多版本，避免全局版本冲突。</p>`,61)])])}const h=a(p,[["render",o]]);export{u as __pageData,h as default};
