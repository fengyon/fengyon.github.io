import{_ as n,c as a,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const F=JSON.parse('{"title":"键盘无障碍","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是键盘无障碍","slug":"什么是键盘无障碍","link":"#什么是键盘无障碍","children":[]},{"level":2,"title":"键盘导航基础","slug":"键盘导航基础","link":"#键盘导航基础","children":[{"level":3,"title":"焦点与焦点指示器","slug":"焦点与焦点指示器","link":"#焦点与焦点指示器","children":[]},{"level":3,"title":"标准键盘导航模式","slug":"标准键盘导航模式","link":"#标准键盘导航模式","children":[]}]},{"level":2,"title":"焦点管理原理","slug":"焦点管理原理","link":"#焦点管理原理","children":[{"level":3,"title":"焦点顺序","slug":"焦点顺序","link":"#焦点顺序","children":[]},{"level":3,"title":"tabindex 属性详解","slug":"tabindex-属性详解","link":"#tabindex-属性详解","children":[]}]},{"level":2,"title":"原生 HTML 元素的键盘支持","slug":"原生-html-元素的键盘支持","link":"#原生-html-元素的键盘支持","children":[{"level":3,"title":"表单控件","slug":"表单控件","link":"#表单控件","children":[]},{"level":3,"title":"交互元素","slug":"交互元素","link":"#交互元素","children":[]}]},{"level":2,"title":"自定义组件的键盘无障碍","slug":"自定义组件的键盘无障碍","link":"#自定义组件的键盘无障碍","children":[{"level":3,"title":"自定义按钮","slug":"自定义按钮","link":"#自定义按钮","children":[]},{"level":3,"title":"自定义下拉菜单","slug":"自定义下拉菜单","link":"#自定义下拉菜单","children":[]}]},{"level":2,"title":"复杂组件的键盘模式","slug":"复杂组件的键盘模式","link":"#复杂组件的键盘模式","children":[{"level":3,"title":"模态对话框","slug":"模态对话框","link":"#模态对话框","children":[]},{"level":3,"title":"标签页组件","slug":"标签页组件","link":"#标签页组件","children":[]}]},{"level":2,"title":"高级键盘导航特性","slug":"高级键盘导航特性","link":"#高级键盘导航特性","children":[{"level":3,"title":"跳过链接","slug":"跳过链接","link":"#跳过链接","children":[]},{"level":3,"title":"键盘快捷键","slug":"键盘快捷键","link":"#键盘快捷键","children":[]}]},{"level":2,"title":"测试键盘无障碍","slug":"测试键盘无障碍","link":"#测试键盘无障碍","children":[{"level":3,"title":"手动测试流程","slug":"手动测试流程","link":"#手动测试流程","children":[]},{"level":3,"title":"自动化测试","slug":"自动化测试","link":"#自动化测试","children":[]},{"level":3,"title":"开发者工具测试","slug":"开发者工具测试","link":"#开发者工具测试","children":[]}]}],"relativePath":"engineering/accessible/keyboard.md","filePath":"engineering/accessible/keyboard.md"}'),o={name:"engineering/accessible/keyboard.md"};function e(t,s,c,E,r,y){return l(),a("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /engineering/accessible/keyboard.md for this page in Markdown format</div><h1 id="键盘无障碍" tabindex="-1">键盘无障碍 <a class="header-anchor" href="#键盘无障碍" aria-label="Permalink to &quot;键盘无障碍&quot;">​</a></h1><h2 id="什么是键盘无障碍" tabindex="-1">什么是键盘无障碍 <a class="header-anchor" href="#什么是键盘无障碍" aria-label="Permalink to &quot;什么是键盘无障碍&quot;">​</a></h2><p>键盘无障碍是指所有网站功能和交互都能通过键盘独立完成，不依赖鼠标或其他指点设备。这是 Web 无障碍的核心要求，服务于运动障碍用户、盲人用户和高效键盘用户。</p><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>鼠标用户: 点击按钮 → 执行操作</span></span>
<span class="line"><span>键盘用户: Tab到按钮 → 按Enter/Space → 执行操作</span></span></code></pre></div><p>核心原理：键盘导航通过焦点管理系统，让用户按逻辑顺序遍历所有交互元素，使用标准键或自定义快捷键激活功能。</p><h2 id="键盘导航基础" tabindex="-1">键盘导航基础 <a class="header-anchor" href="#键盘导航基础" aria-label="Permalink to &quot;键盘导航基础&quot;">​</a></h2><h3 id="焦点与焦点指示器" tabindex="-1">焦点与焦点指示器 <a class="header-anchor" href="#焦点与焦点指示器" aria-label="Permalink to &quot;焦点与焦点指示器&quot;">​</a></h3><p>焦点是键盘导航中当前选中的界面元素，焦点指示器是显示焦点位置的视觉反馈。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;focused&quot;</span><span style="color:#E1E4E8;">&gt;提交&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>CSS 焦点样式：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">/* 默认焦点样式 */</span></span>
<span class="line"><span style="color:#85E89D;">button</span><span style="color:#B392F0;">:focus</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  outline</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#F97583;">px</span><span style="color:#79B8FF;"> solid</span><span style="color:#79B8FF;"> #005fcc</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  outline-offset</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* 高对比度支持 */</span></span>
<span class="line"><span style="color:#F97583;">@media</span><span style="color:#E1E4E8;"> (prefers-contrast: high) {</span></span>
<span class="line"><span style="color:#85E89D;">  button</span><span style="color:#B392F0;">:focus</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">    outline</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#F97583;">px</span><span style="color:#79B8FF;"> solid</span><span style="color:#79B8FF;"> #000000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* 自定义焦点样式 */</span></span>
<span class="line"><span style="color:#B392F0;">.custom-button:focus</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  box-shadow</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#79B8FF;"> 0</span><span style="color:#79B8FF;"> 0</span><span style="color:#79B8FF;"> 3</span><span style="color:#F97583;">px</span><span style="color:#79B8FF;"> rgba</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">95</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">204</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0.5</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#79B8FF;">  border-color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#005fcc</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>焦点移动: [按钮1] → Tab → [按钮2] (带焦点环) → Tab → [链接1]</span></span>
<span class="line"><span>视觉反馈: 蓝色轮廓环围绕当前焦点元素</span></span></code></pre></div><h3 id="标准键盘导航模式" tabindex="-1">标准键盘导航模式 <a class="header-anchor" href="#标准键盘导航模式" aria-label="Permalink to &quot;标准键盘导航模式&quot;">​</a></h3><p>不同操作系统和浏览器的键盘导航行为基本一致：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Tab键: 向前移动到下一个可聚焦元素</span></span>
<span class="line"><span>Shift+Tab: 向后移动到上一个可聚焦元素</span></span>
<span class="line"><span>Enter/Space: 激活按钮、链接等元素</span></span>
<span class="line"><span>箭头键: 在组件内导航（单选按钮、菜单等）</span></span>
<span class="line"><span>Esc: 关闭模态框、弹出层</span></span></code></pre></div><h2 id="焦点管理原理" tabindex="-1">焦点管理原理 <a class="header-anchor" href="#焦点管理原理" aria-label="Permalink to &quot;焦点管理原理&quot;">​</a></h2><h3 id="焦点顺序" tabindex="-1">焦点顺序 <a class="header-anchor" href="#焦点顺序" aria-label="Permalink to &quot;焦点顺序&quot;">​</a></h3><p>焦点顺序由 DOM 顺序和 tabindex 属性共同决定。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;">&gt;按钮A&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;">&gt;自定义焦点元素&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">&gt;优先焦点按钮&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;">&gt;按钮B&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;-1&quot;</span><span style="color:#E1E4E8;">&gt;编程焦点元素&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>焦点顺序示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>tabindex=&quot;1&quot; → tabindex=&quot;0&quot; (按DOM顺序) → 跳过tabindex=&quot;-1&quot;</span></span>
<span class="line"><span>按钮顺序: [优先焦点按钮] → [按钮A] → [自定义焦点元素] → [按钮B]</span></span></code></pre></div><h3 id="tabindex-属性详解" tabindex="-1">tabindex 属性详解 <a class="header-anchor" href="#tabindex-属性详解" aria-label="Permalink to &quot;tabindex 属性详解&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">&lt;!-- 自然焦点顺序 (默认) --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;按钮&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- tabindex=&quot;0&quot; 隐式 --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 显式包含在焦点顺序 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;">&gt;可聚焦div&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 优先焦点 (避免使用) --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">span</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">&gt;不推荐&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 编程焦点，不在自然顺序 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;-1&quot;</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;programmatic-focus&quot;</span><span style="color:#E1E4E8;">&gt;编程控制&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>JavaScript 焦点控制：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 设置焦点</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;programmatic-focus&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 焦点陷阱（模态框内）</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> trapFocus</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">modalElement</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> focusableElements</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> modalElement.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;button, [href], input, select, textarea, [tabindex]:not([tabindex=&quot;-1&quot;])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> firstElement</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> focusableElements[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> lastElement</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> focusableElements[focusableElements.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> -</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  modalElement.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;keydown&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (e.key </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;Tab&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">      if</span><span style="color:#E1E4E8;"> (e.shiftKey) {</span></span>
<span class="line"><span style="color:#6A737D;">        // Shift + Tab</span></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (document.activeElement </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> firstElement) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          lastElement.</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">          e.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">        // Tab</span></span>
<span class="line"><span style="color:#F97583;">        if</span><span style="color:#E1E4E8;"> (document.activeElement </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> lastElement) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          firstElement.</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">          e.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="原生-html-元素的键盘支持" tabindex="-1">原生 HTML 元素的键盘支持 <a class="header-anchor" href="#原生-html-元素的键盘支持" aria-label="Permalink to &quot;原生 HTML 元素的键盘支持&quot;">​</a></h2><h3 id="表单控件" tabindex="-1">表单控件 <a class="header-anchor" href="#表单控件" aria-label="Permalink to &quot;表单控件&quot;">​</a></h3><p>不同表单元素有特定的键盘交互模式。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">&lt;!-- 文本输入 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">input</span><span style="color:#B392F0;"> type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text&quot;</span><span style="color:#B392F0;"> placeholder</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;输入姓名&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 单选按钮组 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">fieldset</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">legend</span><span style="color:#E1E4E8;">&gt;选择支付方式&lt;/</span><span style="color:#85E89D;">legend</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">input</span><span style="color:#B392F0;"> type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;radio&quot;</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;credit&quot;</span><span style="color:#B392F0;"> name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;payment&quot;</span><span style="color:#B392F0;"> value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;credit&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">label</span><span style="color:#B392F0;"> for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;credit&quot;</span><span style="color:#E1E4E8;">&gt;信用卡&lt;/</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">input</span><span style="color:#B392F0;"> type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;radio&quot;</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;paypal&quot;</span><span style="color:#B392F0;"> name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;payment&quot;</span><span style="color:#B392F0;"> value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;paypal&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">label</span><span style="color:#B392F0;"> for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;paypal&quot;</span><span style="color:#E1E4E8;">&gt;PayPal&lt;/</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">fieldset</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 下拉选择 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">select</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">option</span><span style="color:#B392F0;"> value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">&gt;选项一&lt;/</span><span style="color:#85E89D;">option</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">option</span><span style="color:#B392F0;"> value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;2&quot;</span><span style="color:#E1E4E8;">&gt;选项二&lt;/</span><span style="color:#85E89D;">option</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">select</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>键盘交互示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>文本输入: 直接输入文字</span></span>
<span class="line"><span>单选按钮: ↓/→ 下一个选项, ↑/← 上一个选项</span></span>
<span class="line"><span>下拉菜单: ↓ 打开, ↑/↓ 选择选项, Enter 确认</span></span></code></pre></div><h3 id="交互元素" tabindex="-1">交互元素 <a class="header-anchor" href="#交互元素" aria-label="Permalink to &quot;交互元素&quot;">​</a></h3><p>按钮、链接等基础交互元素的键盘行为。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">&lt;!-- 按钮 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> onclick</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">submitForm</span><span style="color:#9ECBFF;">()&quot;</span><span style="color:#E1E4E8;">&gt;提交&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 链接 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">a</span><span style="color:#B392F0;"> href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;/about&quot;</span><span style="color:#E1E4E8;">&gt;关于我们&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 详情折叠 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">details</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">&gt;更多信息&lt;/</span><span style="color:#85E89D;">summary</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;详细内容...&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">details</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>键盘行为：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>按钮: Enter/Space 激活</span></span>
<span class="line"><span>链接: Enter 跳转</span></span>
<span class="line"><span>详情折叠: Enter/Space 切换展开状态</span></span></code></pre></div><h2 id="自定义组件的键盘无障碍" tabindex="-1">自定义组件的键盘无障碍 <a class="header-anchor" href="#自定义组件的键盘无障碍" aria-label="Permalink to &quot;自定义组件的键盘无障碍&quot;">​</a></h2><h3 id="自定义按钮" tabindex="-1">自定义按钮 <a class="header-anchor" href="#自定义按钮" aria-label="Permalink to &quot;自定义按钮&quot;">​</a></h3><p>使用 JavaScript 增强自定义元素的键盘交互。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span></span>
<span class="line"><span style="color:#B392F0;">  class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;custom-button&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;button&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  onclick</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">handleClick</span><span style="color:#9ECBFF;">()&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  onkeydown</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">handleKeydown</span><span style="color:#9ECBFF;">(</span><span style="color:#E1E4E8;">event</span><span style="color:#9ECBFF;">)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  自定义按钮</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>JavaScript 实现：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> handleKeydown</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">  // 支持Enter和Space激活</span></span>
<span class="line"><span style="color:#F97583;">  if</span><span style="color:#E1E4E8;"> (event.key </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;Enter&#39;</span><span style="color:#F97583;"> ||</span><span style="color:#E1E4E8;"> event.key </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39; &#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 防止Space滚动页面</span></span>
<span class="line"><span style="color:#B392F0;">    handleClick</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> handleClick</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#6A737D;">  // 按钮点击逻辑</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;按钮被激活&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="自定义下拉菜单" tabindex="-1">自定义下拉菜单 <a class="header-anchor" href="#自定义下拉菜单" aria-label="Permalink to &quot;自定义下拉菜单&quot;">​</a></h3><p>实现完整的键盘导航模式。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;custom-select&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#B392F0;">    id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;select-button&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-haspopup</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;listbox&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-expanded</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    onkeydown</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">handleSelectKeydown</span><span style="color:#9ECBFF;">(</span><span style="color:#E1E4E8;">event</span><span style="color:#9ECBFF;">)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    选择选项</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">ul</span></span>
<span class="line"><span style="color:#B392F0;">    id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;select-list&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;listbox&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-labelledby</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;select-button&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    hidden</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">li</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;option&quot;</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;-1&quot;</span><span style="color:#E1E4E8;">&gt;选项一&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">li</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;option&quot;</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;-1&quot;</span><span style="color:#E1E4E8;">&gt;选项二&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">li</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;option&quot;</span><span style="color:#B392F0;"> tabindex</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;-1&quot;</span><span style="color:#E1E4E8;">&gt;选项三&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>JavaScript 实现：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> handleSelectKeydown</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> list</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;select-list&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> options</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> list.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;[role=&quot;option&quot;]&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  switch</span><span style="color:#E1E4E8;"> (event.key) {</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;Enter&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39; &#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowDown&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      list.hidden </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"><span style="color:#E1E4E8;">      options[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowUp&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      list.hidden </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span></span>
<span class="line"><span style="color:#E1E4E8;">      options[options.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> -</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 选项键盘处理</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> handleOptionKeydown</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> options</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;[role=&quot;option&quot;]&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  switch</span><span style="color:#E1E4E8;"> (event.key) {</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowDown&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      options[(index </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> options.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowUp&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      options[(index </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 1</span><span style="color:#F97583;"> +</span><span style="color:#E1E4E8;"> options.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> options.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;Enter&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39; &#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#B392F0;">      selectOption</span><span style="color:#E1E4E8;">(event.target)</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;Escape&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#B392F0;">      closeDropdown</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="复杂组件的键盘模式" tabindex="-1">复杂组件的键盘模式 <a class="header-anchor" href="#复杂组件的键盘模式" aria-label="Permalink to &quot;复杂组件的键盘模式&quot;">​</a></h2><h3 id="模态对话框" tabindex="-1">模态对话框 <a class="header-anchor" href="#模态对话框" aria-label="Permalink to &quot;模态对话框&quot;">​</a></h3><p>模态框需要焦点管理和焦点陷阱。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span></span>
<span class="line"><span style="color:#B392F0;">  id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;modal&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;dialog&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  aria-labelledby</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;modal-title&quot;</span></span>
<span class="line"><span style="color:#B392F0;">  aria-modal</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">h2</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;modal-title&quot;</span><span style="color:#E1E4E8;">&gt;确认操作&lt;/</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;您确定要执行此操作吗？&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> onclick</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">confirmAction</span><span style="color:#9ECBFF;">()&quot;</span><span style="color:#E1E4E8;">&gt;确认&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> onclick</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">closeModal</span><span style="color:#9ECBFF;">()&quot;</span><span style="color:#E1E4E8;">&gt;取消&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>JavaScript 焦点管理：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> previousActiveElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> openModal</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> modal</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;modal&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  previousActiveElement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.activeElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 显示模态框</span></span>
<span class="line"><span style="color:#E1E4E8;">  modal.style.display </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;block&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 焦点陷阱</span></span>
<span class="line"><span style="color:#B392F0;">  trapFocus</span><span style="color:#E1E4E8;">(modal)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 初始焦点</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> firstFocusable</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> modal.</span><span style="color:#B392F0;">querySelector</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;button&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  firstFocusable.</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> closeModal</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> modal</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;modal&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  modal.style.display </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;none&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // 恢复焦点</span></span>
<span class="line"><span style="color:#F97583;">  if</span><span style="color:#E1E4E8;"> (previousActiveElement) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    previousActiveElement.</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="标签页组件" tabindex="-1">标签页组件 <a class="header-anchor" href="#标签页组件" aria-label="Permalink to &quot;标签页组件&quot;">​</a></h3><p>实现箭头键导航和 Home/End 支持。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tablist&quot;</span><span style="color:#B392F0;"> aria-label</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;内容标签&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#B392F0;">    role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-selected</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-controls</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;panel1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    onkeydown</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">handleTabKeydown</span><span style="color:#9ECBFF;">(</span><span style="color:#E1E4E8;">event</span><span style="color:#9ECBFF;">, </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    标签一</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#B392F0;">    role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-selected</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    aria-controls</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;panel2&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab2&quot;</span></span>
<span class="line"><span style="color:#B392F0;">    onkeydown</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">handleTabKeydown</span><span style="color:#9ECBFF;">(</span><span style="color:#E1E4E8;">event</span><span style="color:#9ECBFF;">, </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">)&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    标签二</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tabpanel&quot;</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;panel1&quot;</span><span style="color:#B392F0;"> aria-labelledby</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab1&quot;</span><span style="color:#E1E4E8;">&gt;标签一内容&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> role</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tabpanel&quot;</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;panel2&quot;</span><span style="color:#B392F0;"> aria-labelledby</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tab2&quot;</span><span style="color:#B392F0;"> hidden</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  标签二内容</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>键盘处理函数：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> handleTabKeydown</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> tabs</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;[role=&quot;tab&quot;]&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  switch</span><span style="color:#E1E4E8;"> (event.key) {</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowRight&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      tabs[(index </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> tabs.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;ArrowLeft&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      tabs[(index </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;"> 1</span><span style="color:#F97583;"> +</span><span style="color:#E1E4E8;"> tabs.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> tabs.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;Home&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      tabs[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;End&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">      tabs[tabs.</span><span style="color:#79B8FF;">length</span><span style="color:#F97583;"> -</span><span style="color:#79B8FF;"> 1</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39;Enter&#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#F97583;">    case</span><span style="color:#9ECBFF;"> &#39; &#39;</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#B392F0;">      activateTab</span><span style="color:#E1E4E8;">(index)</span></span>
<span class="line"><span style="color:#F97583;">      break</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="高级键盘导航特性" tabindex="-1">高级键盘导航特性 <a class="header-anchor" href="#高级键盘导航特性" aria-label="Permalink to &quot;高级键盘导航特性&quot;">​</a></h2><h3 id="跳过链接" tabindex="-1">跳过链接 <a class="header-anchor" href="#跳过链接" aria-label="Permalink to &quot;跳过链接&quot;">​</a></h3><p>为键盘用户提供跳过重复导航的快捷方式。</p><p>代码示例：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">a</span><span style="color:#B392F0;"> href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;#main-content&quot;</span><span style="color:#B392F0;"> class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;skip-link&quot;</span><span style="color:#E1E4E8;">&gt;跳到主内容&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">nav</span><span style="color:#E1E4E8;">&gt;...&lt;/</span><span style="color:#85E89D;">nav</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">main</span><span style="color:#B392F0;"> id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;main-content&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">  &lt;!-- 页面主要内容 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">main</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>CSS 实现：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">.skip-link</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  position</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">absolute</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  top</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">-40</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  left</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">6</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  background</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#fff</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  padding</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">8</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  text-decoration</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">none</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">.skip-link:focus</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  top</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">6</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="键盘快捷键" tabindex="-1">键盘快捷键 <a class="header-anchor" href="#键盘快捷键" aria-label="Permalink to &quot;键盘快捷键&quot;">​</a></h3><p>实现自定义快捷键，避免与浏览器和屏幕阅读器冲突。</p><p>代码示例：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;keydown&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // Ctrl+K 聚焦搜索框 (常见模式)</span></span>
<span class="line"><span style="color:#F97583;">  if</span><span style="color:#E1E4E8;"> (event.ctrlKey </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> event.key </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;k&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;search-input&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">focus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // ? 打开帮助</span></span>
<span class="line"><span style="color:#F97583;">  if</span><span style="color:#E1E4E8;"> (event.key </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;?&#39;</span><span style="color:#F97583;"> &amp;&amp;</span><span style="color:#F97583;"> !</span><span style="color:#E1E4E8;">event.ctrlKey </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#F97583;"> !</span><span style="color:#E1E4E8;">event.altKey) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    event.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#B392F0;">    openHelpDialog</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><p>ARIA 标注快捷键：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> aria-keyshortcuts</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Shift+S&quot;</span><span style="color:#B392F0;"> onclick</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#B392F0;">openSettings</span><span style="color:#9ECBFF;">()&quot;</span><span style="color:#E1E4E8;">&gt;设置&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="测试键盘无障碍" tabindex="-1">测试键盘无障碍 <a class="header-anchor" href="#测试键盘无障碍" aria-label="Permalink to &quot;测试键盘无障碍&quot;">​</a></h2><h3 id="手动测试流程" tabindex="-1">手动测试流程 <a class="header-anchor" href="#手动测试流程" aria-label="Permalink to &quot;手动测试流程&quot;">​</a></h3><p>完整的键盘测试检查清单：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>1. Tab导航测试</span></span>
<span class="line"><span>   - 按Tab向前移动焦点</span></span>
<span class="line"><span>   - 按Shift+Tab向后移动焦点</span></span>
<span class="line"><span>   - 检查焦点顺序是否合理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2. 焦点指示器测试</span></span>
<span class="line"><span>   - 每个焦点元素都有可见焦点指示器</span></span>
<span class="line"><span>   - 焦点环不遮挡内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3. 组件交互测试</span></span>
<span class="line"><span>   - 按钮: Enter/Space激活</span></span>
<span class="line"><span>   - 菜单: 箭头键导航</span></span>
<span class="line"><span>   - 模态框: Esc关闭，焦点陷阱</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4. 跳过链接测试</span></span>
<span class="line"><span>   - 跳过链接在焦点时可见</span></span>
<span class="line"><span>   - 正确跳转到目标内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>5. 快捷键测试</span></span>
<span class="line"><span>   - 自定义快捷键正常工作</span></span>
<span class="line"><span>   - 不冲突于浏览器快捷键</span></span></code></pre></div><h3 id="自动化测试" tabindex="-1">自动化测试 <a class="header-anchor" href="#自动化测试" aria-label="Permalink to &quot;自动化测试&quot;">​</a></h3><p>使用 JavaScript 检测键盘无障碍问题。</p><p>代码示例：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 检查所有交互元素是否可键盘访问</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> testKeyboardAccessibility</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> interactiveSelectors</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;button:not([disabled])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;a[href]&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;input:not([disabled])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;select:not([disabled])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;textarea:not([disabled])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">    &#39;[tabindex]:not([tabindex=&quot;-1&quot;])&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> interactiveElements</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    interactiveSelectors.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;,&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  interactiveElements.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">element</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> style</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> window.</span><span style="color:#B392F0;">getComputedStyle</span><span style="color:#E1E4E8;">(element)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 检查焦点样式</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (style.outlineStyle </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;none&#39;</span><span style="color:#F97583;"> &amp;&amp;</span><span style="color:#E1E4E8;"> style.outlineWidth </span><span style="color:#F97583;">===</span><span style="color:#9ECBFF;"> &#39;0px&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;元素缺少可见焦点样式:&#39;</span><span style="color:#E1E4E8;">, element)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    // 检查尺寸（运动障碍用户需要足够大的点击目标）</span></span>
<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> rect</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.</span><span style="color:#B392F0;">getBoundingClientRect</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">    if</span><span style="color:#E1E4E8;"> (rect.width </span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;"> 44</span><span style="color:#F97583;"> ||</span><span style="color:#E1E4E8;"> rect.height </span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;"> 44</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">warn</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;交互元素尺寸过小:&#39;</span><span style="color:#E1E4E8;">, element)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="开发者工具测试" tabindex="-1">开发者工具测试 <a class="header-anchor" href="#开发者工具测试" aria-label="Permalink to &quot;开发者工具测试&quot;">​</a></h3><p>使用浏览器开发者工具验证焦点顺序：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Chrome DevTools:</span></span>
<span class="line"><span>  1. 打开Elements面板</span></span>
<span class="line"><span>  2. 运行 document.activeElement 查看当前焦点</span></span>
<span class="line"><span>  3. 使用 Accessibility面板检查焦点树</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Firefox Accessibility Inspector:</span></span>
<span class="line"><span>  1. 打开Accessibility面板</span></span>
<span class="line"><span>  2. 查看可访问性树中的焦点顺序</span></span>
<span class="line"><span>  3. 检查键盘属性</span></span></code></pre></div>`,93)])])}const d=n(o,[["render",e]]);export{F as __pageData,d as default};
