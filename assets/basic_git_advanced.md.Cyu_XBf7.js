import{_ as s,c as n,o as e,b as l}from"./chunks/framework.CMLuPXeo.js";const b=JSON.parse('{"title":"Git 高级技巧","description":"","frontmatter":{},"headers":[{"level":2,"title":"一、提交管理与精确回溯","slug":"一、提交管理与精确回溯","link":"#一、提交管理与精确回溯","children":[{"level":3,"title":"交互式提交 (Interactive Commit)","slug":"交互式提交-interactive-commit","link":"#交互式提交-interactive-commit","children":[]},{"level":3,"title":"修改最近一次提交","slug":"修改最近一次提交","link":"#修改最近一次提交","children":[]},{"level":3,"title":"按条件回滚提交","slug":"按条件回滚提交","link":"#按条件回滚提交","children":[]}]},{"level":2,"title":"二、分支策略与多线协作","slug":"二、分支策略与多线协作","link":"#二、分支策略与多线协作","children":[{"level":3,"title":"分支模型","slug":"分支模型","link":"#分支模型","children":[]},{"level":3,"title":"变基 (Rebase) 与合并 (Merge)","slug":"变基-rebase-与合并-merge","link":"#变基-rebase-与合并-merge","children":[]}]},{"level":2,"title":"三、挑拣与拆分提交","slug":"三、挑拣与拆分提交","link":"#三、挑拣与拆分提交","children":[{"level":3,"title":"挑拣特定提交 (Cherry-pick)","slug":"挑拣特定提交-cherry-pick","link":"#挑拣特定提交-cherry-pick","children":[]},{"level":3,"title":"拆分历史提交","slug":"拆分历史提交","link":"#拆分历史提交","children":[]}]},{"level":2,"title":"四、暂存与恢复现场","slug":"四、暂存与恢复现场","link":"#四、暂存与恢复现场","children":[{"level":3,"title":"临时保存修改","slug":"临时保存修改","link":"#临时保存修改","children":[]}]},{"level":2,"title":"五、日志与历史分析","slug":"五、日志与历史分析","link":"#五、日志与历史分析","children":[{"level":3,"title":"图形化查看历史","slug":"图形化查看历史","link":"#图形化查看历史","children":[]},{"level":3,"title":"追踪文件历史","slug":"追踪文件历史","link":"#追踪文件历史","children":[]}]},{"level":2,"title":"六、效率提升技巧","slug":"六、效率提升技巧","link":"#六、效率提升技巧","children":[{"level":3,"title":"为命令取别名","slug":"为命令取别名","link":"#为命令取别名","children":[]},{"level":3,"title":"清理无效分支","slug":"清理无效分支","link":"#清理无效分支","children":[]}]},{"level":2,"title":"七、强大的 .gitignore 与 .gitattributes","slug":"七、强大的-gitignore-与-gitattributes","link":"#七、强大的-gitignore-与-gitattributes","children":[{"level":3,"title":"忽略文件规则","slug":"忽略文件规则","link":"#忽略文件规则","children":[]},{"level":3,"title":"控制文件属性","slug":"控制文件属性","link":"#控制文件属性","children":[]}]},{"level":2,"title":"八、常见高级命令速查表","slug":"八、常见高级命令速查表","link":"#八、常见高级命令速查表","children":[]}],"relativePath":"basic/git/advanced.md","filePath":"basic/git/advanced.md"}'),t={name:"basic/git/advanced.md"};function p(o,a,i,c,r,d){return e(),n("div",null,[...a[0]||(a[0]=[l(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /basic/git/advanced.md for this page in Markdown format</div><h1 id="git-高级技巧" tabindex="-1">Git 高级技巧 <a class="header-anchor" href="#git-高级技巧" aria-label="Permalink to &quot;Git 高级技巧&quot;">​</a></h1><p>Git 不只是版本控制工具，更是开发效率的倍增器。本文总结了一系列 <strong>Git 高级技巧</strong>，帮助你在复杂项目中保持优雅与高效。</p><hr><h2 id="一、提交管理与精确回溯" tabindex="-1">一、提交管理与精确回溯 <a class="header-anchor" href="#一、提交管理与精确回溯" aria-label="Permalink to &quot;一、提交管理与精确回溯&quot;">​</a></h2><h3 id="交互式提交-interactive-commit" tabindex="-1">交互式提交 (Interactive Commit) <a class="header-anchor" href="#交互式提交-interactive-commit" aria-label="Permalink to &quot;交互式提交 (Interactive Commit)&quot;">​</a></h3><p>有时一个文件修改了多个逻辑，可以用交互式模式分块提交：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> add</span><span style="color:#79B8FF;"> -p</span></span></code></pre></div><p>此命令会逐块显示差异，询问是否添加到暂存区。 常用选项：</p><ul><li><code>y</code> 添加</li><li><code>n</code> 跳过</li><li><code>e</code> 编辑补丁</li><li><code>q</code> 退出</li></ul><p>效果示意：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>[diff block 1] ---&gt; y</span></span>
<span class="line"><span>[diff block 2] ---&gt; n</span></span></code></pre></div><p>最终仅第一块进入提交。</p><hr><h3 id="修改最近一次提交" tabindex="-1">修改最近一次提交 <a class="header-anchor" href="#修改最近一次提交" aria-label="Permalink to &quot;修改最近一次提交&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> --amend</span></span></code></pre></div><blockquote><p>用于修正文案或补充漏提的文件。 ⚠️ 仅限未推送的提交，否则会导致历史变更。</p></blockquote><hr><h3 id="按条件回滚提交" tabindex="-1">按条件回滚提交 <a class="header-anchor" href="#按条件回滚提交" aria-label="Permalink to &quot;按条件回滚提交&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> revert</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">commit-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span></code></pre></div><p>会生成一个“反向提交”，安全回滚。 而：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> reset</span><span style="color:#79B8FF;"> --hard</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">commit-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span></code></pre></div><p>会直接回退 HEAD，删除历史，不可逆。</p><p>对比示意：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>主线历史：</span></span>
<span class="line"><span>A -- B -- C -- D (HEAD)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>revert C:</span></span>
<span class="line"><span>A -- B -- C -- D -- (revert C)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>reset --hard C:</span></span>
<span class="line"><span>A -- B -- C (HEAD)</span></span></code></pre></div><hr><h2 id="二、分支策略与多线协作" tabindex="-1">二、分支策略与多线协作 <a class="header-anchor" href="#二、分支策略与多线协作" aria-label="Permalink to &quot;二、分支策略与多线协作&quot;">​</a></h2><h3 id="分支模型" tabindex="-1">分支模型 <a class="header-anchor" href="#分支模型" aria-label="Permalink to &quot;分支模型&quot;">​</a></h3><p>推荐常用的 <strong>Git Flow</strong> 模型：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main  → 稳定上线版本</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>└─ develop → 日常开发</span></span>
<span class="line"><span>    ├─ feature/* → 新功能</span></span>
<span class="line"><span>    ├─ hotfix/*  → 紧急修复</span></span>
<span class="line"><span>    └─ release/* → 预发布</span></span></code></pre></div><p>示意图：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main ──────●──────────────●─────────→</span></span>
<span class="line"><span>             \\            /</span></span>
<span class="line"><span>develop ──●───●───●───●───●───●────→</span></span>
<span class="line"><span>            \\         \\</span></span>
<span class="line"><span>            feature/x  hotfix/y</span></span></code></pre></div><hr><h3 id="变基-rebase-与合并-merge" tabindex="-1">变基 (Rebase) 与合并 (Merge) <a class="header-anchor" href="#变基-rebase-与合并-merge" aria-label="Permalink to &quot;变基 (Rebase) 与合并 (Merge)&quot;">​</a></h3><p>**merge：**保留分支记录，历史分叉明显。 **rebase：**整理线性历史，使提交更清晰。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>merge：</span></span>
<span class="line"><span>A---B---C (main)</span></span>
<span class="line"><span>     \\ </span></span>
<span class="line"><span>      D---E (feature)</span></span>
<span class="line"><span>→ merge →</span></span>
<span class="line"><span>A---B---C------F</span></span>
<span class="line"><span>      \\       /</span></span>
<span class="line"><span>       D-----E</span></span>
<span class="line"><span></span></span>
<span class="line"><span>rebase：</span></span>
<span class="line"><span>A---B---C (main)</span></span>
<span class="line"><span>     \\</span></span>
<span class="line"><span>      D---E (feature)</span></span>
<span class="line"><span>→ rebase →</span></span>
<span class="line"><span>A---B---C---D&#39;---E&#39;</span></span></code></pre></div><p>使用：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> rebase</span><span style="color:#9ECBFF;"> main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#9ECBFF;"> feature</span></span></code></pre></div><hr><h2 id="三、挑拣与拆分提交" tabindex="-1">三、挑拣与拆分提交 <a class="header-anchor" href="#三、挑拣与拆分提交" aria-label="Permalink to &quot;三、挑拣与拆分提交&quot;">​</a></h2><h3 id="挑拣特定提交-cherry-pick" tabindex="-1">挑拣特定提交 (Cherry-pick) <a class="header-anchor" href="#挑拣特定提交-cherry-pick" aria-label="Permalink to &quot;挑拣特定提交 (Cherry-pick)&quot;">​</a></h3><p>从任意分支取出一个提交并应用到当前分支：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> cherry-pick</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">commit-i</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span></span></code></pre></div><p>效果：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main:    A -- B -- C</span></span>
<span class="line"><span>feature: A -- B -- D</span></span>
<span class="line"><span>cherry-pick C → feature: A -- B -- D -- C&#39;</span></span></code></pre></div><hr><h3 id="拆分历史提交" tabindex="-1">拆分历史提交 <a class="header-anchor" href="#拆分历史提交" aria-label="Permalink to &quot;拆分历史提交&quot;">​</a></h3><p>有时一次提交过大，可以重写历史拆分：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> rebase</span><span style="color:#79B8FF;"> -i</span><span style="color:#9ECBFF;"> HEAD~3</span></span></code></pre></div><p>编辑窗口示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>pick a1b2c3 first commit</span></span>
<span class="line"><span>pick d4e5f6 second commit</span></span>
<span class="line"><span>pick g7h8i9 third commit</span></span></code></pre></div><p>改为：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>edit a1b2c3 first commit</span></span></code></pre></div><p>进入编辑后执行：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> reset</span><span style="color:#9ECBFF;"> HEAD^</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> add</span><span style="color:#79B8FF;"> -p</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> &quot;part 1&quot;</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> &quot;part 2&quot;</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> rebase</span><span style="color:#79B8FF;"> --continue</span></span></code></pre></div><hr><h2 id="四、暂存与恢复现场" tabindex="-1">四、暂存与恢复现场 <a class="header-anchor" href="#四、暂存与恢复现场" aria-label="Permalink to &quot;四、暂存与恢复现场&quot;">​</a></h2><h3 id="临时保存修改" tabindex="-1">临时保存修改 <a class="header-anchor" href="#临时保存修改" aria-label="Permalink to &quot;临时保存修改&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> stash</span></span></code></pre></div><p>存储当前未提交修改并清理工作区。</p><p>查看与恢复：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> stash</span><span style="color:#9ECBFF;"> list</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> stash</span><span style="color:#9ECBFF;"> apply</span><span style="color:#9ECBFF;"> stash@{</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">}</span></span></code></pre></div><p>效果示意：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>工作区 → stash 堆栈</span></span>
<span class="line"><span>stash@{0}: WIP on feature/login</span></span></code></pre></div><hr><h2 id="五、日志与历史分析" tabindex="-1">五、日志与历史分析 <a class="header-anchor" href="#五、日志与历史分析" aria-label="Permalink to &quot;五、日志与历史分析&quot;">​</a></h2><h3 id="图形化查看历史" tabindex="-1">图形化查看历史 <a class="header-anchor" href="#图形化查看历史" aria-label="Permalink to &quot;图形化查看历史&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> log</span><span style="color:#79B8FF;"> --oneline</span><span style="color:#79B8FF;"> --graph</span><span style="color:#79B8FF;"> --all</span><span style="color:#79B8FF;"> --decorate</span></span></code></pre></div><p>输出示意：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>* d4e5f6 (HEAD -&gt; main) add navbar</span></span>
<span class="line"><span>| * a1b2c3 (feature/login) add login form</span></span>
<span class="line"><span>|/</span></span>
<span class="line"><span>* 9z8y7x init project</span></span></code></pre></div><hr><h3 id="追踪文件历史" tabindex="-1">追踪文件历史 <a class="header-anchor" href="#追踪文件历史" aria-label="Permalink to &quot;追踪文件历史&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> log</span><span style="color:#79B8FF;"> -p</span><span style="color:#79B8FF;"> --</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">fil</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre></div><p>查看指定文件的修改记录与差异。</p><hr><h2 id="六、效率提升技巧" tabindex="-1">六、效率提升技巧 <a class="header-anchor" href="#六、效率提升技巧" aria-label="Permalink to &quot;六、效率提升技巧&quot;">​</a></h2><h3 id="为命令取别名" tabindex="-1">为命令取别名 <a class="header-anchor" href="#为命令取别名" aria-label="Permalink to &quot;为命令取别名&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> config</span><span style="color:#79B8FF;"> --global</span><span style="color:#9ECBFF;"> alias.st</span><span style="color:#9ECBFF;"> status</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> config</span><span style="color:#79B8FF;"> --global</span><span style="color:#9ECBFF;"> alias.lg</span><span style="color:#9ECBFF;"> &quot;log --oneline --graph --all --decorate&quot;</span></span></code></pre></div><p>常用别名表：</p><table tabindex="0"><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td><code>git st</code></td><td>查看状态</td></tr><tr><td><code>git lg</code></td><td>图形化历史</td></tr><tr><td><code>git co</code></td><td>切换分支（checkout）</td></tr><tr><td><code>git br</code></td><td>分支列表</td></tr></tbody></table><hr><h3 id="清理无效分支" tabindex="-1">清理无效分支 <a class="header-anchor" href="#清理无效分支" aria-label="Permalink to &quot;清理无效分支&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> fetch</span><span style="color:#79B8FF;"> -p</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> -vv</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> -d</span><span style="color:#9ECBFF;"> branch_name</span></span></code></pre></div><hr><h2 id="七、强大的-gitignore-与-gitattributes" tabindex="-1">七、强大的 <code>.gitignore</code> 与 <code>.gitattributes</code> <a class="header-anchor" href="#七、强大的-gitignore-与-gitattributes" aria-label="Permalink to &quot;七、强大的 \`.gitignore\` 与 \`.gitattributes\`&quot;">​</a></h2><h3 id="忽略文件规则" tabindex="-1">忽略文件规则 <a class="header-anchor" href="#忽略文件规则" aria-label="Permalink to &quot;忽略文件规则&quot;">​</a></h3><p><code>.gitignore</code> 示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>node_modules/</span></span>
<span class="line"><span>dist/</span></span>
<span class="line"><span>*.log</span></span>
<span class="line"><span>.env</span></span></code></pre></div><h3 id="控制文件属性" tabindex="-1">控制文件属性 <a class="header-anchor" href="#控制文件属性" aria-label="Permalink to &quot;控制文件属性&quot;">​</a></h3><p><code>.gitattributes</code> 示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>*.sh text eol=lf</span></span>
<span class="line"><span>*.jpg binary</span></span></code></pre></div><hr><h2 id="八、常见高级命令速查表" tabindex="-1">八、常见高级命令速查表 <a class="header-anchor" href="#八、常见高级命令速查表" aria-label="Permalink to &quot;八、常见高级命令速查表&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>git reflog</code></td><td>查看所有 HEAD 变化（找回误删分支）</td></tr><tr><td><code>git bisect</code></td><td>二分查找出错提交</td></tr><tr><td><code>git blame</code></td><td>查看每行最后修改者</td></tr><tr><td><code>git clean -fd</code></td><td>清理未跟踪文件</td></tr><tr><td><code>git diff --cached</code></td><td>查看暂存区与上次提交差异</td></tr></tbody></table>`,94)])])}const g=s(t,[["render",p]]);export{b as __pageData,g as default};
