import{_ as n,c as a,o as l,b as e}from"./chunks/framework.CMLuPXeo.js";const y=JSON.parse('{"title":"DOM 操作","description":"","frontmatter":{},"headers":[{"level":2,"title":"获取 DOM","slug":"获取-dom","link":"#获取-dom","children":[{"level":3,"title":"传统方法","slug":"传统方法","link":"#传统方法","children":[]},{"level":3,"title":"querySelector, querySelectorAll","slug":"queryselector-queryselectorall","link":"#queryselector-queryselectorall","children":[]},{"level":3,"title":"节点关系选择","slug":"节点关系选择","link":"#节点关系选择","children":[]}]},{"level":2,"title":"内容修改","slug":"内容修改","link":"#内容修改","children":[{"level":3,"title":"innerHTML","slug":"innerhtml","link":"#innerhtml","children":[]},{"level":3,"title":"textContent vs innerText","slug":"textcontent-vs-innertext","link":"#textcontent-vs-innertext","children":[]}]},{"level":2,"title":"属性操作","slug":"属性操作","link":"#属性操作","children":[{"level":3,"title":"基本属性操作","slug":"基本属性操作","link":"#基本属性操作","children":[]},{"level":3,"title":"数据集操作 (data-* 属性)","slug":"数据集操作-data-属性","link":"#数据集操作-data-属性","children":[]},{"level":3,"title":"标准属性直接访问","slug":"标准属性直接访问","link":"#标准属性直接访问","children":[]}]},{"level":2,"title":"样式控制","slug":"样式控制","link":"#样式控制","children":[{"level":3,"title":"className","slug":"classname","link":"#classname","children":[]},{"level":3,"title":"classList (推荐使用)","slug":"classlist-推荐使用","link":"#classlist-推荐使用","children":[]},{"level":3,"title":"style 属性","slug":"style-属性","link":"#style-属性","children":[]}]},{"level":2,"title":"创建新元素","slug":"创建新元素","link":"#创建新元素","children":[{"level":3,"title":"createElement","slug":"createelement","link":"#createelement","children":[]},{"level":3,"title":"创建复杂结构","slug":"创建复杂结构","link":"#创建复杂结构","children":[]}]},{"level":2,"title":"添加节点","slug":"添加节点","link":"#添加节点","children":[{"level":3,"title":"appendChild","slug":"appendchild","link":"#appendchild","children":[]},{"level":3,"title":"insertBefore","slug":"insertbefore","link":"#insertbefore","children":[]},{"level":3,"title":"其他插入方法","slug":"其他插入方法","link":"#其他插入方法","children":[]}]},{"level":2,"title":"删除节点","slug":"删除节点","link":"#删除节点","children":[{"level":3,"title":"removeChild","slug":"removechild","link":"#removechild","children":[]},{"level":3,"title":"现代删除方法","slug":"现代删除方法","link":"#现代删除方法","children":[]},{"level":3,"title":"清空所有子节点","slug":"清空所有子节点","link":"#清空所有子节点","children":[]}]},{"level":2,"title":"替换与克隆节点","slug":"替换与克隆节点","link":"#替换与克隆节点","children":[{"level":3,"title":"replaceChild","slug":"replacechild","link":"#replacechild","children":[]},{"level":3,"title":"cloneNode","slug":"clonenode","link":"#clonenode","children":[]}]}],"relativePath":"basic/dom/operation.md","filePath":"basic/dom/operation.md"}'),o={name:"basic/dom/operation.md"};function t(p,s,c,r,i,d){return l(),a("div",null,[...s[0]||(s[0]=[e(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /basic/dom/operation.md for this page in Markdown format</div><h1 id="dom-操作" tabindex="-1">DOM 操作 <a class="header-anchor" href="#dom-操作" aria-label="Permalink to &quot;DOM 操作&quot;">​</a></h1><p>在 Web 开发中，通过对 DOM 元素的操作，我们可以修改页面内容、样式、结构以及响应用户行为。</p><h2 id="获取-dom" tabindex="-1">获取 DOM <a class="header-anchor" href="#获取-dom" aria-label="Permalink to &quot;获取 DOM&quot;">​</a></h2><h3 id="传统方法" tabindex="-1">传统方法 <a class="header-anchor" href="#传统方法" aria-label="Permalink to &quot;传统方法&quot;">​</a></h3><table tabindex="0"><thead><tr><th>代码</th><th>DOM 举例</th><th>返回值</th></tr></thead><tbody><tr><td><code>document.getElementById(&#39;myId&#39;)</code></td><td><code>&lt;div id=&quot;myId&quot;&gt;&lt;/div&gt;</code></td><td>DOM | <code>null</code></td></tr><tr><td><code>document.getElementsByClassName(&#39;myClass&#39;)</code></td><td><code>&lt;div class=&quot;myClass&quot;&gt;&lt;/div&gt;</code></td><td>HTMLCollection | <code>null</code></td></tr><tr><td><code>document.getElementsByName(&#39;myName&#39;)</code></td><td><code>&lt;input name=&quot;myName&quot; /&gt;</code></td><td>NodeList | <code>null</code></td></tr><tr><td><code>document.getElementsByTagName(&#39;div&#39;)</code></td><td><code>&lt;div&gt;&lt;/div&gt;</code></td><td>HTMLCollection | <code>null</code></td></tr><tr><td><code>document.getElementsByTagNameNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;rect&#39;)</code></td><td><code>&lt;svg&gt;&lt;rect&gt;&lt;/rect&gt;&lt;/svg&gt;</code></td><td>NodeList | <code>null</code></td></tr></tbody></table><p>说明：</p><ul><li><code>HTMLCollection</code>：元素的类数组，仅包含元素节点</li><li><code>NodeList</code>：节点的类数组，可能包含元素节点、文本节点等</li><li><code>类数组</code>：含有 <code>length</code>、<code>0~(length-1)</code> 属性的对象，但是没有数组的 <code>push</code>、<code>pop</code> 等方法，如 <code>{ length:2, 0: 0, 1: 1 }</code></li></ul><h3 id="queryselector-queryselectorall" tabindex="-1">querySelector, querySelectorAll <a class="header-anchor" href="#queryselector-queryselectorall" aria-label="Permalink to &quot;querySelector, querySelectorAll&quot;">​</a></h3><p>上述方法每次只能通过一种选择器来获取 DOM，复杂难用，因此更简便的 API 被推出了。</p><table tabindex="0"><thead><tr><th>代码</th><th>DOM 举例</th><th>返回值</th></tr></thead><tbody><tr><td><code>document.querySelector(&#39;div&#39;)</code></td><td><code>&lt;div&gt;&lt;/div&gt;</code></td><td>Node | <code>null</code> (第一个节点)</td></tr><tr><td><code>document.querySelectorAll(&#39;div&#39;)</code></td><td><code>&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;</code></td><td>NodeList| <code>null</code> (所有节点)</td></tr></tbody></table><p><code>querySelector</code>、<code>querySelectorAll</code> 的参数都是 <a href="/basic/css/selector.html">selector (css 选择器)</a>，有以下类型的值：</p><table tabindex="0"><thead><tr><th>选择器类型</th><th>选择器语法</th><th>选择器示例</th><th>对应DOM举例</th></tr></thead><tbody><tr><td><strong>元素</strong></td><td><code>element</code></td><td><code>div</code></td><td><code>&lt;div&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>类</strong></td><td><code>.class-name</code></td><td><code>.class1</code></td><td><code>&lt;div class=&quot;class1&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>ID</strong></td><td><code>#id-name</code></td><td><code>#id1</code></td><td><code>&lt;div id=&quot;id1&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>通配</strong></td><td><code>*</code></td><td><code>*</code></td><td><code>&lt;div&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>属性</strong></td><td><code>[attr]</code></td><td><code>[attr]</code></td><td><code>&lt;div attr&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>属性-值</strong></td><td><code>[attr=&quot;value&quot;]</code></td><td><code>[attr=&quot;a&quot;]</code></td><td><code>&lt;div attr=&quot;a&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td><strong>伪类</strong></td><td><code>:pseudo-class</code></td><td><code>:hover</code></td><td><code>&lt;a&gt;&lt;/a&gt;</code> (鼠标放上时)</td></tr><tr><td><strong>伪元素</strong></td><td><code>::pseudo-element</code></td><td><code>::after</code></td><td><code>&lt;p&gt;&lt;/p&gt;</code> (p的<code>::after</code>元素)</td></tr><tr><td><strong>后代</strong></td><td><code>ancestor descendant</code></td><td><code>div p</code></td><td><code>&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;</code> (选中<code>p</code>)</td></tr><tr><td><strong>子元素</strong></td><td><code>parent &gt; child</code></td><td><code>div &gt; p</code></td><td><code>&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;</code>(选中<code>p</code>)</td></tr><tr><td><strong>相邻兄弟</strong></td><td><code>previous + next</code></td><td><code>div + p</code></td><td><code>&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;</code>(选中<code>p</code>)</td></tr><tr><td><strong>通用兄弟</strong></td><td><code>previous ~ siblings</code></td><td><code>div ~ p</code></td><td><code>&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</code>(选中<code>p</code>)</td></tr><tr><td><strong>并列</strong></td><td><code>selector1, selector2</code></td><td><code>div, p</code></td><td><code>&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;</code></td></tr></tbody></table><h3 id="节点关系选择" tabindex="-1">节点关系选择 <a class="header-anchor" href="#节点关系选择" aria-label="Permalink to &quot;节点关系选择&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> parent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.parentNode </span><span style="color:#6A737D;">// 父节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> children</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.childNodes </span><span style="color:#6A737D;">// 所有子节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> firstChild</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.firstChild </span><span style="color:#6A737D;">// 第一个子节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> lastChild</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.lastChild </span><span style="color:#6A737D;">// 最后一个子节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> next</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.nextSibling </span><span style="color:#6A737D;">// 下一个兄弟节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> prev</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.previousSibling </span><span style="color:#6A737D;">// 上一个兄弟节点</span></span></code></pre></div><h2 id="内容修改" tabindex="-1">内容修改 <a class="header-anchor" href="#内容修改" aria-label="Permalink to &quot;内容修改&quot;">​</a></h2><h3 id="innerhtml" tabindex="-1">innerHTML <a class="header-anchor" href="#innerhtml" aria-label="Permalink to &quot;innerHTML&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 获取HTML内容</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> htmlContent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.innerHTML</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置HTML内容（会解析HTML标签）</span></span>
<span class="line"><span style="color:#E1E4E8;">element.innerHTML </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;&lt;strong&gt;新内容&lt;/strong&gt;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 清空元素内容</span></span>
<span class="line"><span style="color:#E1E4E8;">element.innerHTML </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 追加内容</span></span>
<span class="line"><span style="color:#E1E4E8;">element.innerHTML </span><span style="color:#F97583;">+=</span><span style="color:#9ECBFF;"> &#39;&lt;span&gt;追加的内容&lt;/span&gt;&#39;</span></span></code></pre></div><h3 id="textcontent-vs-innertext" tabindex="-1">textContent vs innerText <a class="header-anchor" href="#textcontent-vs-innertext" aria-label="Permalink to &quot;textContent vs innerText&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// textContent - 获取所有文本内容，包括隐藏元素</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> text</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.textContent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// innerText - 只获取可见文本，考虑CSS样式</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> visibleText</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.innerText</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置文本内容（不会解析HTML）</span></span>
<span class="line"><span style="color:#E1E4E8;">element.textContent </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;纯文本内容&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.innerText </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;可见文本内容&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 差异示例</span></span>
<span class="line"><span style="color:#E1E4E8;">;</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">div id</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;demo&quot;</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  文本内容</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">span</span><span style="color:#B392F0;"> style</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;display:none&quot;</span><span style="color:#E1E4E8;">&gt;隐藏文本&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">div</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(demo.textContent) </span><span style="color:#6A737D;">// &quot;文本内容 隐藏文本&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(demo.innerText) </span><span style="color:#6A737D;">// &quot;文本内容&quot;</span></span></code></pre></div><h2 id="属性操作" tabindex="-1">属性操作 <a class="header-anchor" href="#属性操作" aria-label="Permalink to &quot;属性操作&quot;">​</a></h2><h3 id="基本属性操作" tabindex="-1">基本属性操作 <a class="header-anchor" href="#基本属性操作" aria-label="Permalink to &quot;基本属性操作&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 获取属性</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> value</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.</span><span style="color:#B392F0;">getAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;data-custom&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置属性</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">setAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;data-custom&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;new-value&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 移除属性</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">removeAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;data-custom&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 检查属性是否存在</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> hasAttr</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.</span><span style="color:#B392F0;">hasAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;data-custom&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h3 id="数据集操作-data-属性" tabindex="-1">数据集操作 (data-* 属性) <a class="header-anchor" href="#数据集操作-data-属性" aria-label="Permalink to &quot;数据集操作 (data-\\* 属性)&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// HTML: &lt;div id=&quot;user&quot; data-user-id=&quot;123&quot; data-user-role=&quot;admin&quot;&gt;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> userDiv</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;user&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 访问data属性</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(userDiv.dataset.userId) </span><span style="color:#6A737D;">// &quot;123&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(userDiv.dataset.userRole) </span><span style="color:#6A737D;">// &quot;admin&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置data属性</span></span>
<span class="line"><span style="color:#E1E4E8;">userDiv.dataset.userStatus </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;active&#39;</span></span></code></pre></div><h3 id="标准属性直接访问" tabindex="-1">标准属性直接访问 <a class="header-anchor" href="#标准属性直接访问" aria-label="Permalink to &quot;标准属性直接访问&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 直接访问标准属性</span></span>
<span class="line"><span style="color:#E1E4E8;">element.id </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;newId&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.className </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;new-class&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.title </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;新标题&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.src </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;image.jpg&#39;</span></span></code></pre></div><h2 id="样式控制" tabindex="-1">样式控制 <a class="header-anchor" href="#样式控制" aria-label="Permalink to &quot;样式控制&quot;">​</a></h2><h3 id="classname" tabindex="-1">className <a class="header-anchor" href="#classname" aria-label="Permalink to &quot;className&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 获取class</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> classes</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> element.className</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置class（会覆盖原有class）</span></span>
<span class="line"><span style="color:#E1E4E8;">element.className </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;class1 class2&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 添加class（不覆盖）</span></span>
<span class="line"><span style="color:#E1E4E8;">element.className </span><span style="color:#F97583;">+=</span><span style="color:#9ECBFF;"> &#39; new-class&#39;</span></span></code></pre></div><h3 id="classlist-推荐使用" tabindex="-1">classList (推荐使用) <a class="header-anchor" href="#classlist-推荐使用" aria-label="Permalink to &quot;classList (推荐使用)&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 添加class</span></span>
<span class="line"><span style="color:#E1E4E8;">element.classList.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;new-class&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 移除class</span></span>
<span class="line"><span style="color:#E1E4E8;">element.classList.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;old-class&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 切换class</span></span>
<span class="line"><span style="color:#E1E4E8;">element.classList.</span><span style="color:#B392F0;">toggle</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;active&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 检查是否包含class</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (element.classList.</span><span style="color:#B392F0;">contains</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;active&#39;</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#6A737D;">  // 执行操作</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 替换class</span></span>
<span class="line"><span style="color:#E1E4E8;">element.classList.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;old-class&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;new-class&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h3 id="style-属性" tabindex="-1">style 属性 <a class="header-anchor" href="#style-属性" aria-label="Permalink to &quot;style 属性&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 设置单个样式</span></span>
<span class="line"><span style="color:#E1E4E8;">element.style.color </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;red&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.style.backgroundColor </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;#fff&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">element.style.fontSize </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;16px&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 批量设置样式</span></span>
<span class="line"><span style="color:#E1E4E8;">element.style.cssText </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;color: red; background: blue;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 获取计算后的样式</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> computedStyle</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> window.</span><span style="color:#B392F0;">getComputedStyle</span><span style="color:#E1E4E8;">(element)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> color</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> computedStyle.color</span></span></code></pre></div><h2 id="创建新元素" tabindex="-1">创建新元素 <a class="header-anchor" href="#创建新元素" aria-label="Permalink to &quot;创建新元素&quot;">​</a></h2><h3 id="createelement" tabindex="-1">createElement <a class="header-anchor" href="#createelement" aria-label="Permalink to &quot;createElement&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 创建新元素</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> newDiv</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> newButton</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;button&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置属性</span></span>
<span class="line"><span style="color:#E1E4E8;">newDiv.id </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;new-element&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">newDiv.className </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;container&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 创建文本节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> textNode</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createTextNode</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;这是文本内容&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 将文本节点添加到元素</span></span>
<span class="line"><span style="color:#E1E4E8;">newDiv.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(textNode)</span></span></code></pre></div><h3 id="创建复杂结构" tabindex="-1">创建复杂结构 <a class="header-anchor" href="#创建复杂结构" aria-label="Permalink to &quot;创建复杂结构&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 创建列表项</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> createListItem</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">text</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> li</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;li&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  li.className </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;list-item&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  li.textContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> text</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> li</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 使用</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> listItem</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> createListItem</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;项目内容&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h2 id="添加节点" tabindex="-1">添加节点 <a class="header-anchor" href="#添加节点" aria-label="Permalink to &quot;添加节点&quot;">​</a></h2><h3 id="appendchild" tabindex="-1">appendChild <a class="header-anchor" href="#appendchild" aria-label="Permalink to &quot;appendChild&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 添加到父元素的末尾</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> parent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;parent&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> newChild</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(newChild)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 示例：动态创建列表</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> ul</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ul&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">;[</span><span style="color:#9ECBFF;">&#39;项目1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;项目2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;项目3&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">text</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> li</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;li&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  li.textContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> text</span></span>
<span class="line"><span style="color:#E1E4E8;">  ul.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(li)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#E1E4E8;">document.body.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(ul)</span></span></code></pre></div><h3 id="insertbefore" tabindex="-1">insertBefore <a class="header-anchor" href="#insertbefore" aria-label="Permalink to &quot;insertBefore&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 在指定节点前插入</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> parent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;parent&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> newElement</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> referenceElement</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;reference&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">insertBefore</span><span style="color:#E1E4E8;">(newElement, referenceElement)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 如果没有referenceElement，则添加到末尾（等同于appendChild）</span></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">insertBefore</span><span style="color:#E1E4E8;">(newElement, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h3 id="其他插入方法" tabindex="-1">其他插入方法 <a class="header-anchor" href="#其他插入方法" aria-label="Permalink to &quot;其他插入方法&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// insertAdjacentHTML - 强大的HTML插入方法</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">insertAdjacentHTML</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;beforebegin&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;在前面插入&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 元素之前</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">insertAdjacentHTML</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;afterbegin&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;在开头插入&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 元素内部开头</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">insertAdjacentHTML</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;beforeend&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;在末尾插入&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 元素内部末尾</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">insertAdjacentHTML</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;afterend&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&lt;div&gt;在后面插入&lt;/div&gt;&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 元素之后</span></span></code></pre></div><h2 id="删除节点" tabindex="-1">删除节点 <a class="header-anchor" href="#删除节点" aria-label="Permalink to &quot;删除节点&quot;">​</a></h2><h3 id="removechild" tabindex="-1">removeChild <a class="header-anchor" href="#removechild" aria-label="Permalink to &quot;removeChild&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 删除子节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> parent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;parent&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> child</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;child&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(child)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 安全删除（检查是否存在）</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (parent.</span><span style="color:#B392F0;">contains</span><span style="color:#E1E4E8;">(child)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  parent.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(child)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="现代删除方法" tabindex="-1">现代删除方法 <a class="header-anchor" href="#现代删除方法" aria-label="Permalink to &quot;现代删除方法&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// remove() 方法 - 更简洁</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> element</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;to-remove&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 批量删除</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> elementsToRemove</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.remove-me&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">elementsToRemove.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">element</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> element.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">())</span></span></code></pre></div><h3 id="清空所有子节点" tabindex="-1">清空所有子节点 <a class="header-anchor" href="#清空所有子节点" aria-label="Permalink to &quot;清空所有子节点&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 方法1: innerHTML</span></span>
<span class="line"><span style="color:#E1E4E8;">element.innerHTML </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 方法2: 循环删除</span></span>
<span class="line"><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (element.firstChild) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  element.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(element.firstChild)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 方法3: 现代方式</span></span>
<span class="line"><span style="color:#E1E4E8;">element.</span><span style="color:#B392F0;">replaceChildren</span><span style="color:#E1E4E8;">()</span></span></code></pre></div><h2 id="替换与克隆节点" tabindex="-1">替换与克隆节点 <a class="header-anchor" href="#替换与克隆节点" aria-label="Permalink to &quot;替换与克隆节点&quot;">​</a></h2><h3 id="replacechild" tabindex="-1">replaceChild <a class="header-anchor" href="#replacechild" aria-label="Permalink to &quot;replaceChild&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 替换子节点</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> parent</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;parent&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> oldChild</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;old-child&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> newChild</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">replaceChild</span><span style="color:#E1E4E8;">(newChild, oldChild)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 现代替换方法</span></span>
<span class="line"><span style="color:#E1E4E8;">oldChild.</span><span style="color:#B392F0;">replaceWith</span><span style="color:#E1E4E8;">(newChild)</span></span></code></pre></div><h3 id="clonenode" tabindex="-1">cloneNode <a class="header-anchor" href="#clonenode" aria-label="Permalink to &quot;cloneNode&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 浅克隆（不克隆子节点）</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> original</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;original&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> shallowClone</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> original.</span><span style="color:#B392F0;">cloneNode</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 深克隆（克隆所有子节点）</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> deepClone</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> original.</span><span style="color:#B392F0;">cloneNode</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 使用克隆</span></span>
<span class="line"><span style="color:#E1E4E8;">deepClone.id </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &#39;cloned-element&#39;</span><span style="color:#6A737D;"> // 避免ID重复</span></span>
<span class="line"><span style="color:#E1E4E8;">parent.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(deepClone)</span></span></code></pre></div><ol><li><strong>缓存 DOM 查询</strong>：避免重复查询相同的元素</li><li><strong>批量操作</strong>：使用 DocumentFragment 进行批量 DOM 操作</li><li><strong>事件委托</strong>：对动态内容使用事件委托</li><li><strong>避免重排</strong>：尽量减少会引发重排的操作</li><li><strong>使用现代 API</strong>：优先使用 classList、dataset 等现代 API</li></ol><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 优化示例：使用DocumentFragment</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> fragment</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createDocumentFragment</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;"> 100</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">  const</span><span style="color:#79B8FF;"> li</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;li&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  li.textContent </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> \`项目 \${</span><span style="color:#E1E4E8;">i</span><span style="color:#9ECBFF;">}\`</span></span>
<span class="line"><span style="color:#E1E4E8;">  fragment.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(li)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;list&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(fragment)</span></span></code></pre></div><p>掌握这些 DOM 操作方法，你就能够创建丰富、动态的网页交互效果。记住在实践中不断练习，才能更好地理解和运用这些技术！</p>`,61)])])}const F=n(o,[["render",t]]);export{y as __pageData,F as default};
