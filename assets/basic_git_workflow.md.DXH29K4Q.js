import{_ as a,c as n,o as l,b as e}from"./chunks/framework.CMLuPXeo.js";const u=JSON.parse('{"title":"Git 工作流","description":"","frontmatter":{},"headers":[{"level":2,"title":"什么是 Git 工作流？","slug":"什么是-git-工作流","link":"#什么是-git-工作流","children":[]},{"level":2,"title":"基础工作流","slug":"基础工作流","link":"#基础工作流","children":[{"level":3,"title":"集中式工作流","slug":"集中式工作流","link":"#集中式工作流","children":[]},{"level":3,"title":"功能分支工作流","slug":"功能分支工作流","link":"#功能分支工作流","children":[]}]},{"level":2,"title":"高级工作流","slug":"高级工作流","link":"#高级工作流","children":[{"level":3,"title":"Gitflow 工作流","slug":"gitflow-工作流","link":"#gitflow-工作流","children":[]},{"level":3,"title":"Forking 工作流","slug":"forking-工作流","link":"#forking-工作流","children":[]}]},{"level":2,"title":"现代工作流实践","slug":"现代工作流实践","link":"#现代工作流实践","children":[{"level":3,"title":"基于主干开发 (Trunk-Based Development)","slug":"基于主干开发-trunk-based-development","link":"#基于主干开发-trunk-based-development","children":[]},{"level":3,"title":"GitHub Flow","slug":"github-flow","link":"#github-flow","children":[]}]},{"level":2,"title":"分支策略对比","slug":"分支策略对比","link":"#分支策略对比","children":[]},{"level":2,"title":"实用命令参考","slug":"实用命令参考","link":"#实用命令参考","children":[{"level":3,"title":"分支管理","slug":"分支管理","link":"#分支管理","children":[]},{"level":3,"title":"合并策略","slug":"合并策略","link":"#合并策略","children":[]},{"level":3,"title":"冲突解决","slug":"冲突解决","link":"#冲突解决","children":[]}]}],"relativePath":"basic/git/workflow.md","filePath":"basic/git/workflow.md"}'),p={name:"basic/git/workflow.md"};function o(t,s,i,c,r,d){return l(),n("div",null,[...s[0]||(s[0]=[e(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /basic/git/workflow.md for this page in Markdown format</div><h1 id="git-工作流" tabindex="-1">Git 工作流 <a class="header-anchor" href="#git-工作流" aria-label="Permalink to &quot;Git 工作流&quot;">​</a></h1><h2 id="什么是-git-工作流" tabindex="-1">什么是 Git 工作流？ <a class="header-anchor" href="#什么是-git-工作流" aria-label="Permalink to &quot;什么是 Git 工作流？&quot;">​</a></h2><p>Git 工作流是团队在协作开发过程中使用 Git 的一套约定和规范。它定义了代码如何流动、分支如何管理以及团队成员如何协作。</p><h2 id="基础工作流" tabindex="-1">基础工作流 <a class="header-anchor" href="#基础工作流" aria-label="Permalink to &quot;基础工作流&quot;">​</a></h2><h3 id="集中式工作流" tabindex="-1">集中式工作流 <a class="header-anchor" href="#集中式工作流" aria-label="Permalink to &quot;集中式工作流&quot;">​</a></h3><p>最简单的 Git 工作流，适合小型团队。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>中央仓库 (origin/main)</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>开发者A (main)    开发者B (main)</span></span>
<span class="line"><span>    ↑              ↑</span></span>
<span class="line"><span>本地提交A1       本地提交B1</span></span></code></pre></div><p><strong>工作流程：</strong></p><ol><li>克隆中央仓库：<code>git clone &lt;repo&gt;</code></li><li>修改代码并提交：<code>git commit -m &quot;message&quot;</code></li><li>推送更改：<code>git push origin main</code></li><li>如有冲突，先拉取再推送</li></ol><h3 id="功能分支工作流" tabindex="-1">功能分支工作流 <a class="header-anchor" href="#功能分支工作流" aria-label="Permalink to &quot;功能分支工作流&quot;">​</a></h3><p>每个新功能在独立分支上开发。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main分支: o---o---o---o---o (稳定版本)</span></span>
<span class="line"><span>           \\         /</span></span>
<span class="line"><span>feature分支: o---o---o</span></span></code></pre></div><p><strong>工作流程：</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 创建功能分支</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#79B8FF;"> -b</span><span style="color:#9ECBFF;"> feature/new-feature</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 开发并提交</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> add</span><span style="color:#9ECBFF;"> .</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> &quot;实现新功能&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 完成后合并到main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#9ECBFF;"> feature/new-feature</span></span></code></pre></div><h2 id="高级工作流" tabindex="-1">高级工作流 <a class="header-anchor" href="#高级工作流" aria-label="Permalink to &quot;高级工作流&quot;">​</a></h2><h3 id="gitflow-工作流" tabindex="-1">Gitflow 工作流 <a class="header-anchor" href="#gitflow-工作流" aria-label="Permalink to &quot;Gitflow 工作流&quot;">​</a></h3><p>Vincent Driessen 提出的标准化工作流，适合有固定发布周期的项目。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>主要分支结构：</span></span>
<span class="line"><span>main: o----------------o---------------o (生产版本)</span></span>
<span class="line"><span>       \\              /               /</span></span>
<span class="line"><span>develop: o---o---o---o---o---o---o---o (开发主线)</span></span>
<span class="line"><span>         \\   \\       /   /   /</span></span>
<span class="line"><span>feature:  o---o     o---o   o---o (功能分支)</span></span>
<span class="line"><span>                 \\         /</span></span>
<span class="line"><span>release:          o---o---o (发布分支)</span></span>
<span class="line"><span>                       \\</span></span>
<span class="line"><span>hotfix:                  o---o (热修复分支)</span></span></code></pre></div><p><strong>分支类型：</strong></p><ul><li><code>main</code> - 生产代码</li><li><code>develop</code> - 开发主线</li><li><code>feature/*</code> - 功能开发</li><li><code>release/*</code> - 版本发布准备</li><li><code>hotfix/*</code> - 生产问题修复</li></ul><p><strong>工作流程示例：</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 开始新功能</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> develop</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#79B8FF;"> -b</span><span style="color:#9ECBFF;"> feature/user-authentication</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 完成功能</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> develop</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#79B8FF;"> --no-ff</span><span style="color:#9ECBFF;"> feature/user-authentication</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 开始发布</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#79B8FF;"> -b</span><span style="color:#9ECBFF;"> release/1.2.0</span><span style="color:#9ECBFF;"> develop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 紧急修复</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#79B8FF;"> -b</span><span style="color:#9ECBFF;"> hotfix/critical-bug</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#79B8FF;"> --no-ff</span><span style="color:#9ECBFF;"> hotfix/critical-bug</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> checkout</span><span style="color:#9ECBFF;"> develop</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#79B8FF;"> --no-ff</span><span style="color:#9ECBFF;"> hotfix/critical-bug</span></span></code></pre></div><h3 id="forking-工作流" tabindex="-1">Forking 工作流 <a class="header-anchor" href="#forking-工作流" aria-label="Permalink to &quot;Forking 工作流&quot;">​</a></h3><p>适合开源项目，贡献者没有直接推送权限。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>官方仓库: o---o---o---o</span></span>
<span class="line"><span>              \\</span></span>
<span class="line"><span>贡献者仓库:     o---o---o</span></span>
<span class="line"><span>                    ↑</span></span>
<span class="line"><span>                Pull Request</span></span></code></pre></div><p><strong>工作流程：</strong></p><ol><li>Fork 官方仓库</li><li>克隆自己的仓库</li><li>开发并推送到自己的仓库</li><li>创建 Pull Request</li><li>维护者审查并合并</li></ol><h2 id="现代工作流实践" tabindex="-1">现代工作流实践 <a class="header-anchor" href="#现代工作流实践" aria-label="Permalink to &quot;现代工作流实践&quot;">​</a></h2><h3 id="基于主干开发-trunk-based-development" tabindex="-1">基于主干开发 (Trunk-Based Development) <a class="header-anchor" href="#基于主干开发-trunk-based-development" aria-label="Permalink to &quot;基于主干开发 (Trunk-Based Development)&quot;">​</a></h3><p>强调小批量、频繁集成。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main: o-o-o-o-o-o-o-o-o-o (持续集成)</span></span>
<span class="line"><span>      |\\ |\\ |\\ |\\ |\\ |\\</span></span>
<span class="line"><span>特性: o o o o o o o o o o (小提交)</span></span></code></pre></div><p><strong>特点：</strong></p><ul><li>所有开发者每天至少向主干合并一次</li><li>特性开关控制未完成功能</li><li>短期特性分支 (最多 1-2 天)</li></ul><h3 id="github-flow" tabindex="-1">GitHub Flow <a class="header-anchor" href="#github-flow" aria-label="Permalink to &quot;GitHub Flow&quot;">​</a></h3><p>简化的工作流，适合持续部署。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>main: o---o---o---o---o (始终可部署)</span></span>
<span class="line"><span>       \\   \\   /   /</span></span>
<span class="line"><span>分支:    o---o o---o</span></span>
<span class="line"><span>        ↑     ↑</span></span>
<span class="line"><span>    Pull Request</span></span></code></pre></div><p><strong>核心原则：</strong></p><ol><li>main 分支永远可部署</li><li>从 main 创建功能分支</li><li>定期向 main 推送</li><li>只有通过 PR 才能合并到 main</li><li>合并后立即部署</li></ol><h2 id="分支策略对比" tabindex="-1">分支策略对比 <a class="header-anchor" href="#分支策略对比" aria-label="Permalink to &quot;分支策略对比&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>工作流类型     分支复杂度  发布频率  团队规模  学习曲线</span></span>
<span class="line"><span>集中式工作流    低        低       小团队     低</span></span>
<span class="line"><span>功能分支工作流  中        中       中小团队   中</span></span>
<span class="line"><span>Gitflow        高        低       大团队     高</span></span>
<span class="line"><span>Forking        中        可变     开源项目   中</span></span>
<span class="line"><span>主干开发        低        高       敏捷团队   中</span></span>
<span class="line"><span>GitHub Flow    低        高       现代团队   低</span></span></code></pre></div><h2 id="实用命令参考" tabindex="-1">实用命令参考 <a class="header-anchor" href="#实用命令参考" aria-label="Permalink to &quot;实用命令参考&quot;">​</a></h2><h3 id="分支管理" tabindex="-1">分支管理 <a class="header-anchor" href="#分支管理" aria-label="Permalink to &quot;分支管理&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 查看分支</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> -av</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 清理已合并分支</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> --merged</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#79B8FF;"> -v</span><span style="color:#9ECBFF;"> &quot;\\*&quot;</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> xargs</span><span style="color:#79B8FF;"> -n</span><span style="color:#79B8FF;"> 1</span><span style="color:#9ECBFF;"> git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 重命名分支</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> branch</span><span style="color:#79B8FF;"> -m</span><span style="color:#9ECBFF;"> old-name</span><span style="color:#9ECBFF;"> new-name</span></span></code></pre></div><h3 id="合并策略" tabindex="-1">合并策略 <a class="header-anchor" href="#合并策略" aria-label="Permalink to &quot;合并策略&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 普通合并</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#9ECBFF;"> feature-branch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 变基合并（保持线性历史）</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> rebase</span><span style="color:#9ECBFF;"> main</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#79B8FF;"> --ff-only</span><span style="color:#9ECBFF;"> feature-branch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 压缩合并</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> merge</span><span style="color:#79B8FF;"> --squash</span><span style="color:#9ECBFF;"> feature-branch</span></span></code></pre></div><h3 id="冲突解决" tabindex="-1">冲突解决 <a class="header-anchor" href="#冲突解决" aria-label="Permalink to &quot;冲突解决&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 查看冲突文件</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> status</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 使用工具解决冲突</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> mergetool</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 完成冲突解决</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> add</span><span style="color:#9ECBFF;"> resolved-file</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#9ECBFF;"> commit</span></span></code></pre></div>`,48)])])}const h=a(p,[["render",o]]);export{u as __pageData,h as default};
