import{_ as a,c as n,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const y=JSON.parse('{"title":"umijs æ’ä»¶ç³»ç»Ÿ","description":"","frontmatter":{},"headers":[{"level":2,"title":"æ’ä»¶ç³»ç»Ÿæ¦‚è¿°","slug":"æ’ä»¶ç³»ç»Ÿæ¦‚è¿°","link":"#æ’ä»¶ç³»ç»Ÿæ¦‚è¿°","children":[]},{"level":2,"title":"æ’ä»¶æ ¸å¿ƒæ¶æ„","slug":"æ’ä»¶æ ¸å¿ƒæ¶æ„","link":"#æ’ä»¶æ ¸å¿ƒæ¶æ„","children":[{"level":3,"title":"æ’ä»¶çš„åŸºæœ¬ç»“æ„","slug":"æ’ä»¶çš„åŸºæœ¬ç»“æ„","link":"#æ’ä»¶çš„åŸºæœ¬ç»“æ„","children":[]},{"level":3,"title":"é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§","slug":"é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§","link":"#é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§","children":[]}]},{"level":2,"title":"æ ¸å¿ƒ API è¯¦è§£","slug":"æ ¸å¿ƒ-api-è¯¦è§£","link":"#æ ¸å¿ƒ-api-è¯¦è§£","children":[{"level":3,"title":"æ’ä»¶æ³¨å†Œ API","slug":"æ’ä»¶æ³¨å†Œ-api","link":"#æ’ä»¶æ³¨å†Œ-api","children":[]},{"level":3,"title":"è¿è¡Œæ—¶æ‰©å±• API","slug":"è¿è¡Œæ—¶æ‰©å±•-api","link":"#è¿è¡Œæ—¶æ‰©å±•-api","children":[]},{"level":3,"title":"å…ƒä¿¡æ¯å£°æ˜ API","slug":"å…ƒä¿¡æ¯å£°æ˜-api","link":"#å…ƒä¿¡æ¯å£°æ˜-api","children":[]}]},{"level":2,"title":"é’©å­æ‰§è¡Œæœºåˆ¶","slug":"é’©å­æ‰§è¡Œæœºåˆ¶","link":"#é’©å­æ‰§è¡Œæœºåˆ¶","children":[{"level":3,"title":"é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼","slug":"é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼","link":"#é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼","children":[]},{"level":3,"title":"æ‰§è¡Œé¡ºåºæ§åˆ¶","slug":"æ‰§è¡Œé¡ºåºæ§åˆ¶","link":"#æ‰§è¡Œé¡ºåºæ§åˆ¶","children":[]}]},{"level":2,"title":"æ³¨å†Œå†…ç½®é’©å­","slug":"æ³¨å†Œå†…ç½®é’©å­","link":"#æ³¨å†Œå†…ç½®é’©å­","children":[]},{"level":2,"title":"è¿è¡Œæ—¶é…ç½®é›†æˆ","slug":"è¿è¡Œæ—¶é…ç½®é›†æˆ","link":"#è¿è¡Œæ—¶é…ç½®é›†æˆ","children":[{"level":3,"title":"å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº","slug":"å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº","link":"#å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº","children":[]}]},{"level":2,"title":"æ’ä»¶å¼€å‘å®è·µ","slug":"æ’ä»¶å¼€å‘å®è·µ","link":"#æ’ä»¶å¼€å‘å®è·µ","children":[{"level":3,"title":"ç®€å•æ’ä»¶ç¤ºä¾‹","slug":"ç®€å•æ’ä»¶ç¤ºä¾‹","link":"#ç®€å•æ’ä»¶ç¤ºä¾‹","children":[]},{"level":3,"title":"æ’ä»¶é…ç½®ä½¿ç”¨","slug":"æ’ä»¶é…ç½®ä½¿ç”¨","link":"#æ’ä»¶é…ç½®ä½¿ç”¨","children":[]}]},{"level":2,"title":"æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿","slug":"æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿","link":"#æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿","children":[]},{"level":2,"title":"æ’ä»¶åº”ç”¨åœºæ™¯","slug":"æ’ä»¶åº”ç”¨åœºæ™¯","link":"#æ’ä»¶åº”ç”¨åœºæ™¯","children":[]}],"relativePath":"framework/umijs/plugins.md","filePath":"framework/umijs/plugins.md"}'),e={name:"framework/umijs/plugins.md"};function o(t,s,r,c,i,E){return l(),n("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /framework/umijs/plugins.md for this page in Markdown format</div><h1 id="umijs-æ’ä»¶ç³»ç»Ÿ" tabindex="-1">umijs æ’ä»¶ç³»ç»Ÿ <a class="header-anchor" href="#umijs-æ’ä»¶ç³»ç»Ÿ" aria-label="Permalink to &quot;umijs æ’ä»¶ç³»ç»Ÿ&quot;">â€‹</a></h1><h2 id="æ’ä»¶ç³»ç»Ÿæ¦‚è¿°" tabindex="-1">æ’ä»¶ç³»ç»Ÿæ¦‚è¿° <a class="header-anchor" href="#æ’ä»¶ç³»ç»Ÿæ¦‚è¿°" aria-label="Permalink to &quot;æ’ä»¶ç³»ç»Ÿæ¦‚è¿°&quot;">â€‹</a></h2><p>UmiJS çš„æ’ä»¶ç³»ç»Ÿæ˜¯æ¡†æ¶çš„æ ¸å¿ƒæ‰©å±•æœºåˆ¶ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥å®ç°ç¼–è¯‘æ—¶æ‰©å±•ã€è¿è¡Œæ—¶æ‰©å±•å’Œç”Ÿæ€é›†æˆã€‚Umi æœ¬èº«ä¹Ÿæ˜¯ç”±æ’ä»¶æ„æˆï¼Œè¿™ç§æ’ä»¶åŒ–æ¶æ„ä½¿å¾—æ¡†æ¶å…·å¤‡äº†æé«˜çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><p>æ’ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä»·å€¼ï¼š</p><ul><li>ç¼–è¯‘æ—¶æ‰©å±•ï¼šä¿®æ”¹æ„å»ºé…ç½®ã€æ·»åŠ æ–‡ä»¶ã€æ³¨å†Œå‘½ä»¤</li><li>è¿è¡Œæ—¶æ‰©å±•ï¼šå¢å¼ºåº”ç”¨åŠŸèƒ½ã€æ·»åŠ å…¨å±€é€»è¾‘</li><li>ç”Ÿæ€é›†æˆï¼šæ— ç¼é›†æˆç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·</li></ul><h2 id="æ’ä»¶æ ¸å¿ƒæ¶æ„" tabindex="-1">æ’ä»¶æ ¸å¿ƒæ¶æ„ <a class="header-anchor" href="#æ’ä»¶æ ¸å¿ƒæ¶æ„" aria-label="Permalink to &quot;æ’ä»¶æ ¸å¿ƒæ¶æ„&quot;">â€‹</a></h2><h3 id="æ’ä»¶çš„åŸºæœ¬ç»“æ„" tabindex="-1">æ’ä»¶çš„åŸºæœ¬ç»“æ„ <a class="header-anchor" href="#æ’ä»¶çš„åŸºæœ¬ç»“æ„" aria-label="Permalink to &quot;æ’ä»¶çš„åŸºæœ¬ç»“æ„&quot;">â€‹</a></h3><p>æ¯ä¸ªæ’ä»¶éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ api å’Œ opts ä¸¤ä¸ªå‚æ•°ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">api</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">opts</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // æ’ä»¶é€»è¾‘</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre></div><h3 id="é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§" tabindex="-1">é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§ <a class="header-anchor" href="#é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§" aria-label="Permalink to &quot;é’©å­ç³»ç»Ÿçš„å…¨å±€æ€§&quot;">â€‹</a></h3><p>æ‰€æœ‰é€šè¿‡ <code>api.register()</code> æ³¨å†Œçš„é’©å­éƒ½å­˜å‚¨åœ¨å…¨å±€é’©å­æ± ä¸­ï¼Œä¸æ³¨å†Œå®ƒçš„æ’ä»¶æ²¡æœ‰ç»‘å®šå…³ç³»ã€‚è¿™ç§è®¾è®¡ä½¿å¾—è·¨æ’ä»¶è°ƒç”¨å˜å¾—ç®€å•ç›´æ¥ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// æ’ä»¶Aæ³¨å†Œé’©å­</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  key: </span><span style="color:#9ECBFF;">&#39;onDataReady&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">  fn</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> { console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;PluginAå¤„ç†æ•°æ®&#39;</span><span style="color:#E1E4E8;">, data); }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æ’ä»¶Bæ³¨å†ŒåŒåçš„é’©å­</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  key: </span><span style="color:#9ECBFF;">&#39;onDataReady&#39;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#B392F0;">  fn</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> { console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;PluginBå¤„ç†æ•°æ®&#39;</span><span style="color:#E1E4E8;">, data); }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// è§¦å‘æ—¶ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">applyPlugins</span><span style="color:#E1E4E8;">({ key: </span><span style="color:#9ECBFF;">&#39;onDataReady&#39;</span><span style="color:#E1E4E8;">, args: { value: </span><span style="color:#79B8FF;">42</span><span style="color:#E1E4E8;"> } });</span></span></code></pre></div><h2 id="æ ¸å¿ƒ-api-è¯¦è§£" tabindex="-1">æ ¸å¿ƒ API è¯¦è§£ <a class="header-anchor" href="#æ ¸å¿ƒ-api-è¯¦è§£" aria-label="Permalink to &quot;æ ¸å¿ƒ API è¯¦è§£&quot;">â€‹</a></h2><h3 id="æ’ä»¶æ³¨å†Œ-api" tabindex="-1">æ’ä»¶æ³¨å†Œ API <a class="header-anchor" href="#æ’ä»¶æ³¨å†Œ-api" aria-label="Permalink to &quot;æ’ä»¶æ³¨å†Œ API&quot;">â€‹</a></h3><h4 id="api-register-æ³¨å†Œå…¨å±€é’©å­" tabindex="-1">api.register - æ³¨å†Œå…¨å±€é’©å­ <a class="header-anchor" href="#api-register-æ³¨å†Œå…¨å±€é’©å­" aria-label="Permalink to &quot;api.register - æ³¨å†Œå…¨å±€é’©å­&quot;">â€‹</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  key: </span><span style="color:#9ECBFF;">&#39;modifyTitle&#39;</span><span style="color:#E1E4E8;">,           </span><span style="color:#6A737D;">// å…¨å±€é’©å­åç§°</span></span>
<span class="line"><span style="color:#B392F0;">  fn</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">memo</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> \`\${</span><span style="color:#E1E4E8;">memo</span><span style="color:#9ECBFF;">} - Umi Site\`</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">// å¤„ç†å‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">  stage: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,                    </span><span style="color:#6A737D;">// æ‰§è¡Œé¡ºåºï¼ˆæ•°å€¼å°ä¼˜å…ˆï¼‰</span></span>
<span class="line"><span style="color:#E1E4E8;">  before: </span><span style="color:#9ECBFF;">&#39;specificHook&#39;</span><span style="color:#6A737D;">        // æŒ‡å®šåœ¨ç‰¹å®šé’©å­å‰æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h4 id="api-applyplugins-è§¦å‘é’©å­" tabindex="-1">api.applyPlugins - è§¦å‘é’©å­ <a class="header-anchor" href="#api-applyplugins-è§¦å‘é’©å­" aria-label="Permalink to &quot;api.applyPlugins - è§¦å‘é’©å­&quot;">â€‹</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> result</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> api.</span><span style="color:#B392F0;">applyPlugins</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  key: </span><span style="color:#9ECBFF;">&#39;modifyTitle&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  type: api.ApplyPluginsType.modify, </span><span style="color:#6A737D;">// æ‰§è¡Œç±»å‹</span></span>
<span class="line"><span style="color:#E1E4E8;">  initialValue: </span><span style="color:#9ECBFF;">&#39;é¦–é¡µ&#39;</span><span style="color:#E1E4E8;">,               </span><span style="color:#6A737D;">// åˆå§‹å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">  args: { </span><span style="color:#6A737D;">/* é¢å¤–å‚æ•° */</span><span style="color:#E1E4E8;"> } </span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h3 id="è¿è¡Œæ—¶æ‰©å±•-api" tabindex="-1">è¿è¡Œæ—¶æ‰©å±• API <a class="header-anchor" href="#è¿è¡Œæ—¶æ‰©å±•-api" aria-label="Permalink to &quot;è¿è¡Œæ—¶æ‰©å±• API&quot;">â€‹</a></h3><h4 id="api-addruntimepluginkey-å£°æ˜è¿è¡Œæ—¶é…ç½®é”®" tabindex="-1">api.addRuntimePluginKey - å£°æ˜è¿è¡Œæ—¶é…ç½®é”® <a class="header-anchor" href="#api-addruntimepluginkey-å£°æ˜è¿è¡Œæ—¶é…ç½®é”®" aria-label="Permalink to &quot;api.addRuntimePluginKey - å£°æ˜è¿è¡Œæ—¶é…ç½®é”®&quot;">â€‹</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// å…è®¸åœ¨ app.ts ä¸­å®ç°åŒåæ–¹æ³•</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">addRuntimePluginKey</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;onThemeChange&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// src/app.ts</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> function</span><span style="color:#B392F0;"> onThemeChange</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">theme</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`ä¸»é¢˜å·²åˆ‡æ¢: \${</span><span style="color:#E1E4E8;">theme</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h4 id="api-addruntimeplugin-æ·»åŠ è¿è¡Œæ—¶æ–‡ä»¶" tabindex="-1">api.addRuntimePlugin - æ·»åŠ è¿è¡Œæ—¶æ–‡ä»¶ <a class="header-anchor" href="#api-addruntimeplugin-æ·»åŠ è¿è¡Œæ—¶æ–‡ä»¶" aria-label="Permalink to &quot;api.addRuntimePlugin - æ·»åŠ è¿è¡Œæ—¶æ–‡ä»¶&quot;">â€‹</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// æ·»åŠ è¿è¡Œæ—¶é€»è¾‘æ–‡ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">addRuntimePlugin</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> &#39;./runtime.js&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ./runtime.js  </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> function</span><span style="color:#B392F0;"> render</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">oldRender</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#B392F0;">  oldRender</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="å…ƒä¿¡æ¯å£°æ˜-api" tabindex="-1">å…ƒä¿¡æ¯å£°æ˜ API <a class="header-anchor" href="#å…ƒä¿¡æ¯å£°æ˜-api" aria-label="Permalink to &quot;å…ƒä¿¡æ¯å£°æ˜ API&quot;">â€‹</a></h3><h4 id="api-describe-å£°æ˜æ’ä»¶å…ƒä¿¡æ¯" tabindex="-1">api.describe - å£°æ˜æ’ä»¶å…ƒä¿¡æ¯ <a class="header-anchor" href="#api-describe-å£°æ˜æ’ä»¶å…ƒä¿¡æ¯" aria-label="Permalink to &quot;api.describe - å£°æ˜æ’ä»¶å…ƒä¿¡æ¯&quot;">â€‹</a></h4><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">describe</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  key: </span><span style="color:#9ECBFF;">&#39;themePlugin&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  config: {</span></span>
<span class="line"><span style="color:#B392F0;">    schema</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">Joi</span><span style="color:#E1E4E8;">) { </span><span style="color:#6A737D;">// é…ç½®æ ¡éªŒ</span></span>
<span class="line"><span style="color:#F97583;">      return</span><span style="color:#E1E4E8;"> Joi.</span><span style="color:#B392F0;">object</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        defaultTheme: Joi.</span><span style="color:#B392F0;">string</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">default</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;light&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      });</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  enableBy: api.EnableBy.config </span><span style="color:#6A737D;">// å¯ç”¨æ–¹å¼</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="é’©å­æ‰§è¡Œæœºåˆ¶" tabindex="-1">é’©å­æ‰§è¡Œæœºåˆ¶ <a class="header-anchor" href="#é’©å­æ‰§è¡Œæœºåˆ¶" aria-label="Permalink to &quot;é’©å­æ‰§è¡Œæœºåˆ¶&quot;">â€‹</a></h2><h3 id="é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼" tabindex="-1">é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼ <a class="header-anchor" href="#é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼" aria-label="Permalink to &quot;é’©å­ç±»å‹ä¸æ‰§è¡Œæ–¹å¼&quot;">â€‹</a></h3><p>UmiJS æ”¯æŒå¤šç§é’©å­ç±»å‹ï¼Œæ¯ç§ç±»å‹æœ‰ä¸åŒçš„æ‰§è¡Œé€»è¾‘ï¼š</p><table tabindex="0"><thead><tr><th>ç±»å‹</th><th>æ‰§è¡Œæ–¹å¼</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>event</td><td>å¹¶è¡Œæ‰§è¡Œ</td><td>æ— è¿”å›å€¼ä¼ é€’</td><td>é€šçŸ¥ç±»äº‹ä»¶ï¼ˆå¦‚æ—¥å¿—è®°å½•ï¼‰</td></tr><tr><td>modify</td><td>ç€‘å¸ƒæµ</td><td>ä¼ é€’ä¿®æ”¹ç»“æœ</td><td>é…ç½®ä¿®æ”¹é“¾</td></tr><tr><td>compose</td><td>ä¸²è¡Œç»„åˆ</td><td>ç»„åˆç»“æœ</td><td>è·¯ç”±æ”¶é›†ã€ä¸­é—´ä»¶ç»„åˆ</td></tr></tbody></table><h3 id="æ‰§è¡Œé¡ºåºæ§åˆ¶" tabindex="-1">æ‰§è¡Œé¡ºåºæ§åˆ¶ <a class="header-anchor" href="#æ‰§è¡Œé¡ºåºæ§åˆ¶" aria-label="Permalink to &quot;æ‰§è¡Œé¡ºåºæ§åˆ¶&quot;">â€‹</a></h3><p>é’©å­çš„æ‰§è¡Œé¡ºåºå¯ä»¥é€šè¿‡ stage å’Œ before/after å‚æ•°ç²¾ç¡®æ§åˆ¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({ key: </span><span style="color:#9ECBFF;">&#39;hook&#39;</span><span style="color:#E1E4E8;">, fn: fn1, stage: </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> }); </span><span style="color:#6A737D;">// å…ˆæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({ key: </span><span style="color:#9ECBFF;">&#39;hook&#39;</span><span style="color:#E1E4E8;">, fn: fn2, stage: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> });   </span><span style="color:#6A737D;">// åæ‰§è¡Œ</span></span></code></pre></div><h2 id="æ³¨å†Œå†…ç½®é’©å­" tabindex="-1">æ³¨å†Œå†…ç½®é’©å­ <a class="header-anchor" href="#æ³¨å†Œå†…ç½®é’©å­" aria-label="Permalink to &quot;æ³¨å†Œå†…ç½®é’©å­&quot;">â€‹</a></h2><p>UmiJS å…è®¸æ’ä»¶æ³¨å†Œåˆ°å†…ç½®é’©å­ï¼Œåœ¨æ¡†æ¶ç‰¹å®šç”Ÿå‘½å‘¨æœŸæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// plugins/custom-render-plugin.js</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">api</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // æ³¨å†Œåˆ° render é’©å­</span></span>
<span class="line"><span style="color:#E1E4E8;">  api.</span><span style="color:#B392F0;">register</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    key: </span><span style="color:#9ECBFF;">&#39;render&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">    fn</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">oldRender</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ğŸ”„ è‡ªå®šä¹‰æ’ä»¶å¼€å§‹å¤„ç†æ¸²æŸ“æµç¨‹&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> startTime</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> Date.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span></span>
<span class="line"><span style="color:#6A737D;">      // æ‰§è¡ŒåŸå§‹æ¸²æŸ“æ–¹æ³•</span></span>
<span class="line"><span style="color:#B392F0;">      oldRender</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span></span>
<span class="line"><span style="color:#F97583;">      const</span><span style="color:#79B8FF;"> duration</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> Date.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> startTime;</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`â±ï¸ æ¸²æŸ“å®Œæˆï¼Œè€—æ—¶ \${</span><span style="color:#E1E4E8;">duration</span><span style="color:#9ECBFF;">}ms\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    stage: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// ç¡®ä¿åœ¨å…¶ä»– render é’©å­ä¹‹åæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">    before: </span><span style="color:#9ECBFF;">&#39;finalRender&#39;</span><span style="color:#6A737D;"> // å¯æŒ‡å®šåœ¨ç‰¹å®šé’©å­å‰æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre></div><h2 id="è¿è¡Œæ—¶é…ç½®é›†æˆ" tabindex="-1">è¿è¡Œæ—¶é…ç½®é›†æˆ <a class="header-anchor" href="#è¿è¡Œæ—¶é…ç½®é›†æˆ" aria-label="Permalink to &quot;è¿è¡Œæ—¶é…ç½®é›†æˆ&quot;">â€‹</a></h2><h3 id="å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº" tabindex="-1">å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº <a class="header-anchor" href="#å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº" aria-label="Permalink to &quot;å†…ç½®æ–¹æ³•æ‰§è¡Œæ—¶æœº&quot;">â€‹</a></h3><p>UmiJS å†…ç½®çš„è¿è¡Œæ—¶é…ç½®æ–¹æ³•åœ¨ç‰¹å®šç”Ÿå‘½å‘¨æœŸé˜¶æ®µè¢«è°ƒç”¨ï¼š</p><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>æ‰§è¡Œæ—¶æœº</th><th>æ‰§è¡Œæ¬¡æ•°</th><th>æ˜¯å¦å¼‚æ­¥</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td>getInitialState</td><td>åº”ç”¨åˆå§‹åŒ–æ—¶æœ€æ—©æ‰§è¡Œ</td><td>ä»…1æ¬¡</td><td>æ”¯æŒ</td><td>è·å–åˆå§‹æ•°æ®</td></tr><tr><td>layout</td><td>åœ¨ getInitialState ä¹‹å</td><td>ä»…1æ¬¡</td><td>åŒæ­¥</td><td>ä¿®æ”¹å¸ƒå±€é…ç½®</td></tr><tr><td>patchRoutes</td><td>è·¯ç”±ç”Ÿæˆåã€æ¸²æŸ“å‰</td><td>æ¯æ¬¡è·¯ç”±å˜åŒ–</td><td>åŒæ­¥</td><td>åŠ¨æ€ä¿®æ”¹è·¯ç”±</td></tr><tr><td>render</td><td>åœ¨è·¯ç”±åŒ¹é…åã€ç»„ä»¶æ¸²æŸ“å‰</td><td>ä»…1æ¬¡</td><td>æ”¯æŒ</td><td>è‡ªå®šä¹‰æ¸²æŸ“æµç¨‹</td></tr><tr><td>onRouteChange</td><td>æ¯æ¬¡è·¯ç”±å˜åŒ–æ—¶</td><td>æ¯æ¬¡è·¯ç”±å˜åŒ–</td><td>åŒæ­¥</td><td>è·¯ç”±åˆ‡æ¢å¤„ç†</td></tr></tbody></table><h2 id="æ’ä»¶å¼€å‘å®è·µ" tabindex="-1">æ’ä»¶å¼€å‘å®è·µ <a class="header-anchor" href="#æ’ä»¶å¼€å‘å®è·µ" aria-label="Permalink to &quot;æ’ä»¶å¼€å‘å®è·µ&quot;">â€‹</a></h2><h3 id="ç®€å•æ’ä»¶ç¤ºä¾‹" tabindex="-1">ç®€å•æ’ä»¶ç¤ºä¾‹ <a class="header-anchor" href="#ç®€å•æ’ä»¶ç¤ºä¾‹" aria-label="Permalink to &quot;ç®€å•æ’ä»¶ç¤ºä¾‹&quot;">â€‹</a></h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåœ¨æ‰“åŒ…æ—¶æ·»åŠ é¢å¤–è„šæœ¬çš„æ’ä»¶ç¤ºä¾‹ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// plugins/plugin01.ts</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { IApi } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;umi&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#F97583;"> function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">api</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> IApi</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">  // ä½¿ç”¨ api.addHTMLHeadScripts æ–¹æ³•</span></span>
<span class="line"><span style="color:#E1E4E8;">  api.</span><span style="color:#B392F0;">addHTMLHeadScripts</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> \`console.log(&#39;æ–°æ·»åŠ çš„ä»£ç &#39;)\`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="æ’ä»¶é…ç½®ä½¿ç”¨" tabindex="-1">æ’ä»¶é…ç½®ä½¿ç”¨ <a class="header-anchor" href="#æ’ä»¶é…ç½®ä½¿ç”¨" aria-label="Permalink to &quot;æ’ä»¶é…ç½®ä½¿ç”¨&quot;">â€‹</a></h3><p>åœ¨ Umi é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨è‡ªå®šä¹‰æ’ä»¶ï¼š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// config.ts</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#B392F0;"> defineConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    require.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;../plugins/plugin02.ts&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#6A737D;">// åæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">    require.</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;../plugins/plugin01.ts&#39;</span><span style="color:#E1E4E8;">)  </span><span style="color:#6A737D;">// å…ˆæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre></div><h2 id="æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿" tabindex="-1">æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿ <a class="header-anchor" href="#æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿" aria-label="Permalink to &quot;æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿&quot;">â€‹</a></h2><p>UmiJS çš„æ’ä»¶æœºåˆ¶æ·±å…¥åˆ°æ„å»ºçš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œhook é‡è¦çš„æ—¶é—´èŠ‚ç‚¹ï¼Œè®©æ’ä»¶èƒ½å½±å“åç»­çš„æ„å»ºæµç¨‹ã€‚è¿™ç§è®¾è®¡å¸¦æ¥äº†æ˜¾è‘—çš„æ¶æ„ä¼˜åŠ¿ï¼š</p><ul><li><strong>æ‰©å±•æ€§</strong>ï¼šæ’ä»¶å¯ä»¥å½±å“æ„å»ºçš„æ¯ä¸ªç¯èŠ‚</li><li><strong>æ¨¡å—åŒ–</strong>ï¼šåŠŸèƒ½è§£è€¦ï¼Œä¾¿äºç»´æŠ¤å’Œæ›´æ–°</li><li><strong>ç”Ÿæ€ç¹è£</strong>ï¼šå†…éƒ¨å’Œå¤–éƒ¨æ’ä»¶å·²æœ‰ 50+</li><li><strong>ä¼ä¸šçº§æ”¯æŒ</strong>ï¼šç» 3000+ åº”ç”¨éªŒè¯</li></ul><h2 id="æ’ä»¶åº”ç”¨åœºæ™¯" tabindex="-1">æ’ä»¶åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#æ’ä»¶åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;æ’ä»¶åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><p>UmiJS æ’ä»¶å¹¿æ³›åº”ç”¨äºï¼š</p><ul><li><strong>è·¯ç”±ç®¡ç†</strong>ï¼šåŠ¨æ€è·¯ç”±ã€æƒé™è·¯ç”±ã€åµŒå¥—è·¯ç”±</li><li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šå¦‚ @umijs/plugin-model æä¾›çš„ç®€æ˜“æ•°æ®ç®¡ç†æ–¹æ¡ˆ</li><li><strong>æ„å»ºä¼˜åŒ–</strong>ï¼šä»£ç åˆ†å‰²ã€DLL æé€Ÿã€èµ„æºå¤„ç†</li><li><strong>å¼€å‘ä½“éªŒ</strong>ï¼šçƒ­æ›´æ–°ã€è°ƒè¯•å·¥å…·ã€ä»£ç ç”Ÿæˆ</li><li><strong>éƒ¨ç½²é€‚é…</strong>ï¼šSSRã€SSGã€ä¸åŒç¯å¢ƒé…ç½®</li></ul><p>æ’ä»¶ç³»ç»Ÿçš„å®Œå–„ä½¿å¾— UmiJS èƒ½å¤Ÿè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ã€‚</p>`,55)])])}const h=a(e,[["render",o]]);export{y as __pageData,h as default};
