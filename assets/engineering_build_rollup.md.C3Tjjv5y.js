import{_ as a,c as n,o as l,b as p}from"./chunks/framework.CMLuPXeo.js";const y=JSON.parse('{"title":"Rollup","description":"","frontmatter":{},"headers":[{"level":2,"title":"核心概念","slug":"核心概念","link":"#核心概念","children":[{"level":3,"title":"模块打包器","slug":"模块打包器","link":"#模块打包器","children":[]},{"level":3,"title":"ES6 模块优先","slug":"es6-模块优先","link":"#es6-模块优先","children":[]}]},{"level":2,"title":"主要特性","slug":"主要特性","link":"#主要特性","children":[{"level":3,"title":"Tree Shaking","slug":"tree-shaking","link":"#tree-shaking","children":[]},{"level":3,"title":"输出格式灵活","slug":"输出格式灵活","link":"#输出格式灵活","children":[]}]},{"level":2,"title":"基本使用","slug":"基本使用","link":"#基本使用","children":[{"level":3,"title":"安装与命令行使用","slug":"安装与命令行使用","link":"#安装与命令行使用","children":[]},{"level":3,"title":"配置文件","slug":"配置文件","link":"#配置文件","children":[]}]},{"level":2,"title":"进阶功能","slug":"进阶功能","link":"#进阶功能","children":[{"level":3,"title":"插件系统","slug":"插件系统","link":"#插件系统","children":[]},{"level":3,"title":"代码分割","slug":"代码分割","link":"#代码分割","children":[]},{"level":3,"title":"多入口打包","slug":"多入口打包","link":"#多入口打包","children":[]}]},{"level":2,"title":"输出优化","slug":"输出优化","link":"#输出优化","children":[{"level":3,"title":"多产物输出","slug":"多产物输出","link":"#多产物输出","children":[]},{"level":3,"title":"输出定制化","slug":"输出定制化","link":"#输出定制化","children":[]}]},{"level":2,"title":"与 Webpack 对比","slug":"与-webpack-对比","link":"#与-webpack-对比","children":[{"level":3,"title":"优势与局限","slug":"优势与局限","link":"#优势与局限","children":[]},{"level":3,"title":"适用场景","slug":"适用场景","link":"#适用场景","children":[]}]},{"level":2,"title":"实际应用","slug":"实际应用","link":"#实际应用","children":[{"level":3,"title":"现代前端工具链中的角色","slug":"现代前端工具链中的角色","link":"#现代前端工具链中的角色","children":[]},{"level":3,"title":"开发工作流","slug":"开发工作流","link":"#开发工作流","children":[]}]}],"relativePath":"engineering/build/rollup.md","filePath":"engineering/build/rollup.md"}'),e={name:"engineering/build/rollup.md"};function o(t,s,c,i,r,E){return l(),n("div",null,[...s[0]||(s[0]=[p(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /engineering/build/rollup.md for this page in Markdown format</div><h1 id="rollup" tabindex="-1">Rollup <a class="header-anchor" href="#rollup" aria-label="Permalink to &quot;Rollup&quot;">​</a></h1><p>Rollup 是一个 JavaScript 模块打包工具，可以将多个小的代码片段编译为完整的库和应用。与 Webpack 等传统打包工具不同，Rollup 充分利用 ES6 模块特性，专注于 JavaScript 库的打包，以输出更简洁、更高效的代码。</p><h2 id="核心概念" tabindex="-1">核心概念 <a class="header-anchor" href="#核心概念" aria-label="Permalink to &quot;核心概念&quot;">​</a></h2><h3 id="模块打包器" tabindex="-1">模块打包器 <a class="header-anchor" href="#模块打包器" aria-label="Permalink to &quot;模块打包器&quot;">​</a></h3><p>Rollup 将项目中分散的模块根据依赖关系打包成单个或多个整合文件。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>源文件结构:</span></span>
<span class="line"><span>[入口文件] -&gt; [依赖模块A] -&gt; [依赖模块B]</span></span>
<span class="line"><span>       |              |</span></span>
<span class="line"><span>      JS文件         CSS文件</span></span>
<span class="line"><span>       |              |</span></span>
<span class="line"><span>    [依赖模块C]    [图片资源]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打包过程:</span></span>
<span class="line"><span>[入口分析] -&gt; [依赖解析] -&gt; [Tree Shaking] -&gt; [代码合并] -&gt; [输出文件]</span></span>
<span class="line"><span>      |            |             |               |           |</span></span>
<span class="line"><span>  确定起点      收集所有依赖   消除未引用代码    整合模块    生成bundle</span></span></code></pre></div><h3 id="es6-模块优先" tabindex="-1">ES6 模块优先 <a class="header-anchor" href="#es6-模块优先" aria-label="Permalink to &quot;ES6 模块优先&quot;">​</a></h3><p>Rollup 使用 JavaScript 的 ES6 模块标准，而不是以前的 CommonJS 和 AMD 等特殊解决方案。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>模块系统对比:</span></span>
<span class="line"><span>CommonJS:  const utils = require(&#39;utils&#39;);  // 导入整个对象</span></span>
<span class="line"><span>ES6:      import { ajax } from &#39;utils&#39;;    // 只导入所需函数</span></span>
<span class="line"><span>                |</span></span>
<span class="line"><span>              更精确的依赖控制</span></span></code></pre></div><h2 id="主要特性" tabindex="-1">主要特性 <a class="header-anchor" href="#主要特性" aria-label="Permalink to &quot;主要特性&quot;">​</a></h2><h3 id="tree-shaking" tabindex="-1">Tree Shaking <a class="header-anchor" href="#tree-shaking" aria-label="Permalink to &quot;Tree Shaking&quot;">​</a></h3><p>Rollup 静态分析代码中的 import，排除任何未实际使用的代码。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Tree Shaking 效果:</span></span>
<span class="line"><span>源代码:</span></span>
<span class="line"><span>  export function square(x) { return x*x; }</span></span>
<span class="line"><span>  export function cube(x) { return x*x*x; }   // 未使用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打包后:</span></span>
<span class="line"><span>  function square(x) { return x*x; }          // 只保留使用的函数</span></span></code></pre></div><h3 id="输出格式灵活" tabindex="-1">输出格式灵活 <a class="header-anchor" href="#输出格式灵活" aria-label="Permalink to &quot;输出格式灵活&quot;">​</a></h3><p>Rollup 支持多种输出格式，适应不同环境需求。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>格式选择:</span></span>
<span class="line"><span>- esm:   ES 模块，现代浏览器中可用</span></span>
<span class="line"><span>- cjs:   CommonJS，适用于 Node.js</span></span>
<span class="line"><span>- iife:  自执行函数，适合 &lt;script&gt; 标签</span></span>
<span class="line"><span>- umd:   通用模块定义，兼容 AMD、CJS 和浏览器</span></span>
<span class="line"><span>- amd:   异步模块定义，用于 RequireJS</span></span>
<span class="line"><span>- system: SystemJS 加载器格式</span></span></code></pre></div><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h2><h3 id="安装与命令行使用" tabindex="-1">安装与命令行使用 <a class="header-anchor" href="#安装与命令行使用" aria-label="Permalink to &quot;安装与命令行使用&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 安装 Rollup</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> install</span><span style="color:#79B8FF;"> --global</span><span style="color:#9ECBFF;"> rollup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 命令行打包</span></span>
<span class="line"><span style="color:#B392F0;">rollup</span><span style="color:#9ECBFF;"> src/index.js</span><span style="color:#79B8FF;"> --format</span><span style="color:#9ECBFF;"> iife</span><span style="color:#79B8FF;"> --file</span><span style="color:#9ECBFF;"> dist/bundle.js</span></span></code></pre></div><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><p>创建 <code>rollup.config.js</code> 定义打包选项。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// rollup.config.js</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: </span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 入口文件</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    file: </span><span style="color:#9ECBFF;">&#39;dist/bundle.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 输出文件</span></span>
<span class="line"><span style="color:#E1E4E8;">    format: </span><span style="color:#9ECBFF;">&#39;iife&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 输出格式</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><p>使用配置文件打包：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">rollup</span><span style="color:#79B8FF;"> -c</span><span style="color:#6A737D;">  # 使用配置文件</span></span></code></pre></div><h2 id="进阶功能" tabindex="-1">进阶功能 <a class="header-anchor" href="#进阶功能" aria-label="Permalink to &quot;进阶功能&quot;">​</a></h2><h3 id="插件系统" tabindex="-1">插件系统 <a class="header-anchor" href="#插件系统" aria-label="Permalink to &quot;插件系统&quot;">​</a></h3><p>Rollup 通过插件扩展功能，处理不同类型资源和转换代码。</p><p>常用插件：</p><ul><li><code>rollup-plugin-node-resolve</code>：加载 npm 模块</li><li><code>rollup-plugin-commonjs</code>：将 CommonJS 模块转换为 ES6</li><li><code>rollup-plugin-json</code>：允许从 JSON 文件读取数据</li><li><code>rollup-plugin-terser</code>：代码压缩</li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 配置插件</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> resolve </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;rollup-plugin-node-resolve&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> commonjs </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;rollup-plugin-commonjs&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: </span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: { file: </span><span style="color:#9ECBFF;">&#39;dist/bundle.js&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;iife&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(), </span><span style="color:#B392F0;">commonjs</span><span style="color:#E1E4E8;">()],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="代码分割" tabindex="-1">代码分割 <a class="header-anchor" href="#代码分割" aria-label="Permalink to &quot;代码分割&quot;">​</a></h3><p>Rollup 支持动态导入，实现代码分割。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 动态导入</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./logger&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(({ </span><span style="color:#FFAB70;">log</span><span style="color:#E1E4E8;"> }) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#B392F0;">  log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;code splitting~&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 配置支持代码分割</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: </span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    dir: </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 必须指定目录</span></span>
<span class="line"><span style="color:#E1E4E8;">    format: </span><span style="color:#9ECBFF;">&#39;amd&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// iife 不支持代码分割</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="多入口打包" tabindex="-1">多入口打包 <a class="header-anchor" href="#多入口打包" aria-label="Permalink to &quot;多入口打包&quot;">​</a></h3><p>处理多个入口文件，自动提取公共模块。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 多入口配置</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // 数组形式</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: [</span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;src/album.js&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#6A737D;">  // 或对象形式</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    index: </span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    album: </span><span style="color:#9ECBFF;">&#39;src/album.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    dir: </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    format: </span><span style="color:#9ECBFF;">&#39;amd&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="输出优化" tabindex="-1">输出优化 <a class="header-anchor" href="#输出优化" aria-label="Permalink to &quot;输出优化&quot;">​</a></h2><h3 id="多产物输出" tabindex="-1">多产物输出 <a class="header-anchor" href="#多产物输出" aria-label="Permalink to &quot;多产物输出&quot;">​</a></h3><p>同一份代码打包成不同格式，提高兼容性。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 多产物配置</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> buildOptions</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: [</span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { dir: </span><span style="color:#9ECBFF;">&#39;dist/es&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;esm&#39;</span><span style="color:#E1E4E8;"> }, </span><span style="color:#6A737D;">// ES 模块</span></span>
<span class="line"><span style="color:#E1E4E8;">    { dir: </span><span style="color:#9ECBFF;">&#39;dist/cjs&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;cjs&#39;</span><span style="color:#E1E4E8;"> }, </span><span style="color:#6A737D;">// CommonJS</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h3 id="输出定制化" tabindex="-1">输出定制化 <a class="header-anchor" href="#输出定制化" aria-label="Permalink to &quot;输出定制化&quot;">​</a></h3><p>精细控制输出文件的命名和组织。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">output</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#B392F0;">  dir</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;dist&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">  // 使用占位符</span></span>
<span class="line"><span style="color:#B392F0;">  entryFileNames</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;[name].js&#39;</span><span style="color:#E1E4E8;">,           </span><span style="color:#6A737D;">// 入口文件名</span></span>
<span class="line"><span style="color:#B392F0;">  chunkFileNames</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;chunk-[hash].js&#39;</span><span style="color:#E1E4E8;">,     </span><span style="color:#6A737D;">// 代码分割块名</span></span>
<span class="line"><span style="color:#B392F0;">  assetFileNames</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;assets/[name]-[hash][extname]&#39;</span><span style="color:#6A737D;"> // 资源文件名</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div><h2 id="与-webpack-对比" tabindex="-1">与 Webpack 对比 <a class="header-anchor" href="#与-webpack-对比" aria-label="Permalink to &quot;与 Webpack 对比&quot;">​</a></h2><h3 id="优势与局限" tabindex="-1">优势与局限 <a class="header-anchor" href="#优势与局限" aria-label="Permalink to &quot;优势与局限&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>Rollup 优势:</span></span>
<span class="line"><span>[输出简洁] -&gt; [Tree Shaking] -&gt; [配置简单] -&gt; [性能优越]</span></span>
<span class="line"><span>     |            |               |            |</span></span>
<span class="line"><span>  代码可读     自动消除死代码    学习成本低    打包速度快</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Rollup 局限:</span></span>
<span class="line"><span>[生态较小] -&gt; [HMR 支持弱] -&gt; [复杂场景支持] -&gt; [加载非ESM]</span></span>
<span class="line"><span>     |            |               |            |</span></span>
<span class="line"><span> 插件较少     无内置热更新     应用开发受限   需要额外插件</span></span></code></pre></div><h3 id="适用场景" tabindex="-1">适用场景 <a class="header-anchor" href="#适用场景" aria-label="Permalink to &quot;适用场景&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>工具选择策略:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>开发应用程序 -&gt; Webpack</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>  功能全面、生态丰富、支持各种资源</span></span>
<span class="line"><span></span></span>
<span class="line"><span>开发框架/库 -&gt; Rollup</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>  输出简洁、Tree Shaking、性能优异</span></span></code></pre></div><h2 id="实际应用" tabindex="-1">实际应用 <a class="header-anchor" href="#实际应用" aria-label="Permalink to &quot;实际应用&quot;">​</a></h2><h3 id="现代前端工具链中的角色" tabindex="-1">现代前端工具链中的角色 <a class="header-anchor" href="#现代前端工具链中的角色" aria-label="Permalink to &quot;现代前端工具链中的角色&quot;">​</a></h3><p>Rollup 在现代前端生态中扮演重要角色，特别是作为 Vite 的构建基石。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>构建工具定位:</span></span>
<span class="line"><span>[源代码] -&gt; [Rollup 打包] -&gt; [优化输出] -&gt; [生产环境]</span></span>
<span class="line"><span>     |            |              |           |</span></span>
<span class="line"><span>   ES6 模块     依赖分析      Tree Shaking   各类格式</span></span></code></pre></div><h3 id="开发工作流" tabindex="-1">开发工作流 <a class="header-anchor" href="#开发工作流" aria-label="Permalink to &quot;开发工作流&quot;">​</a></h3><p>完整的 Rollup 开发环境配置：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 完整配置示例</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> resolve </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;rollup-plugin-node-resolve&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> commonjs </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;rollup-plugin-commonjs&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { terser } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;rollup-plugin-terser&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: </span><span style="color:#9ECBFF;">&#39;src/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { file: </span><span style="color:#9ECBFF;">&#39;dist/bundle.esm.js&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;esm&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { file: </span><span style="color:#9ECBFF;">&#39;dist/bundle.cjs.js&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;cjs&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { file: </span><span style="color:#9ECBFF;">&#39;dist/bundle.umd.js&#39;</span><span style="color:#E1E4E8;">, format: </span><span style="color:#9ECBFF;">&#39;umd&#39;</span><span style="color:#E1E4E8;">, name: </span><span style="color:#9ECBFF;">&#39;MyLibrary&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  plugins: [</span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(), </span><span style="color:#B392F0;">commonjs</span><span style="color:#E1E4E8;">(), </span><span style="color:#B392F0;">terser</span><span style="color:#E1E4E8;">()],</span></span>
<span class="line"><span style="color:#E1E4E8;">  watch: { include: </span><span style="color:#9ECBFF;">&#39;src/**&#39;</span><span style="color:#E1E4E8;"> }, </span><span style="color:#6A737D;">// 监听文件变化</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div>`,56)])])}const u=a(e,[["render",o]]);export{y as __pageData,u as default};
